(this["webpackJsonpkapwing-client"]=this["webpackJsonpkapwing-client"]||[]).push([[7],{1254:function(e,t,n){e.exports={home:"SubtitleCreateContainer_home__2s0T9",homeHowBackgroundWhite:"SubtitleCreateContainer_homeHowBackgroundWhite__393VF",homeHowBackgroundDark:"SubtitleCreateContainer_homeHowBackgroundDark__e-eW8",homeSplashText:"SubtitleCreateContainer_homeSplashText__2txq7",homeSplashSubtext:"SubtitleCreateContainer_homeSplashSubtext__3CR50",largeButton:"SubtitleCreateContainer_largeButton__2xbu5",largeButtonText:"SubtitleCreateContainer_largeButtonText__3GTDE",largeButtonChevron:"SubtitleCreateContainer_largeButtonChevron__36rXF",splashGetStartedButton:"SubtitleCreateContainer_splashGetStartedButton__2KL7Q",sectionContent:"SubtitleCreateContainer_sectionContent__29zFi",sectionHeader:"SubtitleCreateContainer_sectionHeader__1bA3h",spacer:"SubtitleCreateContainer_spacer__23vko",homeSectionDiv:"SubtitleCreateContainer_homeSectionDiv__3oULf",chevron:"SubtitleCreateContainer_chevron__1kpDG",getStartedText:"SubtitleCreateContainer_getStartedText__bC985",splashSectionDark:"SubtitleCreateContainer_splashSectionDark__2LDDe",splashSectionHeader:"SubtitleCreateContainer_splashSectionHeader__2MzVy",splashScreenshot:"SubtitleCreateContainer_splashScreenshot__3G1tt",splashScreenshotImage:"SubtitleCreateContainer_splashScreenshotImage__3bqPQ",mb0:"SubtitleCreateContainer_mb0__3hbsW",splashHowContainer:"SubtitleCreateContainer_splashHowContainer__2td08",homeHowBoxContainer:"SubtitleCreateContainer_homeHowBoxContainer__1xRsQ",homeHowBox:"SubtitleCreateContainer_homeHowBox__31B8p",homeHowText:"SubtitleCreateContainer_homeHowText__1cY7S",splashNumber:"SubtitleCreateContainer_splashNumber__2qOo7",splashDesc:"SubtitleCreateContainer_splashDesc__1gZ46",splashText:"SubtitleCreateContainer_splashText__1o78D",splashSubtext:"SubtitleCreateContainer_splashSubtext__bPkp_",textLeft:"SubtitleCreateContainer_textLeft__2QHy7",splashYoutubeVideo:"SubtitleCreateContainer_splashYoutubeVideo__2e1ZB",splashYoutubeVideoContainer:"SubtitleCreateContainer_splashYoutubeVideoContainer__1-tSC",aboutSection:"SubtitleCreateContainer_aboutSection__23HE1",mainHeader:"SubtitleCreateContainer_mainHeader__7CsVu",aboutContainer:"SubtitleCreateContainer_aboutContainer__2Si9N",aboutSubHeader:"SubtitleCreateContainer_aboutSubHeader__3YGt_",homeSectionHeader:"SubtitleCreateContainer_homeSectionHeader__t6oO8",mobile:"SubtitleCreateContainer_mobile__2P-Pi",desktop:"SubtitleCreateContainer_desktop__459NX",screenReaderOnlyLabel:"SubtitleCreateContainer_screenReaderOnlyLabel__1-URE",subtitlesEditorWrapper:"SubtitleCreateContainer_subtitlesEditorWrapper__1BXUB",subtitlesEditorSubtitlesContainer:"SubtitleCreateContainer_subtitlesEditorSubtitlesContainer__1VTWY",subtitlesEditorTopContainer:"SubtitleCreateContainer_subtitlesEditorTopContainer__pKZQl",subtitlesEditorHeaderText:"SubtitleCreateContainer_subtitlesEditorHeaderText__3bwB-",subtitlesEditorSubheaderText:"SubtitleCreateContainer_subtitlesEditorSubheaderText__2YiOT",subtitlesEditorSeeker:"SubtitleCreateContainer_subtitlesEditorSeeker__2sdQW",subtitlesEditorSubtitleListContainer:"SubtitleCreateContainer_subtitlesEditorSubtitleListContainer__2ak6J",subtitleToolBarPlaceHolder:"SubtitleCreateContainer_subtitleToolBarPlaceHolder__3PfOs",subtitlesEditorWrapperExpanded:"SubtitleCreateContainer_subtitlesEditorWrapperExpanded__3zQft",shortFooter:"SubtitleCreateContainer_shortFooter__2v7-l",doneButton:"SubtitleCreateContainer_doneButton__sSxsd",subtitlesEditorHeaderContainer:"SubtitleCreateContainer_subtitlesEditorHeaderContainer__H_Sie",logo:"SubtitleCreateContainer_logo__1-9K8",logoText:"SubtitleCreateContainer_logoText__34xxg",logoContainer:"SubtitleCreateContainer_logoContainer__32-WE",uploadStatus:"SubtitleCreateContainer_uploadStatus__8Ifqg",centerEmptyTimelinecontainer:"SubtitleCreateContainer_centerEmptyTimelinecontainer__3CG6v",emptyTimelineContainer:"SubtitleCreateContainer_emptyTimelineContainer__1A3bQ",outputSelectorContainer:"SubtitleCreateContainer_outputSelectorContainer__2Ntzv"}},1255:function(e,t,n){e.exports={home:"SceneActions_home__25DE1",homeHowBackgroundWhite:"SceneActions_homeHowBackgroundWhite__1-xo5",homeHowBackgroundDark:"SceneActions_homeHowBackgroundDark__2hAqZ",homeSplashText:"SceneActions_homeSplashText__WihDd",homeSplashSubtext:"SceneActions_homeSplashSubtext__1sdsY",largeButton:"SceneActions_largeButton__36cqL",largeButtonText:"SceneActions_largeButtonText__1Px09",largeButtonChevron:"SceneActions_largeButtonChevron__EerpD",splashGetStartedButton:"SceneActions_splashGetStartedButton__2imbc",sectionContent:"SceneActions_sectionContent__39e0v",sectionHeader:"SceneActions_sectionHeader__1lYSx",spacer:"SceneActions_spacer__3XN_6",homeSectionDiv:"SceneActions_homeSectionDiv__HetqY",chevron:"SceneActions_chevron__17Whs",getStartedText:"SceneActions_getStartedText__2DyDL",splashSectionDark:"SceneActions_splashSectionDark__mOKi6",splashSectionHeader:"SceneActions_splashSectionHeader__1q1ya",splashScreenshot:"SceneActions_splashScreenshot__14Iug",splashScreenshotImage:"SceneActions_splashScreenshotImage__1Qlr5",mb0:"SceneActions_mb0__11_2O",splashHowContainer:"SceneActions_splashHowContainer__zUOx-",homeHowBoxContainer:"SceneActions_homeHowBoxContainer__7iIST",homeHowBox:"SceneActions_homeHowBox__2XKkI",homeHowText:"SceneActions_homeHowText__3zeWO",splashNumber:"SceneActions_splashNumber__2dVcr",splashDesc:"SceneActions_splashDesc__2pmVO",splashText:"SceneActions_splashText__rmrVg",splashSubtext:"SceneActions_splashSubtext__1nEF4",textLeft:"SceneActions_textLeft__26q1o",splashYoutubeVideo:"SceneActions_splashYoutubeVideo__3ZnIY",splashYoutubeVideoContainer:"SceneActions_splashYoutubeVideoContainer__V4H2L",aboutSection:"SceneActions_aboutSection__3L8px",mainHeader:"SceneActions_mainHeader__1AYxw",aboutContainer:"SceneActions_aboutContainer__3P2wS",aboutSubHeader:"SceneActions_aboutSubHeader__L-6UJ",homeSectionHeader:"SceneActions_homeSectionHeader__2SEbf",mobile:"SceneActions_mobile__26cQ8",desktop:"SceneActions_desktop__1Xcu4",screenReaderOnlyLabel:"SceneActions_screenReaderOnlyLabel__1sXAM",actions:"SceneActions_actions__35SmZ",actionButton:"SceneActions_actionButton__3SAJR",actionButtonIcon:"SceneActions_actionButtonIcon__3qWQW",actionButtonText:"SceneActions_actionButtonText__15RTW",deleteButtonContainer:"SceneActions_deleteButtonContainer__3pMYT"}},1593:function(e,t,n){e.exports={home:"CanvasContainer_home__1OZXw",homeHowBackgroundWhite:"CanvasContainer_homeHowBackgroundWhite__OCXCl",homeHowBackgroundDark:"CanvasContainer_homeHowBackgroundDark__1EL1o",homeSplashText:"CanvasContainer_homeSplashText__NSJxd",homeSplashSubtext:"CanvasContainer_homeSplashSubtext__HxD66",largeButton:"CanvasContainer_largeButton__1JcrL",largeButtonText:"CanvasContainer_largeButtonText__3tEID",largeButtonChevron:"CanvasContainer_largeButtonChevron__1oMoE",splashGetStartedButton:"CanvasContainer_splashGetStartedButton__AFHtR",sectionContent:"CanvasContainer_sectionContent__HePRk",sectionHeader:"CanvasContainer_sectionHeader__3lX7f",spacer:"CanvasContainer_spacer__1JjE4",homeSectionDiv:"CanvasContainer_homeSectionDiv__2lX76",chevron:"CanvasContainer_chevron__1EE_u",getStartedText:"CanvasContainer_getStartedText__2fQW5",splashSectionDark:"CanvasContainer_splashSectionDark__mfG-m",splashSectionHeader:"CanvasContainer_splashSectionHeader__1j1W_",splashScreenshot:"CanvasContainer_splashScreenshot__3h4mu",splashScreenshotImage:"CanvasContainer_splashScreenshotImage__3EasL",mb0:"CanvasContainer_mb0__3cxG6",splashHowContainer:"CanvasContainer_splashHowContainer__3dy_E",homeHowBoxContainer:"CanvasContainer_homeHowBoxContainer__3eCML",homeHowBox:"CanvasContainer_homeHowBox__Si0_3",homeHowText:"CanvasContainer_homeHowText__gofS_",splashNumber:"CanvasContainer_splashNumber__3j7Bf",splashDesc:"CanvasContainer_splashDesc__c1Q_o",splashText:"CanvasContainer_splashText__2Nc0e",splashSubtext:"CanvasContainer_splashSubtext__GcZw4",textLeft:"CanvasContainer_textLeft__rIwkS",splashYoutubeVideo:"CanvasContainer_splashYoutubeVideo__au_XD",splashYoutubeVideoContainer:"CanvasContainer_splashYoutubeVideoContainer__3E5X3",aboutSection:"CanvasContainer_aboutSection__yWRD_",mainHeader:"CanvasContainer_mainHeader__mY6Jv",aboutContainer:"CanvasContainer_aboutContainer__3MCB5",aboutSubHeader:"CanvasContainer_aboutSubHeader__1lbGT",homeSectionHeader:"CanvasContainer_homeSectionHeader__1tDuT",mobile:"CanvasContainer_mobile__238It",desktop:"CanvasContainer_desktop__cpgnU",screenReaderOnlyLabel:"CanvasContainer_screenReaderOnlyLabel__1W6p3",canvasContainer:"CanvasContainer_canvasContainer__1VCSD"}},1594:function(e,t,n){e.exports={home:"Frame_home__3UbP4",homeHowBackgroundWhite:"Frame_homeHowBackgroundWhite__3WVrI",homeHowBackgroundDark:"Frame_homeHowBackgroundDark__1ytd3",homeSplashText:"Frame_homeSplashText__uFWm5",homeSplashSubtext:"Frame_homeSplashSubtext__3mmo6",largeButton:"Frame_largeButton__-cLCb",largeButtonText:"Frame_largeButtonText__25pJO",largeButtonChevron:"Frame_largeButtonChevron__3iYjI",splashGetStartedButton:"Frame_splashGetStartedButton__2cj5Y",sectionContent:"Frame_sectionContent__328K1",sectionHeader:"Frame_sectionHeader__3jQmn",spacer:"Frame_spacer__C7W7-",homeSectionDiv:"Frame_homeSectionDiv__3FUg4",chevron:"Frame_chevron__E1Fu7",getStartedText:"Frame_getStartedText__2_LlS",splashSectionDark:"Frame_splashSectionDark__3s9bn",splashSectionHeader:"Frame_splashSectionHeader__hYsee",splashScreenshot:"Frame_splashScreenshot__KxtFg",splashScreenshotImage:"Frame_splashScreenshotImage__3ceSI",mb0:"Frame_mb0__3rIbb",splashHowContainer:"Frame_splashHowContainer__1eHtv",homeHowBoxContainer:"Frame_homeHowBoxContainer__1GpO2",homeHowBox:"Frame_homeHowBox__9FBLa",homeHowText:"Frame_homeHowText__3JSkB",splashNumber:"Frame_splashNumber__22HPl",splashDesc:"Frame_splashDesc__1oZKN",splashText:"Frame_splashText__2s8lU",splashSubtext:"Frame_splashSubtext__3uuMP",textLeft:"Frame_textLeft__OWbJb",splashYoutubeVideo:"Frame_splashYoutubeVideo__TQlHK",splashYoutubeVideoContainer:"Frame_splashYoutubeVideoContainer__2NIdY",aboutSection:"Frame_aboutSection__2oCXy",mainHeader:"Frame_mainHeader__1f5kL",aboutContainer:"Frame_aboutContainer__2WPot",aboutSubHeader:"Frame_aboutSubHeader__GXgSm",homeSectionHeader:"Frame_homeSectionHeader__2AGrz",mobile:"Frame_mobile__1HIeZ",desktop:"Frame_desktop__1bAvW",screenReaderOnlyLabel:"Frame_screenReaderOnlyLabel__1dDZ9",frame:"Frame_frame__1XxiS",desktopTopFrame:"Frame_desktopTopFrame__3dwMh"}},1595:function(e,t,n){e.exports={home:"SnapLines_home__z--mn",homeHowBackgroundWhite:"SnapLines_homeHowBackgroundWhite__1S25J",homeHowBackgroundDark:"SnapLines_homeHowBackgroundDark__4Tuq7",homeSplashText:"SnapLines_homeSplashText__3YR6t",homeSplashSubtext:"SnapLines_homeSplashSubtext__1HTJv",largeButton:"SnapLines_largeButton__3Me8S",largeButtonText:"SnapLines_largeButtonText__1Qo18",largeButtonChevron:"SnapLines_largeButtonChevron__YnO3r",splashGetStartedButton:"SnapLines_splashGetStartedButton__3y4qt",sectionContent:"SnapLines_sectionContent__EC1IH",sectionHeader:"SnapLines_sectionHeader__3rhB4",spacer:"SnapLines_spacer__1xbQv",homeSectionDiv:"SnapLines_homeSectionDiv__27zlC",chevron:"SnapLines_chevron__9a2wW",getStartedText:"SnapLines_getStartedText__2XgE8",splashSectionDark:"SnapLines_splashSectionDark__3x0h6",splashSectionHeader:"SnapLines_splashSectionHeader__2omKN",splashScreenshot:"SnapLines_splashScreenshot__1VQzN",splashScreenshotImage:"SnapLines_splashScreenshotImage__231yk",mb0:"SnapLines_mb0__1LjJX",splashHowContainer:"SnapLines_splashHowContainer__1gGmt",homeHowBoxContainer:"SnapLines_homeHowBoxContainer__3a5Vk",homeHowBox:"SnapLines_homeHowBox__Kgs-r",homeHowText:"SnapLines_homeHowText__2DRRR",splashNumber:"SnapLines_splashNumber__-NziT",splashDesc:"SnapLines_splashDesc__1d3mY",splashText:"SnapLines_splashText__Ysd8Z",splashSubtext:"SnapLines_splashSubtext__13RDy",textLeft:"SnapLines_textLeft__217Na",splashYoutubeVideo:"SnapLines_splashYoutubeVideo__cmVL0",splashYoutubeVideoContainer:"SnapLines_splashYoutubeVideoContainer__3pIxS",aboutSection:"SnapLines_aboutSection__vU2ue",mainHeader:"SnapLines_mainHeader__3k2j1",aboutContainer:"SnapLines_aboutContainer__2WC1h",aboutSubHeader:"SnapLines_aboutSubHeader__3yzoZ",homeSectionHeader:"SnapLines_homeSectionHeader__1Bx1m",mobile:"SnapLines_mobile__nS2L0",desktop:"SnapLines_desktop__1g6mm",screenReaderOnlyLabel:"SnapLines_screenReaderOnlyLabel__N-Q-B",line:"SnapLines_line__3vIcO"}},1596:function(e,t,n){e.exports={canvas:"Canvas_canvas__2aAh6"}},1598:function(e,t,n){e.exports={home:"TimelineContainer_home__1if9H",homeHowBackgroundWhite:"TimelineContainer_homeHowBackgroundWhite__3M5bL",homeHowBackgroundDark:"TimelineContainer_homeHowBackgroundDark__1lDle",homeSplashText:"TimelineContainer_homeSplashText__2tV5y",homeSplashSubtext:"TimelineContainer_homeSplashSubtext__1TU4O",largeButton:"TimelineContainer_largeButton__2o1pM",largeButtonText:"TimelineContainer_largeButtonText__Q-mu5",largeButtonChevron:"TimelineContainer_largeButtonChevron__Cr98u",splashGetStartedButton:"TimelineContainer_splashGetStartedButton__2M__O",sectionContent:"TimelineContainer_sectionContent__2Bjue",sectionHeader:"TimelineContainer_sectionHeader__1bwY-",spacer:"TimelineContainer_spacer__yKTV4",homeSectionDiv:"TimelineContainer_homeSectionDiv__3kIis",chevron:"TimelineContainer_chevron__-wwZK",getStartedText:"TimelineContainer_getStartedText__PWHkh",splashSectionDark:"TimelineContainer_splashSectionDark__3pume",splashSectionHeader:"TimelineContainer_splashSectionHeader__b4X7q",splashScreenshot:"TimelineContainer_splashScreenshot__36_w7",splashScreenshotImage:"TimelineContainer_splashScreenshotImage__lr9tV",mb0:"TimelineContainer_mb0__2FCXg",splashHowContainer:"TimelineContainer_splashHowContainer__3_d7W",homeHowBoxContainer:"TimelineContainer_homeHowBoxContainer__3r8Xi",homeHowBox:"TimelineContainer_homeHowBox__hLvbe",homeHowText:"TimelineContainer_homeHowText__RslnX",splashNumber:"TimelineContainer_splashNumber__1OBoz",splashDesc:"TimelineContainer_splashDesc__270h4",splashText:"TimelineContainer_splashText__2yqzm",splashSubtext:"TimelineContainer_splashSubtext__2VsPi",textLeft:"TimelineContainer_textLeft__3XGN4",splashYoutubeVideo:"TimelineContainer_splashYoutubeVideo__2LXI6",splashYoutubeVideoContainer:"TimelineContainer_splashYoutubeVideoContainer__3IRI3",aboutSection:"TimelineContainer_aboutSection__2IiXL",mainHeader:"TimelineContainer_mainHeader__mvOar",aboutContainer:"TimelineContainer_aboutContainer__BFH86",aboutSubHeader:"TimelineContainer_aboutSubHeader__2WEyB",homeSectionHeader:"TimelineContainer_homeSectionHeader__entkx",mobile:"TimelineContainer_mobile__21k3K",desktop:"TimelineContainer_desktop__28hMw",screenReaderOnlyLabel:"TimelineContainer_screenReaderOnlyLabel__1fPyQ",timelineContainer:"TimelineContainer_timelineContainer__1KCSy",canvasPreviewSeekerContainer:"TimelineContainer_canvasPreviewSeekerContainer__2hvuz",timelineLink:"TimelineContainer_timelineLink__BRYCn",timelineButton:"TimelineContainer_timelineButton__2LYWZ"}},1599:function(e,t,n){e.exports={home:"TimelineResizer_home__21IHJ",homeHowBackgroundWhite:"TimelineResizer_homeHowBackgroundWhite__1JbX7",homeHowBackgroundDark:"TimelineResizer_homeHowBackgroundDark__PY8FF",homeSplashText:"TimelineResizer_homeSplashText__1IOW_",homeSplashSubtext:"TimelineResizer_homeSplashSubtext__2Aoej",largeButton:"TimelineResizer_largeButton__1pEUh",largeButtonText:"TimelineResizer_largeButtonText__HvUYq",largeButtonChevron:"TimelineResizer_largeButtonChevron__2zRU7",splashGetStartedButton:"TimelineResizer_splashGetStartedButton__2SRnP",sectionContent:"TimelineResizer_sectionContent__qAACT",sectionHeader:"TimelineResizer_sectionHeader__1q1YF",spacer:"TimelineResizer_spacer__1e_xR",homeSectionDiv:"TimelineResizer_homeSectionDiv__3xqK1",chevron:"TimelineResizer_chevron__3Sxlp",getStartedText:"TimelineResizer_getStartedText__1NRe9",splashSectionDark:"TimelineResizer_splashSectionDark__2QhjH",splashSectionHeader:"TimelineResizer_splashSectionHeader__1Lgth",splashScreenshot:"TimelineResizer_splashScreenshot__2HHzq",splashScreenshotImage:"TimelineResizer_splashScreenshotImage__1IrJX",mb0:"TimelineResizer_mb0__WL1KT",splashHowContainer:"TimelineResizer_splashHowContainer__LKofN",homeHowBoxContainer:"TimelineResizer_homeHowBoxContainer__2d39y",homeHowBox:"TimelineResizer_homeHowBox__14f-f",homeHowText:"TimelineResizer_homeHowText__ZsX4r",splashNumber:"TimelineResizer_splashNumber__3aSu6",splashDesc:"TimelineResizer_splashDesc__2eGM-",splashText:"TimelineResizer_splashText__1gE31",splashSubtext:"TimelineResizer_splashSubtext__2_729",textLeft:"TimelineResizer_textLeft__2Mbzk",splashYoutubeVideo:"TimelineResizer_splashYoutubeVideo__256Ef",splashYoutubeVideoContainer:"TimelineResizer_splashYoutubeVideoContainer__3xNGe",aboutSection:"TimelineResizer_aboutSection__3Ni_3",mainHeader:"TimelineResizer_mainHeader__3Xt7u",aboutContainer:"TimelineResizer_aboutContainer__1CWXL",aboutSubHeader:"TimelineResizer_aboutSubHeader__a6JPn",homeSectionHeader:"TimelineResizer_homeSectionHeader__1vSaS",mobile:"TimelineResizer_mobile__2jkVr",desktop:"TimelineResizer_desktop__63xxR",screenReaderOnlyLabel:"TimelineResizer_screenReaderOnlyLabel__8wgMc",actionButton:"TimelineResizer_actionButton__Z9b7o",actionButtonSelected:"TimelineResizer_actionButtonSelected__30wFR",trackSelected:"TimelineResizer_trackSelected__1fEU3",trackSelectedMaxLayer:"TimelineResizer_trackSelectedMaxLayer__1Deqx",tResizerBar:"TimelineResizer_tResizerBar__HI098",grab:"TimelineResizer_grab__1jTys",tResizerHandle:"TimelineResizer_tResizerHandle__1a7hX"}},1600:function(e,t,n){e.exports={container:"PluginWindow_container__7h2Kk",containerNoPointerEvents:"PluginWindow_containerNoPointerEvents__1ImDV",header:"PluginWindow_header__1SX96",closeIcon:"PluginWindow_closeIcon__1ovcB",topLeftResizer:"PluginWindow_topLeftResizer__2ALB2",topRightResizer:"PluginWindow_topRightResizer__i3y0l",bottomLeftResizer:"PluginWindow_bottomLeftResizer__3V0HK",bottomRightResizer:"PluginWindow_bottomRightResizer__3POXb",topResizer:"PluginWindow_topResizer__1p3BQ",bottomResizer:"PluginWindow_bottomResizer__3ak-a",leftResizer:"PluginWindow_leftResizer__1TUsV",rightResizer:"PluginWindow_rightResizer__2Qt28",isBackground:"PluginWindow_isBackground__1QQxq"}},1601:function(e,t,n){e.exports={iframe:"Plugins_iframe__2oD2d"}},1602:function(e,t,n){e.exports={home:"Blank_home__18Prf",homeHowBackgroundWhite:"Blank_homeHowBackgroundWhite__33dpv",homeHowBackgroundDark:"Blank_homeHowBackgroundDark__3yHaJ",homeSplashText:"Blank_homeSplashText__1S8Pd",homeSplashSubtext:"Blank_homeSplashSubtext__3GN7P",largeButton:"Blank_largeButton__3De9E",largeButtonText:"Blank_largeButtonText__3XhHm",largeButtonChevron:"Blank_largeButtonChevron__3V4xq",splashGetStartedButton:"Blank_splashGetStartedButton__28TSE",sectionContent:"Blank_sectionContent__3vAAA",sectionHeader:"Blank_sectionHeader__3exBt",spacer:"Blank_spacer__1bAh7",homeSectionDiv:"Blank_homeSectionDiv__1mgHl",chevron:"Blank_chevron__35CY_",getStartedText:"Blank_getStartedText__2kpq4",splashSectionDark:"Blank_splashSectionDark__1_ozi",splashSectionHeader:"Blank_splashSectionHeader__3SpUf",splashScreenshot:"Blank_splashScreenshot__3PPX0",splashScreenshotImage:"Blank_splashScreenshotImage__fLBZH",mb0:"Blank_mb0__3bq2R",splashHowContainer:"Blank_splashHowContainer__1wNn1",homeHowBoxContainer:"Blank_homeHowBoxContainer__3tomt",homeHowBox:"Blank_homeHowBox__1QcMv",homeHowText:"Blank_homeHowText__S93IK",splashNumber:"Blank_splashNumber__FeoJL",splashDesc:"Blank_splashDesc__3qzDg",splashText:"Blank_splashText__hbPHr",splashSubtext:"Blank_splashSubtext__3IvgG",textLeft:"Blank_textLeft__3oL2v",splashYoutubeVideo:"Blank_splashYoutubeVideo__3Srml",splashYoutubeVideoContainer:"Blank_splashYoutubeVideoContainer__5aDrS",aboutSection:"Blank_aboutSection__2WLye",mainHeader:"Blank_mainHeader__w24_t",aboutContainer:"Blank_aboutContainer__2M9RY",aboutSubHeader:"Blank_aboutSubHeader__2Y0WE",homeSectionHeader:"Blank_homeSectionHeader__2fi4X",mobile:"Blank_mobile__iy5h-",desktop:"Blank_desktop__3R8yg",screenReaderOnlyLabel:"Blank_screenReaderOnlyLabel__KmX-5",container:"Blank_container__1p4Pf",header:"Blank_header__2V30j",createFromBlank:"Blank_createFromBlank__3gKR5",or:"Blank_or__vECt5",createFromUpload:"Blank_createFromUpload__3qlcf",createFromBlankItem:"Blank_createFromBlankItem__3FwEJ"}},1621:function(e,t,n){e.exports={home:"CustomDurationSelector_home__2UQgU",homeHowBackgroundWhite:"CustomDurationSelector_homeHowBackgroundWhite__1r2xQ",homeHowBackgroundDark:"CustomDurationSelector_homeHowBackgroundDark__Y9Ds6",homeSplashText:"CustomDurationSelector_homeSplashText__1WqOG",homeSplashSubtext:"CustomDurationSelector_homeSplashSubtext__2EEKg",largeButton:"CustomDurationSelector_largeButton__ZSJIS",largeButtonText:"CustomDurationSelector_largeButtonText__3Tsik",largeButtonChevron:"CustomDurationSelector_largeButtonChevron__2eomW",splashGetStartedButton:"CustomDurationSelector_splashGetStartedButton__ZwSSU",sectionContent:"CustomDurationSelector_sectionContent__1cfVR",sectionHeader:"CustomDurationSelector_sectionHeader__15ZkJ",spacer:"CustomDurationSelector_spacer__3yhpX",homeSectionDiv:"CustomDurationSelector_homeSectionDiv__3SCIb",chevron:"CustomDurationSelector_chevron__3fXVv",getStartedText:"CustomDurationSelector_getStartedText__8P4hr",splashSectionDark:"CustomDurationSelector_splashSectionDark__SMwqC",splashSectionHeader:"CustomDurationSelector_splashSectionHeader__1CFj-",splashScreenshot:"CustomDurationSelector_splashScreenshot__wjyWI",splashScreenshotImage:"CustomDurationSelector_splashScreenshotImage__3kdpA",mb0:"CustomDurationSelector_mb0__1yKEV",splashHowContainer:"CustomDurationSelector_splashHowContainer__3UMoV",homeHowBoxContainer:"CustomDurationSelector_homeHowBoxContainer__JmHC7",homeHowBox:"CustomDurationSelector_homeHowBox__2oNL3",homeHowText:"CustomDurationSelector_homeHowText__2dJh2",splashNumber:"CustomDurationSelector_splashNumber__2UP6U",splashDesc:"CustomDurationSelector_splashDesc__s-S-I",splashText:"CustomDurationSelector_splashText__2hbaw",splashSubtext:"CustomDurationSelector_splashSubtext__3DLTO",textLeft:"CustomDurationSelector_textLeft__2z5dT",splashYoutubeVideo:"CustomDurationSelector_splashYoutubeVideo__3MXU4",splashYoutubeVideoContainer:"CustomDurationSelector_splashYoutubeVideoContainer__3NQMV",aboutSection:"CustomDurationSelector_aboutSection__2RUBr",mainHeader:"CustomDurationSelector_mainHeader__76kub",aboutContainer:"CustomDurationSelector_aboutContainer__2sgFU",aboutSubHeader:"CustomDurationSelector_aboutSubHeader__3N-jA",homeSectionHeader:"CustomDurationSelector_homeSectionHeader__1s5WC",mobile:"CustomDurationSelector_mobile__1qPx1",desktop:"CustomDurationSelector_desktop__2NNBw",screenReaderOnlyLabel:"CustomDurationSelector_screenReaderOnlyLabel__3WhzY",button:"CustomDurationSelector_button__2hofw",buttonDisabled:"CustomDurationSelector_buttonDisabled__24DNe",buttonSelected:"CustomDurationSelector_buttonSelected__2HTY6",buttonOk:"CustomDurationSelector_buttonOk__OtXbn",buttonStacked:"CustomDurationSelector_buttonStacked__3nrJF",doneButton:"CustomDurationSelector_doneButton__1TNYI",thinOverlayContentEditable:"CustomDurationSelector_thinOverlayContentEditable__1iIzS",outputHeader:"CustomDurationSelector_outputHeader__3Re1c",errorMessage:"CustomDurationSelector_errorMessage__2RZot",outputSelectorButton:"CustomDurationSelector_outputSelectorButton__2wPn_",customSelectButton:"CustomDurationSelector_customSelectButton__3b0v4",header:"CustomDurationSelector_header__2OeLo",inputContainer:"CustomDurationSelector_inputContainer__3Um79"}},1622:function(e,t,n){e.exports={pluginLabel:"PluginControl_pluginLabel__2ZM9J"}},1623:function(e,t,n){e.exports={home:"VideoEffectControls_home__1SOIO",homeHowBackgroundWhite:"VideoEffectControls_homeHowBackgroundWhite__3lRE8",homeHowBackgroundDark:"VideoEffectControls_homeHowBackgroundDark__27VfE",homeSplashText:"VideoEffectControls_homeSplashText__3rHLf",homeSplashSubtext:"VideoEffectControls_homeSplashSubtext__Dnkku",largeButton:"VideoEffectControls_largeButton__AdLMU",largeButtonText:"VideoEffectControls_largeButtonText__1wL8a",largeButtonChevron:"VideoEffectControls_largeButtonChevron__2rT6d",splashGetStartedButton:"VideoEffectControls_splashGetStartedButton__izoqd",sectionContent:"VideoEffectControls_sectionContent__3OfuF",sectionHeader:"VideoEffectControls_sectionHeader__170qt",spacer:"VideoEffectControls_spacer__3H-in",homeSectionDiv:"VideoEffectControls_homeSectionDiv__1pDf6",chevron:"VideoEffectControls_chevron__22qmX",getStartedText:"VideoEffectControls_getStartedText__Sy6oT",splashSectionDark:"VideoEffectControls_splashSectionDark__1obNy",splashSectionHeader:"VideoEffectControls_splashSectionHeader__39hU0",splashScreenshot:"VideoEffectControls_splashScreenshot__1z0nY",splashScreenshotImage:"VideoEffectControls_splashScreenshotImage__2WWBC",mb0:"VideoEffectControls_mb0__Kkk1j",splashHowContainer:"VideoEffectControls_splashHowContainer__nTvlE",homeHowBoxContainer:"VideoEffectControls_homeHowBoxContainer__2djmw",homeHowBox:"VideoEffectControls_homeHowBox__Q3L_L",homeHowText:"VideoEffectControls_homeHowText__1WflI",splashNumber:"VideoEffectControls_splashNumber__nAbRZ",splashDesc:"VideoEffectControls_splashDesc__Lgzoo",splashText:"VideoEffectControls_splashText__2WdTl",splashSubtext:"VideoEffectControls_splashSubtext__1EzDE",textLeft:"VideoEffectControls_textLeft__1_gt1",splashYoutubeVideo:"VideoEffectControls_splashYoutubeVideo__yccXb",splashYoutubeVideoContainer:"VideoEffectControls_splashYoutubeVideoContainer__1JVGE",aboutSection:"VideoEffectControls_aboutSection__2-3w6",mainHeader:"VideoEffectControls_mainHeader__UQjU5",aboutContainer:"VideoEffectControls_aboutContainer__3O5in",aboutSubHeader:"VideoEffectControls_aboutSubHeader__1qRBL",homeSectionHeader:"VideoEffectControls_homeSectionHeader___MzdF",mobile:"VideoEffectControls_mobile__1iBFn",desktop:"VideoEffectControls_desktop__2VZSW",screenReaderOnlyLabel:"VideoEffectControls_screenReaderOnlyLabel__2t-__",button:"VideoEffectControls_button__dzwTz",buttonDisabled:"VideoEffectControls_buttonDisabled__22xj9",buttonSelected:"VideoEffectControls_buttonSelected__247lg",buttonOk:"VideoEffectControls_buttonOk__2wkrU",buttonStacked:"VideoEffectControls_buttonStacked__Cif5t",doneButton:"VideoEffectControls_doneButton__2gSpg",footer:"VideoEffectControls_footer__ZPKVF",shortFooter:"VideoEffectControls_shortFooter__3di6Z",section:"VideoEffectControls_section__1ZPgt",fixedWidthSectionContent:"VideoEffectControls_fixedWidthSectionContent__2EpJT",controlsHeader:"VideoEffectControls_controlsHeader__3nWWk",divider:"VideoEffectControls_divider__2Qhy_",input:"VideoEffectControls_input__2bbDQ",redDoneButton:"VideoEffectControls_redDoneButton__1BW84",redDoneButtonContainer:"VideoEffectControls_redDoneButtonContainer__3hOtz",genericButton:"VideoEffectControls_genericButton__10psA",genericButtonSelected:"VideoEffectControls_genericButtonSelected__Qy3tY",controlContainer:"VideoEffectControls_controlContainer__16iNg",controlSection:"VideoEffectControls_controlSection__2-sNV",controlSectionRows:"VideoEffectControls_controlSectionRows__1Tt1K",controlSectionRowsNoWrap:"VideoEffectControls_controlSectionRowsNoWrap__3QCaf",controlSectionRowsFullWidth:"VideoEffectControls_controlSectionRowsFullWidth__HPILa",controlSectionRowsExpandChildren:"VideoEffectControls_controlSectionRowsExpandChildren__pa_Ki",controlSectionRowsTwoPerRow:"VideoEffectControls_controlSectionRowsTwoPerRow__-JiiR",controlSectionRowsTimeline:"VideoEffectControls_controlSectionRowsTimeline__2hQmu",controlSectionRowsIconAndControl:"VideoEffectControls_controlSectionRowsIconAndControl__3Iiby",controlSectionRowsNoMarginLeft:"VideoEffectControls_controlSectionRowsNoMarginLeft__13_yx",controlSectionRowsNoMarginRight:"VideoEffectControls_controlSectionRowsNoMarginRight__2zepq",controlSectionWrapColumns:"VideoEffectControls_controlSectionWrapColumns__2UvnU",controlSectionScrollableColumn:"VideoEffectControls_controlSectionScrollableColumn__2p_Zo",controlSectionTitle:"VideoEffectControls_controlSectionTitle__3XYDO",smallControlButton:"VideoEffectControls_smallControlButton__2BPUc",smallControlButtonDisabled:"VideoEffectControls_smallControlButtonDisabled__24kox",smallControlButtonSelected:"VideoEffectControls_smallControlButtonSelected__O6eXv",smallControlButtonLabel:"VideoEffectControls_smallControlButtonLabel__3Rujn",controlSectionRow:"VideoEffectControls_controlSectionRow__1KoQD",controlButtonIcon:"VideoEffectControls_controlButtonIcon__1PqKa",controlButtonOnlyIcon:"VideoEffectControls_controlButtonOnlyIcon__3Zq28",controlButtonOnlyIconRoundedSmallTheme:"VideoEffectControls_controlButtonOnlyIconRoundedSmallTheme__LC1TG",bigOverlayButton:"VideoEffectControls_bigOverlayButton___EWd-",bigOverlayButtonDisabled:"VideoEffectControls_bigOverlayButtonDisabled__2jWMr",bigOverlayButtonIcon:"VideoEffectControls_bigOverlayButtonIcon__BJl5D",incrementDecrementControl:"VideoEffectControls_incrementDecrementControl__3IkYg",incrementDecrementControlSmallTheme:"VideoEffectControls_incrementDecrementControlSmallTheme__33S9E",incrementDecrementControlExtraSmallTheme:"VideoEffectControls_incrementDecrementControlExtraSmallTheme__2qjdp",incrementDecrementButton:"VideoEffectControls_incrementDecrementButton__1bJUi",incrementDecrementButtonSmallTheme:"VideoEffectControls_incrementDecrementButtonSmallTheme__3_Chp",incrementDecrementControlValue:"VideoEffectControls_incrementDecrementControlValue__smPYU",incrementDecrementControlValueSmallTheme:"VideoEffectControls_incrementDecrementControlValueSmallTheme__1gYbL",incrementControl:"VideoEffectControls_incrementControl__3aTNe",decrementControl:"VideoEffectControls_decrementControl__1XCyh",disabledIncrementDecrementButton:"VideoEffectControls_disabledIncrementDecrementButton__3RXf2",colorPreview:"VideoEffectControls_colorPreview__2TY2C",colorPreviewControlList:"VideoEffectControls_colorPreviewControlList__3iVjp",colorPreviewControl:"VideoEffectControls_colorPreviewControl__6pvDj",controlSliderContainer:"VideoEffectControls_controlSliderContainer__2j1XT",controlSlider:"VideoEffectControls_controlSlider__1iZ_X",controlSliderTicks:"VideoEffectControls_controlSliderTicks__22q5n",controlSliderTick:"VideoEffectControls_controlSliderTick__2jpMX",tooltip:"VideoEffectControls_tooltip__160-p",menuMessage:"VideoEffectControls_menuMessage__3lwN3",selectDropDownContainer:"VideoEffectControls_selectDropDownContainer__3byEo",selectDropDownDisplay:"VideoEffectControls_selectDropDownDisplay__3Sith",selectDropDownLabel:"VideoEffectControls_selectDropDownLabel__AWXGQ",selectDropDownLink:"VideoEffectControls_selectDropDownLink__qGiBr",selectDropDownList:"VideoEffectControls_selectDropDownList__3bYSh",selectDropDownItem:"VideoEffectControls_selectDropDownItem__15pDb",bottomDivider:"VideoEffectControls_bottomDivider__2Stmy",selectDropDownItemSelected:"VideoEffectControls_selectDropDownItemSelected__1FmPz",selectDropDownShowing:"VideoEffectControls_selectDropDownShowing__2KHP0",dropDownButtonIcon:"VideoEffectControls_dropDownButtonIcon__3tHjw",selectOptionIcon:"VideoEffectControls_selectOptionIcon__1eVI0",transparentSelectInput:"VideoEffectControls_transparentSelectInput__3HuYj",selectOptionContainer:"VideoEffectControls_selectOptionContainer__1gP6A",dropDownHeader:"VideoEffectControls_dropDownHeader__UeWOB",noMargin:"VideoEffectControls_noMargin__2mWMf",halfWidth:"VideoEffectControls_halfWidth__2TNz-",fullWidth:"VideoEffectControls_fullWidth__2MZIf",selectDropDownIcon:"VideoEffectControls_selectDropDownIcon__2nfcs",oneoffUploadProgressContainer:"VideoEffectControls_oneoffUploadProgressContainer__ymirS",oneoffUploadProgressText:"VideoEffectControls_oneoffUploadProgressText__m7zUx",outlineControllerBox:"VideoEffectControls_outlineControllerBox__3CADc",timelineControlButton:"VideoEffectControls_timelineControlButton__2dBMP",timelineControlButtonSelected:"VideoEffectControls_timelineControlButtonSelected__3Hm8H",thin:"VideoEffectControls_thin__18pWY",tripletButtons:"VideoEffectControls_tripletButtons__1gbIj",iconAndLabelRow:"VideoEffectControls_iconAndLabelRow__1OwNg",removeBgPreviewContainer:"VideoEffectControls_removeBgPreviewContainer__Jjd3v",instructionalTextContainer:"VideoEffectControls_instructionalTextContainer__Sx_rp",removeBgPreview:"VideoEffectControls_removeBgPreview__78OnA"}},1624:function(e,t,n){e.exports={transitionControls:"TransitionControls_transitionControls__2RNAy"}},1625:function(e,t,n){e.exports={home:"DummyLayer_home__3CP9d",homeHowBackgroundWhite:"DummyLayer_homeHowBackgroundWhite__1uYOf",homeHowBackgroundDark:"DummyLayer_homeHowBackgroundDark__1jUZ0",homeSplashText:"DummyLayer_homeSplashText__2PkLq",homeSplashSubtext:"DummyLayer_homeSplashSubtext___zJG1",largeButton:"DummyLayer_largeButton__3ZSYn",largeButtonText:"DummyLayer_largeButtonText__2Vd8Z",largeButtonChevron:"DummyLayer_largeButtonChevron__1G0Iw",splashGetStartedButton:"DummyLayer_splashGetStartedButton__1dXwZ",sectionContent:"DummyLayer_sectionContent__1kvAz",sectionHeader:"DummyLayer_sectionHeader__12e3I",spacer:"DummyLayer_spacer__1wfzP",homeSectionDiv:"DummyLayer_homeSectionDiv__3nV6a",chevron:"DummyLayer_chevron__3oL7U",getStartedText:"DummyLayer_getStartedText__1s7tV",splashSectionDark:"DummyLayer_splashSectionDark__2tj4Z",splashSectionHeader:"DummyLayer_splashSectionHeader__2s2WX",splashScreenshot:"DummyLayer_splashScreenshot__1OrUo",splashScreenshotImage:"DummyLayer_splashScreenshotImage__18GdA",mb0:"DummyLayer_mb0__9vek-",splashHowContainer:"DummyLayer_splashHowContainer__3kcgP",homeHowBoxContainer:"DummyLayer_homeHowBoxContainer__3IPzA",homeHowBox:"DummyLayer_homeHowBox__3XnJe",homeHowText:"DummyLayer_homeHowText__tZhjC",splashNumber:"DummyLayer_splashNumber__25IZP",splashDesc:"DummyLayer_splashDesc__I0Bcw",splashText:"DummyLayer_splashText__n_7Mt",splashSubtext:"DummyLayer_splashSubtext___Mu6k",textLeft:"DummyLayer_textLeft__3VpRW",splashYoutubeVideo:"DummyLayer_splashYoutubeVideo__4NfKc",splashYoutubeVideoContainer:"DummyLayer_splashYoutubeVideoContainer__3M17I",aboutSection:"DummyLayer_aboutSection__1_fM-",mainHeader:"DummyLayer_mainHeader__2-Ps8",aboutContainer:"DummyLayer_aboutContainer__3kxJ5",aboutSubHeader:"DummyLayer_aboutSubHeader__3SWUB",homeSectionHeader:"DummyLayer_homeSectionHeader__3BJWo",mobile:"DummyLayer_mobile__1to3Z",desktop:"DummyLayer_desktop__3ReD1",screenReaderOnlyLabel:"DummyLayer_screenReaderOnlyLabel__1NCB4",button:"DummyLayer_button__18TnT",convertButton:"DummyLayer_convertButton__2WKMe",buttonDisabled:"DummyLayer_buttonDisabled__2xMdi",buttonSelected:"DummyLayer_buttonSelected__19LFh",buttonOk:"DummyLayer_buttonOk__3quWk",buttonStacked:"DummyLayer_buttonStacked__36STm",doneButton:"DummyLayer_doneButton__2IAMb",layerControl:"DummyLayer_layerControl__3afx1",layerControlLeft:"DummyLayer_layerControlLeft__1CfDy",renameLayerInput:"DummyLayer_renameLayerInput__3adrU",layerControlRight:"DummyLayer_layerControlRight__1fynD",layerTypeIcon:"DummyLayer_layerTypeIcon__11TJV",layerErrorIcon:"DummyLayer_layerErrorIcon__v9_LJ",layerActionIcon:"DummyLayer_layerActionIcon__e4-Mh",deleteLayerIcon:"DummyLayer_deleteLayerIcon__1xcMa",layerLockIcon:"DummyLayer_layerLockIcon__3BXck",layerLockedIcon:"DummyLayer_layerLockedIcon__14T_T",listItem:"DummyLayer_listItem__1ZjQA",renameLayerInputContainer:"DummyLayer_renameLayerInputContainer__2H0kD",subtext:"DummyLayer_subtext__189Sf",emptyText:"DummyLayer_emptyText__2gqi6",timingText:"DummyLayer_timingText__1zu7Y",layersText:"DummyLayer_layersText__3zOgE",timingTab:"DummyLayer_timingTab__1hamw",textStyle:"DummyLayer_textStyle__38ALt"}},1626:function(e,t,n){e.exports={helperText:"Eyedropper_helperText__2cba-",colorPreviewContainer:"Eyedropper_colorPreviewContainer__3kgJF",colorPreview:"Eyedropper_colorPreview__z2tjS",colorPreviewText:"Eyedropper_colorPreviewText__2RkAi"}},1627:function(e,t,n){e.exports={canvasMobileToolTrayContainer:"MobileToolTray_canvasMobileToolTrayContainer__3YHO0",canvasMobileToolTrayHeader:"MobileToolTray_canvasMobileToolTrayHeader__d4pwc",exit:"MobileToolTray_exit__AJW79"}},1628:function(e,t,n){e.exports={home:"EditLayer_home__26y52",homeHowBackgroundWhite:"EditLayer_homeHowBackgroundWhite__2xz5w",homeHowBackgroundDark:"EditLayer_homeHowBackgroundDark__3XHvE",homeSplashText:"EditLayer_homeSplashText__MD8sK",homeSplashSubtext:"EditLayer_homeSplashSubtext__2ZrOx",largeButton:"EditLayer_largeButton__3Zt93",largeButtonText:"EditLayer_largeButtonText__2x-Vh",largeButtonChevron:"EditLayer_largeButtonChevron__23-nA",splashGetStartedButton:"EditLayer_splashGetStartedButton__kVoaP",sectionContent:"EditLayer_sectionContent__10r67",sectionHeader:"EditLayer_sectionHeader__2PTSs",spacer:"EditLayer_spacer__14dMW",homeSectionDiv:"EditLayer_homeSectionDiv__36ZSl",chevron:"EditLayer_chevron__3diGo",getStartedText:"EditLayer_getStartedText__1H8Zw",splashSectionDark:"EditLayer_splashSectionDark__1XX1M",splashSectionHeader:"EditLayer_splashSectionHeader__1-rty",splashScreenshot:"EditLayer_splashScreenshot__1I6jt",splashScreenshotImage:"EditLayer_splashScreenshotImage__3K2HR",mb0:"EditLayer_mb0__3Ymj5",splashHowContainer:"EditLayer_splashHowContainer__1uHBf",homeHowBoxContainer:"EditLayer_homeHowBoxContainer__33wHh",homeHowBox:"EditLayer_homeHowBox__2CuPF",homeHowText:"EditLayer_homeHowText__c2CVh",splashNumber:"EditLayer_splashNumber__190_a",splashDesc:"EditLayer_splashDesc__2cIec",splashText:"EditLayer_splashText__22Ajd",splashSubtext:"EditLayer_splashSubtext__3Owf8",textLeft:"EditLayer_textLeft__3dZ5D",splashYoutubeVideo:"EditLayer_splashYoutubeVideo__2Dfk5",splashYoutubeVideoContainer:"EditLayer_splashYoutubeVideoContainer__2PDaV",aboutSection:"EditLayer_aboutSection__NUQJC",mainHeader:"EditLayer_mainHeader__oOV80",aboutContainer:"EditLayer_aboutContainer__6Xqbw",aboutSubHeader:"EditLayer_aboutSubHeader__2mMw8",homeSectionHeader:"EditLayer_homeSectionHeader__3_Be_",mobile:"EditLayer_mobile__133o9",desktop:"EditLayer_desktop__YekA3",screenReaderOnlyLabel:"EditLayer_screenReaderOnlyLabel__eQb9N",editLayerButtonContainer:"EditLayer_editLayerButtonContainer__xBL-D"}},1629:function(e,t,n){e.exports={home:"Body_home__32rES",homeHowBackgroundWhite:"Body_homeHowBackgroundWhite__1VqNs",homeHowBackgroundDark:"Body_homeHowBackgroundDark__nnWo9",homeSplashText:"Body_homeSplashText__2xZXq",homeSplashSubtext:"Body_homeSplashSubtext__3TE_7",largeButton:"Body_largeButton__2tDxh",largeButtonText:"Body_largeButtonText__2rMlv",largeButtonChevron:"Body_largeButtonChevron__2-Qxd",splashGetStartedButton:"Body_splashGetStartedButton__39-fx",sectionContent:"Body_sectionContent__1Az5M",sectionHeader:"Body_sectionHeader__NzbdD",spacer:"Body_spacer__4vrIm",homeSectionDiv:"Body_homeSectionDiv__3Cwwx",chevron:"Body_chevron__3G8Kz",getStartedText:"Body_getStartedText__3_mk6",splashSectionDark:"Body_splashSectionDark__3n28j",splashSectionHeader:"Body_splashSectionHeader__1MqIo",splashScreenshot:"Body_splashScreenshot__Xro0z",splashScreenshotImage:"Body_splashScreenshotImage__3l0nR",mb0:"Body_mb0__3EjEi",splashHowContainer:"Body_splashHowContainer__SD7gt",homeHowBoxContainer:"Body_homeHowBoxContainer__hrqDs",homeHowBox:"Body_homeHowBox__3ddDG",homeHowText:"Body_homeHowText__1S62N",splashNumber:"Body_splashNumber__1-6k3",splashDesc:"Body_splashDesc__BVJL0",splashText:"Body_splashText__9GwbH",splashSubtext:"Body_splashSubtext__2kY2u",textLeft:"Body_textLeft__13sBq",splashYoutubeVideo:"Body_splashYoutubeVideo__1E1Uq",splashYoutubeVideoContainer:"Body_splashYoutubeVideoContainer__1VeGa",aboutSection:"Body_aboutSection__1wt_9",mainHeader:"Body_mainHeader__1J0hM",aboutContainer:"Body_aboutContainer__1qBr3",aboutSubHeader:"Body_aboutSubHeader__3M1RE",homeSectionHeader:"Body_homeSectionHeader__MS8_P",mobile:"Body_mobile__kDrni",desktop:"Body_desktop__2bVwf",screenReaderOnlyLabel:"Body_screenReaderOnlyLabel__1xfT4",studioBody:"Body_studioBody__scZOj",studioBodyLeft:"Body_studioBodyLeft__2MIZG",canvasAndScenesContainer:"Body_canvasAndScenesContainer__SPKXr"}},1630:function(e,t,n){e.exports={home:"Back_home__QfoP6",homeHowBackgroundWhite:"Back_homeHowBackgroundWhite__11-Nj",homeHowBackgroundDark:"Back_homeHowBackgroundDark__3lCDn",homeSplashText:"Back_homeSplashText__1T4az",homeSplashSubtext:"Back_homeSplashSubtext__A9n-o",largeButton:"Back_largeButton__mp5Ux",largeButtonText:"Back_largeButtonText__1sinj",largeButtonChevron:"Back_largeButtonChevron__QpP0Z",splashGetStartedButton:"Back_splashGetStartedButton__rFUav",sectionContent:"Back_sectionContent__1YzXs",sectionHeader:"Back_sectionHeader__21Bk9",spacer:"Back_spacer__UpPHt",homeSectionDiv:"Back_homeSectionDiv__3f7mw",chevron:"Back_chevron__3SSf1",getStartedText:"Back_getStartedText__CDFOE",splashSectionDark:"Back_splashSectionDark__7cq3s",splashSectionHeader:"Back_splashSectionHeader__3tCnt",splashScreenshot:"Back_splashScreenshot__2WY2g",splashScreenshotImage:"Back_splashScreenshotImage__3HHvn",mb0:"Back_mb0__2slWf",splashHowContainer:"Back_splashHowContainer__1YoBQ",homeHowBoxContainer:"Back_homeHowBoxContainer__2SBCZ",homeHowBox:"Back_homeHowBox__1lLvT",homeHowText:"Back_homeHowText__2AJ9S",splashNumber:"Back_splashNumber__2Dt7I",splashDesc:"Back_splashDesc__oIuN5",splashText:"Back_splashText__3Qpob",splashSubtext:"Back_splashSubtext__2bDhj",textLeft:"Back_textLeft__2D-Kk",splashYoutubeVideo:"Back_splashYoutubeVideo__2MXJo",splashYoutubeVideoContainer:"Back_splashYoutubeVideoContainer__24a8e",aboutSection:"Back_aboutSection__1mAIg",mainHeader:"Back_mainHeader__3-fQa",aboutContainer:"Back_aboutContainer__1aEHA",aboutSubHeader:"Back_aboutSubHeader__3c6N2",homeSectionHeader:"Back_homeSectionHeader__HtYpa",mobile:"Back_mobile__33YJx",desktop:"Back_desktop__3thy9",screenReaderOnlyLabel:"Back_screenReaderOnlyLabel__10mKI",button:"Back_button__1iKSq",convertButton:"Back_convertButton__24kM5",buttonDisabled:"Back_buttonDisabled__1Cya4",buttonSelected:"Back_buttonSelected__1KUen",buttonOk:"Back_buttonOk__zdc2n",buttonStacked:"Back_buttonStacked__39yeS",doneButton:"Back_doneButton__2cwOq",layerControl:"Back_layerControl__3mM70",layerControlLeft:"Back_layerControlLeft__2ubhm",renameLayerInput:"Back_renameLayerInput__17FmG",layerControlRight:"Back_layerControlRight__1uVgk",layerTypeIcon:"Back_layerTypeIcon__BWRGZ",layerErrorIcon:"Back_layerErrorIcon__2RCg9",layerActionIcon:"Back_layerActionIcon__1s0Ty",deleteLayerIcon:"Back_deleteLayerIcon__YlSNw",layerLockIcon:"Back_layerLockIcon__3aUqT",layerLockedIcon:"Back_layerLockedIcon__16GPO",listItem:"Back_listItem__hAPih",renameLayerInputContainer:"Back_renameLayerInputContainer__1KuiT",subtext:"Back_subtext__Yqgfz",emptyText:"Back_emptyText__2RhaP",timingText:"Back_timingText__2pE_A",layersText:"Back_layersText__1jj2h",timingTab:"Back_timingTab__2AgK4",backButton:"Back_backButton__3BJt7",backButtonSpacer:"Back_backButtonSpacer__b3wNi",buttonIcon:"Back_buttonIcon__2H_zJ",buttonLabel:"Back_buttonLabel__3Wdb1",buttonContent:"Back_buttonContent__1amAC"}},1631:function(e,t,n){e.exports={home:"SceneViewHeader_home__3rq5R",homeHowBackgroundWhite:"SceneViewHeader_homeHowBackgroundWhite__2eq6Y",homeHowBackgroundDark:"SceneViewHeader_homeHowBackgroundDark__22u6w",homeSplashText:"SceneViewHeader_homeSplashText__1pdwP",homeSplashSubtext:"SceneViewHeader_homeSplashSubtext__UxpV7",largeButton:"SceneViewHeader_largeButton__2XZIK",largeButtonText:"SceneViewHeader_largeButtonText__2knby",largeButtonChevron:"SceneViewHeader_largeButtonChevron__vz9d9",splashGetStartedButton:"SceneViewHeader_splashGetStartedButton__2bmZq",sectionContent:"SceneViewHeader_sectionContent__WzUAA",sectionHeader:"SceneViewHeader_sectionHeader__39fke",spacer:"SceneViewHeader_spacer__3TesF",homeSectionDiv:"SceneViewHeader_homeSectionDiv__37uDo",chevron:"SceneViewHeader_chevron__2Ua5b",getStartedText:"SceneViewHeader_getStartedText__39JOy",splashSectionDark:"SceneViewHeader_splashSectionDark__Ze1ND",splashSectionHeader:"SceneViewHeader_splashSectionHeader__3v1SB",splashScreenshot:"SceneViewHeader_splashScreenshot__3j5Le",splashScreenshotImage:"SceneViewHeader_splashScreenshotImage__2khOw",mb0:"SceneViewHeader_mb0__2R-m5",splashHowContainer:"SceneViewHeader_splashHowContainer__2dKfy",homeHowBoxContainer:"SceneViewHeader_homeHowBoxContainer__3ebQh",homeHowBox:"SceneViewHeader_homeHowBox__1YREY",homeHowText:"SceneViewHeader_homeHowText__1-8ie",splashNumber:"SceneViewHeader_splashNumber__2zWRP",splashDesc:"SceneViewHeader_splashDesc__2V-l0",splashText:"SceneViewHeader_splashText__yQgs-",splashSubtext:"SceneViewHeader_splashSubtext__o76fs",textLeft:"SceneViewHeader_textLeft__-YJ_z",splashYoutubeVideo:"SceneViewHeader_splashYoutubeVideo__3JK7f",splashYoutubeVideoContainer:"SceneViewHeader_splashYoutubeVideoContainer__2mPWH",aboutSection:"SceneViewHeader_aboutSection__3gA7S",mainHeader:"SceneViewHeader_mainHeader__2ehKZ",aboutContainer:"SceneViewHeader_aboutContainer__VnaOB",aboutSubHeader:"SceneViewHeader_aboutSubHeader__2R16d",homeSectionHeader:"SceneViewHeader_homeSectionHeader__tBniR",mobile:"SceneViewHeader_mobile__3ZPcd",desktop:"SceneViewHeader_desktop__17JlS",screenReaderOnlyLabel:"SceneViewHeader_screenReaderOnlyLabel__3mNN1",logo:"SceneViewHeader_logo__2UzcK",logoText:"SceneViewHeader_logoText__1nvRX",headerContainer:"SceneViewHeader_headerContainer__CC2Ft",impersonating:"SceneViewHeader_impersonating__2iYFQ",headerRowTopProjectName:"SceneViewHeader_headerRowTopProjectName__1qxNn",headerLeft:"SceneViewHeader_headerLeft__1x1Tm",headerRight:"SceneViewHeader_headerRight__22ZoG",headerRightContent:"SceneViewHeader_headerRightContent__1POJy",headerButtonContainer:"SceneViewHeader_headerButtonContainer__2BhxZ",headerButtonIcon:"SceneViewHeader_headerButtonIcon__3TWwQ",accountButton:"SceneViewHeader_accountButton__BVakY",headerLogoContainer:"SceneViewHeader_headerLogoContainer__1vsXP",uploadButton:"SceneViewHeader_uploadButton__ZgjF_",signInButton:"SceneViewHeader_signInButton__wL9qt",breadcrumbContainer:"SceneViewHeader_breadcrumbContainer__2S_Ay",arrow:"SceneViewHeader_arrow__3Azgl",breadcrumb:"SceneViewHeader_breadcrumb__8qUUh",breadcrumbSelected:"SceneViewHeader_breadcrumbSelected__2BC8f",upgradeLabel:"SceneViewHeader_upgradeLabel__1RfxF"}},1632:function(e,t,n){e.exports={controlsContainer:"SceneViewControls_controlsContainer__3K767",controlSection:"SceneViewControls_controlSection__Ic_h4",controlSectionTitle:"SceneViewControls_controlSectionTitle__3ePid"}},1633:function(e,t,n){e.exports={home:"Scene_home__2i_yo",homeHowBackgroundWhite:"Scene_homeHowBackgroundWhite__117At",homeHowBackgroundDark:"Scene_homeHowBackgroundDark__2J6rV",homeSplashText:"Scene_homeSplashText__3VS1_",homeSplashSubtext:"Scene_homeSplashSubtext__132Fs",largeButton:"Scene_largeButton__CHcc9",largeButtonText:"Scene_largeButtonText__2TJ6L",largeButtonChevron:"Scene_largeButtonChevron__pyVw2",splashGetStartedButton:"Scene_splashGetStartedButton__3Axca",sectionContent:"Scene_sectionContent__2Lg2z",sectionHeader:"Scene_sectionHeader__1BrLT",spacer:"Scene_spacer__2mJq8",homeSectionDiv:"Scene_homeSectionDiv__3c5yv",chevron:"Scene_chevron__1zqUW",getStartedText:"Scene_getStartedText__A8HyI",splashSectionDark:"Scene_splashSectionDark__2ILW9",splashSectionHeader:"Scene_splashSectionHeader__zLZMW",splashScreenshot:"Scene_splashScreenshot__3GiG7",splashScreenshotImage:"Scene_splashScreenshotImage__35jm9",mb0:"Scene_mb0__19nFI",splashHowContainer:"Scene_splashHowContainer__165e2",homeHowBoxContainer:"Scene_homeHowBoxContainer__3fmkX",homeHowBox:"Scene_homeHowBox__1fB6a",homeHowText:"Scene_homeHowText__5UhN7",splashNumber:"Scene_splashNumber__3Y2RL",splashDesc:"Scene_splashDesc__3Azy2",splashText:"Scene_splashText__3yOFu",splashSubtext:"Scene_splashSubtext__IAgN3",textLeft:"Scene_textLeft__1rkHZ",splashYoutubeVideo:"Scene_splashYoutubeVideo__3IEIe",splashYoutubeVideoContainer:"Scene_splashYoutubeVideoContainer__riAVb",aboutSection:"Scene_aboutSection__3eDMn",mainHeader:"Scene_mainHeader__3thla",aboutContainer:"Scene_aboutContainer__6sevh",aboutSubHeader:"Scene_aboutSubHeader__197Ml",homeSectionHeader:"Scene_homeSectionHeader__YIKpy",mobile:"Scene_mobile__1_0Qd",desktop:"Scene_desktop__1oBcR",screenReaderOnlyLabel:"Scene_screenReaderOnlyLabel__2kwyA",image:"Scene_image__lkO8V",video:"Scene_video__3VtV5",container:"Scene_container__3yjcH",centerContainer:"Scene_centerContainer__2borv",sceneDuration:"Scene_sceneDuration__-dO5s",preview:"Scene_preview__1Egi4",actions:"Scene_actions__GID03",actionButton:"Scene_actionButton__iOLTs",actionButtonIcon:"Scene_actionButtonIcon__3cGU5",actionButtonText:"Scene_actionButtonText__2nrsx",smallSpacer:"Scene_smallSpacer__3jxmG",info:"Scene_info__213Cm",infoHeader:"Scene_infoHeader__1jpCE",infoText:"Scene_infoText__3YBBn",edit:"Scene_edit__2_ONh"}},1634:function(e,t,n){e.exports={home:"SceneViewSceneList_home__BPQBo",homeHowBackgroundWhite:"SceneViewSceneList_homeHowBackgroundWhite__1h9xf",homeHowBackgroundDark:"SceneViewSceneList_homeHowBackgroundDark__Koq5F",homeSplashText:"SceneViewSceneList_homeSplashText__dnjAk",homeSplashSubtext:"SceneViewSceneList_homeSplashSubtext__Ydx2S",largeButton:"SceneViewSceneList_largeButton__25ihA",largeButtonText:"SceneViewSceneList_largeButtonText__DFrq4",largeButtonChevron:"SceneViewSceneList_largeButtonChevron__kYskE",splashGetStartedButton:"SceneViewSceneList_splashGetStartedButton__32r6X",sectionContent:"SceneViewSceneList_sectionContent__LNpFO",sectionHeader:"SceneViewSceneList_sectionHeader__1UrVb",spacer:"SceneViewSceneList_spacer__12Omi",homeSectionDiv:"SceneViewSceneList_homeSectionDiv__YSM3Z",chevron:"SceneViewSceneList_chevron__o-jU7",getStartedText:"SceneViewSceneList_getStartedText__32Ms_",splashSectionDark:"SceneViewSceneList_splashSectionDark__XXUiS",splashSectionHeader:"SceneViewSceneList_splashSectionHeader__1gVo7",splashScreenshot:"SceneViewSceneList_splashScreenshot__8fQwP",splashScreenshotImage:"SceneViewSceneList_splashScreenshotImage__1wyvG",mb0:"SceneViewSceneList_mb0__3hM6k",splashHowContainer:"SceneViewSceneList_splashHowContainer__1b3aS",homeHowBoxContainer:"SceneViewSceneList_homeHowBoxContainer__1V39U",homeHowBox:"SceneViewSceneList_homeHowBox__1JjzA",homeHowText:"SceneViewSceneList_homeHowText__1FYRU",splashNumber:"SceneViewSceneList_splashNumber__2xY5y",splashDesc:"SceneViewSceneList_splashDesc__2rSrc",splashText:"SceneViewSceneList_splashText__2-itR",splashSubtext:"SceneViewSceneList_splashSubtext__HURSF",textLeft:"SceneViewSceneList_textLeft__3Tcx_",splashYoutubeVideo:"SceneViewSceneList_splashYoutubeVideo__dUxJ_",splashYoutubeVideoContainer:"SceneViewSceneList_splashYoutubeVideoContainer__2wvCh",aboutSection:"SceneViewSceneList_aboutSection__19Gmr",mainHeader:"SceneViewSceneList_mainHeader__GYB0u",aboutContainer:"SceneViewSceneList_aboutContainer__3k6mo",aboutSubHeader:"SceneViewSceneList_aboutSubHeader__gj2yt",homeSectionHeader:"SceneViewSceneList_homeSectionHeader__2t7pK",mobile:"SceneViewSceneList_mobile__6p-SR",desktop:"SceneViewSceneList_desktop__1svKn",screenReaderOnlyLabel:"SceneViewSceneList_screenReaderOnlyLabel__1wpGF",wrapper:"SceneViewSceneList_wrapper__2RCE5",wrapperDrag:"SceneViewSceneList_wrapperDrag__rojTh"}},1635:function(e,t,n){e.exports={home:"SceneView_home__1d7NW",homeHowBackgroundWhite:"SceneView_homeHowBackgroundWhite__2ChsF",homeHowBackgroundDark:"SceneView_homeHowBackgroundDark__3-uwb",homeSplashText:"SceneView_homeSplashText__vyHpR",homeSplashSubtext:"SceneView_homeSplashSubtext__1ku6s",largeButton:"SceneView_largeButton__3TgLU",largeButtonText:"SceneView_largeButtonText__2924F",largeButtonChevron:"SceneView_largeButtonChevron__iFk0H",splashGetStartedButton:"SceneView_splashGetStartedButton__3nunC",sectionContent:"SceneView_sectionContent__AEezg",sectionHeader:"SceneView_sectionHeader__3uqUJ",spacer:"SceneView_spacer__15OkS",homeSectionDiv:"SceneView_homeSectionDiv__rEgP0",chevron:"SceneView_chevron__3ldQ3",getStartedText:"SceneView_getStartedText__3Qirf",splashSectionDark:"SceneView_splashSectionDark__1PwWz",splashSectionHeader:"SceneView_splashSectionHeader__3OGZq",splashScreenshot:"SceneView_splashScreenshot__2NMs6",splashScreenshotImage:"SceneView_splashScreenshotImage__32xtF",mb0:"SceneView_mb0__wBWGa",splashHowContainer:"SceneView_splashHowContainer__2RvcA",homeHowBoxContainer:"SceneView_homeHowBoxContainer__2tV1T",homeHowBox:"SceneView_homeHowBox__30-GR",homeHowText:"SceneView_homeHowText__1E5NR",splashNumber:"SceneView_splashNumber__y1ykt",splashDesc:"SceneView_splashDesc__2w5Hx",splashText:"SceneView_splashText__25S3q",splashSubtext:"SceneView_splashSubtext__1IaRZ",textLeft:"SceneView_textLeft__2rlzQ",splashYoutubeVideo:"SceneView_splashYoutubeVideo__r-qlh",splashYoutubeVideoContainer:"SceneView_splashYoutubeVideoContainer__3YWyr",aboutSection:"SceneView_aboutSection__1gfS_",mainHeader:"SceneView_mainHeader__Mik7Y",aboutContainer:"SceneView_aboutContainer__2-7zu",aboutSubHeader:"SceneView_aboutSubHeader__17jTb",homeSectionHeader:"SceneView_homeSectionHeader__-dLAP",mobile:"SceneView_mobile__1wQHD",desktop:"SceneView_desktop__paImJ",screenReaderOnlyLabel:"SceneView_screenReaderOnlyLabel__29wDm",sceneViewPageContainer:"SceneView_sceneViewPageContainer__3u3Nr",sceneViewContainer:"SceneView_sceneViewContainer__1fMwd",sceneViewLeftContainer:"SceneView_sceneViewLeftContainer__3CMrI",sceneViewRightContainer:"SceneView_sceneViewRightContainer__wyPXX",videoPreviewContainer:"SceneView_videoPreviewContainer__1ogy8",noVideoPreviewContainer:"SceneView_noVideoPreviewContainer__174NE",scenesAndUploadContainer:"SceneView_scenesAndUploadContainer__32hEV",noScenesPreview:"SceneView_noScenesPreview__3An51",sceneContainer:"SceneView_sceneContainer__3-bWQ",seekerContainer:"SceneView_seekerContainer__3e3cu",uploadAndNewSceneContainer:"SceneView_uploadAndNewSceneContainer__2Uejw",noVideoUploadAndNewSceneContainer:"SceneView_noVideoUploadAndNewSceneContainer__1y1au",uploadContainer:"SceneView_uploadContainer__3IpAj",newSceneButton:"SceneView_newSceneButton__93Wim",newSceneContainer:"SceneView_newSceneContainer__2BiZ_",editInStudioButton:"SceneView_editInStudioButton__1UEEl",controlsContainer:"SceneView_controlsContainer__e_9jp",mobileOnly:"SceneView_mobileOnly__1JGeV",loading:"SceneView_loading__1TqSD",uploadLoading:"SceneView_uploadLoading__vJyXc",uploadLoader:"SceneView_uploadLoader__QhSre",loader:"SceneView_loader__iQDjM",load8:"SceneView_load8__1ecfx"}},1636:function(e,t,n){e.exports={home:"Editor_home__2gPpX",homeHowBackgroundWhite:"Editor_homeHowBackgroundWhite__1AuSk",homeHowBackgroundDark:"Editor_homeHowBackgroundDark__2RV1z",homeSplashText:"Editor_homeSplashText__2Fyjw",homeSplashSubtext:"Editor_homeSplashSubtext__28KhS",largeButton:"Editor_largeButton__3XnjC",largeButtonText:"Editor_largeButtonText__Htxij",largeButtonChevron:"Editor_largeButtonChevron__q7QyC",splashGetStartedButton:"Editor_splashGetStartedButton__3xAOg",sectionContent:"Editor_sectionContent__2KJgW",sectionHeader:"Editor_sectionHeader__--kq_",spacer:"Editor_spacer__17baN",homeSectionDiv:"Editor_homeSectionDiv__F71hP",chevron:"Editor_chevron__1BWra",getStartedText:"Editor_getStartedText__3yNPy",splashSectionDark:"Editor_splashSectionDark__38U9F",splashSectionHeader:"Editor_splashSectionHeader__ZoK3g",splashScreenshot:"Editor_splashScreenshot__3D-xQ",splashScreenshotImage:"Editor_splashScreenshotImage__1tinx",mb0:"Editor_mb0__2eGt_",splashHowContainer:"Editor_splashHowContainer__3Yh7L",homeHowBoxContainer:"Editor_homeHowBoxContainer__ozqZY",homeHowBox:"Editor_homeHowBox__3SHwI",homeHowText:"Editor_homeHowText__1JVwU",splashNumber:"Editor_splashNumber__1ZvEm",splashDesc:"Editor_splashDesc__FCtIx",splashText:"Editor_splashText__3MgJW",splashSubtext:"Editor_splashSubtext__2z96Z",textLeft:"Editor_textLeft__1Wua0",splashYoutubeVideo:"Editor_splashYoutubeVideo__3zlOh",splashYoutubeVideoContainer:"Editor_splashYoutubeVideoContainer__3ycY-",aboutSection:"Editor_aboutSection__3KwBJ",mainHeader:"Editor_mainHeader__3Qo9H",aboutContainer:"Editor_aboutContainer__3kRlA",aboutSubHeader:"Editor_aboutSubHeader__1aaZi",homeSectionHeader:"Editor_homeSectionHeader__3WN77",mobile:"Editor_mobile__237_k",desktop:"Editor_desktop__37l6O",screenReaderOnlyLabel:"Editor_screenReaderOnlyLabel__axdCS",studioWrapper:"Editor_studioWrapper__XjB3X",container:"Editor_container__1McZL",editor:"Editor_editor__1Upr8",link:"Editor_link__3VCWQ",studioBlank:"Editor_studioBlank__2H-TV",studioCenter:"Editor_studioCenter__2JenQ",studioLeft:"Editor_studioLeft__taL0c",studioLeftExpanded:"Editor_studioLeftExpanded__2uSw6",studioLeftCollapsed:"Editor_studioLeftCollapsed__lDnJx",studioLeftContainer:"Editor_studioLeftContainer__1P5t0",studioRight:"Editor_studioRight__3Rck4",studioRightContainer:"Editor_studioRightContainer__fitWl",studioTop:"Editor_studioTop__244Lu",studioBottom:"Editor_studioBottom__1d3pO",fullScreenDoneButtonContainer:"Editor_fullScreenDoneButtonContainer__mGKHk",fullScreenControlsContainer:"Editor_fullScreenControlsContainer__3eJBL",closeFullScreenControls:"Editor_closeFullScreenControls__2uc1a",mobileToolTipWrapper:"Editor_mobileToolTipWrapper__20A-p",closeFullScreenControlsButton:"Editor_closeFullScreenControlsButton__p1mC9",hideMediaSidebar:"Editor_hideMediaSidebar__2vlyY"}},1638:function(e,t,n){e.exports={accessModalContainer:"StudioEditor_accessModalContainer__2uCse",accessModalTitle:"StudioEditor_accessModalTitle__3G45j",accessModalDescription:"StudioEditor_accessModalDescription__1jZ46"}},1670:function(e,t,n){"use strict";n.r(t);var o=n(4),a=n.n(o),r=n(8),i=n(9),s=n(11),c=n(12),l=n(13),d=n(3),u=n.n(d),h=n(168),b=n.n(h),_=n(16),p=n(6),m=n(118),j=n(63),f=n(122),g=n(82),S=n(65),v=n(41),O=n(36);function y(e,t,n){(Math.random()<n||document.domain.startsWith("localhost"))&&Object(O.j)(e,t)}var C=n(228),x=n.n(C),A=n(136),B=n(58),w=n(1210),k=n(21),E=n(10);function T(e){var t,n=Object(E.a)(e.domElementByLayerId);try{for(n.s();!(t=n.n()).done;){var o=Object(k.a)(t.value,2);o[0];o[1].pause()}}catch(a){n.e(a)}finally{n.f()}}function I(e,t){var n,o=Object(E.a)(e.layerByLayerId);try{for(o.s();!(n=o.n()).done;){var a=Object(k.a)(n.value,2),r=a[0],i=a[1],s=i.startEndTimes,c=i.relativeStartEndTimes,l=i.playbackRate;if(R(s[0],t,s[1])){var d=e.domElementByLayerId.get(r),u=Q(t,s[0],c[0],l);d.currentTime=u,P(r,d)}}}catch(h){o.e(h)}finally{o.f()}}function L(e,t,n,o){var a=function(e,t,n){var o,a=Object(E.a)(t);try{for(a.s();!(o=a.n()).done;){var r=o.value,i=e.layerByLayerId.get(r);if(i.startEndTimes[0]-n>0)return i}}catch(s){a.e(s)}finally{a.f()}return e.layerByLayerId.get(t[0])}(e,n,o);F(t.currentTime,a.relativeStartEndTimes[0],.15)||(t.currentTime=a.relativeStartEndTimes[0])}var D=0;function H(e,t,n){if(D>5){var o=e.domElementByLayerId.get(t.layerId);if(!o.paused){var a=Q(n,t.startEndTimes[0],t.relativeStartEndTimes[0],t.playbackRate);if(!F(o.currentTime,a,.15)&&function(e,t,n){var o,a=Object(E.a)(e.layerByLayerId);try{for(a.s();!(o=a.n()).done;){var r=Object(k.a)(o.value,2),i=(r[0],r[1]);if(R(i.startEndTimes[0],n,i.startEndTimes[1]))if(i.startEndTimes[1]-i.startEndTimes[0]>t.startEndTimes[1]-t.startEndTimes[0])return!1}}catch(s){a.e(s)}finally{a.f()}return!0}(e,t,n)){var r=function(e,t,n,o){return(e-n)/o+t}(o.currentTime,t.startEndTimes[0],t.relativeStartEndTimes[0],t.playbackRate);Object(f.c)(r),D=0}}}}function V(e,t,n){var o=e.domElementByLayerId.get(t.layerId);if(o.playbackRate!==t.playbackRate&&(o.playbackRate=t.playbackRate),function(e,t){var n;if(N.has(e.id))n=N.get(e.id);else{var o=new window.AudioContext,a=o.createMediaElementSource(e),r=o.createGain();a.connect(r),r.connect(o.destination),n=function(t){F(r.gain.value,t,.01)||(console.info("Setting volume: ",e.id,t),r.gain.value=t)},N.set(e.id,n)}n(t)}(o,t.volume),o.paused){var a=Q(n,t.startEndTimes[0],t.relativeStartEndTimes[0],t.playbackRate);F(o.currentTime,a,.15)||(o.currentTime=a),P(t.layerId,o),o.play()}}function M(e,t,n){var o,a=Object(E.a)(t);try{for(a.s();!(o=a.n()).done;){var r=o.value,i=e.layerByLayerId.get(r);if(R(i.startEndTimes[0],n,i.startEndTimes[1]))return i}}catch(s){a.e(s)}finally{a.f()}}function F(e,t,n){return Math.abs(t-e)<n}function R(e,t,n){return e<=t&&t<n}function Q(e,t,n,o){return n+(e-t)*o}function P(e,t){var n,o=document.getElementById("VideoCanvas_".concat(e));t&&o&&(null===(n=o.getContext("2d"))||void 0===n||n.drawImage(t,0,0,o.width,o.height),requestAnimationFrame((function(){return P(e,t)})))}setInterval((function(){D+=1}),1e3);var N=new Map;var U=n(26),W=n(1163),K=n.n(W),Y=function(){function e(t){Object(i.a)(this,e),this.domElementByLayerId=new Map,this.layerIdsByMediaId=new Map,this.layerIdsByElementId=new Map,this.layerByLayerId=new Map,this.domElementByDomId=new Map,this.numVideoElements=0,this.logOnError=void 0,this.logLongLoad=void 0,this.logOnLoadedData=void 0,this.logOnError=function(e,n,o,a){t("ElementPool onerror",{src:e,localOrRemoteSrc:n,errorCode:o,errorMessage:a},.25)},this.logLongLoad=function(e,n){t("Element Pool > 15 second load",{src:e,localOrRemoteSrc:n},.25)},this.logOnLoadedData=function(e,n,o){t("ElementPool onLoadedData",{src:e,localOrRemoteSrc:n,onLoadedTime:o},.01)}}return Object(s.a)(e,[{key:"getJsonLayerIdToElementId",value:function(){var e,t={},n=Object(E.a)(this.domElementByLayerId);try{for(n.s();!(e=n.n()).done;){var o=Object(k.a)(e.value,2),a=o[0],r=o[1];t[a]=r.id}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"logAmplitudeEvents",value:function(e,t){var n=this,o=t.startsWith("blob:")?"local":"remote";e.onplay=function(){console.log("OnPlay: ",e.id)},e.onpause=function(){console.log("OnPause: ",e.id)},e.onseeked=function(){console.log("OnSeeked: ",e.id)},e.onerror=function(){var t,a;n.logOnError(e.src,o,null===(t=e.error)||void 0===t?void 0:t.code,null===(a=e.error)||void 0===a?void 0:a.message)};var a=performance.now(),r=!1;e.onloadeddata=function(t){var i=t.timeStamp;r=!0,n.logOnLoadedData(e.src,o,K()((i-a)/1e3,1))},setTimeout((function(){r||n.logLongLoad(e.src,o)}),15e3)}},{key:"createVideoElement",value:function(e){var t=document.createElement("video");return this.logAmplitudeEvents(t,e),t.id="v".concat(this.numVideoElements),t.src=e,t.autoplay=!1,t.preload="auto",t.crossOrigin="anonymous",t.playsInline=!0,this.numVideoElements+=1,t}},{key:"findLayerIdWithReusableElement",value:function(t){var n,o,a=this.layerIdsByMediaId.get(t.mediaId),r=Object(E.a)(a);try{for(r.s();!(o=r.n()).done;){var i=o.value,s=this.layerByLayerId.get(i).startEndTimes;if(!e.doTimesOverlap(s,t.startEndTimes)){var c,l=this.domElementByLayerId.get(i),d=this.layerIdsByElementId.get(l.id),u=!1,h=Object(E.a)(d);try{for(h.s();!(c=h.n()).done;){var b=c.value,_=this.layerByLayerId.get(b);if(e.doTimesOverlap(t.startEndTimes,_.startEndTimes)){u=!0;break}}}catch(p){h.e(p)}finally{h.f()}if(!u){n=i;break}}}}catch(p){r.e(p)}finally{r.f()}return n}},{key:"destroyDomPool",value:function(){var e,t=Object(E.a)(this.domElementByDomId);try{for(t.s();!(e=t.n()).done;){var n=Object(k.a)(e.value,2);n[0];n[1].remove()}}catch(o){t.e(o)}finally{t.f()}this.domElementByDomId.clear(),this.domElementByLayerId.clear(),this.layerByLayerId.clear(),this.layerIdsByElementId.clear(),this.layerIdsByMediaId.clear(),this.numVideoElements=0}},{key:"regenerateDomPool",value:function(e){var t=this,n=new Map(this.domElementByLayerId);this.domElementByLayerId=new Map,this.layerIdsByMediaId=new Map,this.layerIdsByElementId=new Map,this.layerByLayerId=new Map,e.forEach((function(e){t.layerByLayerId.set(e.layerId,e)}));var o,a=Object(U.a)(this.domElementByLayerId.keys()),r=e.map((function(e){return e.layerId})).filter((function(e){return!a.includes(e)})),i=Object(E.a)(r);try{var s=function(){var a=o.value,r=e.find((function(e){return e.layerId===a}));if(n.has(r.layerId)){var i=n.get(r.layerId);r.url!==i.src&&(i.src=r.url),t.domElementByLayerId.set(r.layerId,i),t.domElementByDomId.set(i.id,i),t.layerIdsByElementId.has(i.id)?t.layerIdsByElementId.get(i.id).push(r.layerId):t.layerIdsByElementId.set(i.id,[r.layerId]),t.layerIdsByMediaId.has(r.mediaId)?t.layerIdsByMediaId.get(r.mediaId).push(r.layerId):t.layerIdsByMediaId.set(r.mediaId,[r.layerId]),n.delete(r.layerId)}else if(t.layerIdsByMediaId.has(r.mediaId)){var s=t.findLayerIdWithReusableElement(r);if(s){var c,l=t.domElementByLayerId.get(s);t.domElementByLayerId.set(r.layerId,l),t.domElementByDomId.set(l.id,l),null===(c=t.layerIdsByElementId.get(l.id))||void 0===c||c.push(r.layerId),t.layerIdsByMediaId.get(r.mediaId).push(r.layerId)}else{var d=t.createVideoElement(r.url);t.domElementByLayerId.set(r.layerId,d),t.domElementByDomId.set(d.id,d),t.layerIdsByElementId.set(d.id,[r.layerId]),t.layerIdsByMediaId.get(r.mediaId).push(r.layerId)}}else{var u=t.createVideoElement(r.url);t.domElementByLayerId.set(r.layerId,u),t.domElementByDomId.set(u.id,u),t.layerIdsByElementId.set(u.id,[r.layerId]),t.layerIdsByMediaId.set(r.mediaId,[r.layerId])}};for(i.s();!(o=i.n()).done;)s()}catch(u){i.e(u)}finally{i.f()}var c,l=Object(E.a)(n);try{for(l.s();!(c=l.n()).done;){var d=Object(k.a)(c.value,2);d[0];d[1].remove()}}catch(u){l.e(u)}finally{l.f()}}}],[{key:"doTimesOverlap",value:function(e,t){return e[0]<=t[1]&&e[1]>=t[0]}}]),e}(),G=function(){var e=Object(f.d)(),t=Object(g.f)((function(e){return e.studio.didUserManualSeek})),n=Object(g.f)((function(e){return e.studio.studioPaused})),o=Object(g.f)(z,x.a),a=Object(d.useRef)(null);Object(d.useEffect)((function(){return a.current=new Y(y),function(){T(a.current),a.current.destroyDomPool(),a.current=null}}),[]);var r=Object(_.e)();return Object(d.useEffect)((function(){a.current.regenerateDomPool(o)}),[o]),Object(d.useEffect)((function(){n&&I(a.current,Object(f.b)())}),[n,o]),Object(d.useEffect)((function(){var e=function(){return I(a.current,Object(f.b)())};return document.addEventListener("studioLooped",e),function(){document.removeEventListener("studioLooped",e)}}),[]),Object(d.useEffect)((function(){t&&(I(a.current,Object(f.b)()),r(Object(v.j)(!1)))}),[t,r]),Object(d.useEffect)((function(){n||function(e,t){var n,o=Object(E.a)(e.layerIdsByElementId);try{for(o.s();!(n=o.n()).done;){var a=Object(k.a)(n.value,2),r=a[0],i=a[1],s=M(e,i,t);if(s)V(e,s,t),H(e,s,t);else{var c=e.domElementByDomId.get(r);c.paused||c.pause(),L(e,c,i,t)}}}catch(l){o.e(l)}finally{o.f()}}(a.current,e)}),[n,e]),Object(d.useEffect)((function(){n&&T(a.current)}),[n]),null},z=Object(A.a)((function(e){return e.studio.scenes}),(function(e){var t=[];return e.forEach((function(n,o){var a=n.layers,r=Object(g.a)(e,o);a.forEach((function(e){if(Object(B.e)(e)&&Object(w.a)(e)){var n=Object(g.b)(e),o=Object(S.a)(e);t.push({layerId:e.id,playbackRate:Number(e.playbackRate)||1,mediaId:e.mediaLibraryID,url:o,volume:Number(e.volume)||1,relativeStartEndTimes:[e.startTime||0,(e.startTime||0)+n],startEndTimes:[r+(e.videoDelay||0),r+(e.videoDelay||0)+n]})}}))})),t.sort((function(e,t){return e.startEndTimes[0]-t.startEndTimes[0]}))})),X=n(14),Z=n(95),J=n(68),q=n(86),$=n(893),ee=n.n($),te=n(1593),ne=n.n(te),oe=n(1),ae=Object(_.c)((function(e){return{ratio:e.studio.ratio,showCanvas:e.studio.showCanvas}}))((function(e){var t=e.ratio,n=e.showCanvas,o=Object(d.useRef)(null),a=Object(Z.l)();return Object(d.useEffect)((function(){o.current&&o.current.appendChild(e.el)}),[]),Object(d.useEffect)((function(){if(o.current){var e={x:o.current.offsetLeft,y:o.current.offsetTop,width:o.current.offsetWidth,height:o.current.offsetHeight};Object(q.studioUpdateDimensionsWithRatioAndContainer)(t,e,a)}}),[a,t,n]),Object(d.useEffect)((function(){o.current&&new ee.a.ResizeSensor([o.current],(function(e){if(o.current&&!(Object(J.f)()&&e.height<100)){var n={x:o.current.offsetLeft,y:o.current.offsetTop,width:o.current.offsetWidth,height:o.current.offsetHeight};Object(q.studioUpdateDimensionsWithRatioAndContainer)(t,n,a)}}))}),[a,t]),Object(oe.jsx)("div",{className:ne.a.canvasContainer,ref:o,id:"canvas-container"})})),re=n(2),ie=n(20),se=n(50),ce=n(52),le=n(78),de=n(1258),ue=n(17),he=n(225),be=n(925),_e=n.n(be),pe=n(906),me=n(375),je=n(978),fe=n(332),ge=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).addGroupOrLayerToGroup=function(e,t){var n=o.props,a=n.selectLayer,r=n.groups;if(e!==t)if(r[e]){var i=e;r[i].layers.map((function(e){return e.id})).some((function(e){return r[t].layers.map((function(e){return e.id})).includes(e)}))?Object(me.h)(t,i,!0):Object(me.c)(t,i,!0)}else{var s=e;Object(me.d)(s,t,!1,!0),a(t)}},o.handleMouseDown=function(e){var t=o.props,n=t.groupAbsolutePosition,a=t.groupId,r=t.selectedLayerId,i=n.x,s=n.y,c=e.pageX,l=e.pageY;Object(fe.h)(e)&&(o.setState({dragging:!0,mouseStartX:c,mouseStartY:l,groupStartX:i,groupStartY:s}),(e.shiftKey||e.metaKey)&&"background"!==r&&""!==r?o.addGroupOrLayerToGroup(r,a):o.contextualSelectLayer(a))},o.handleMouseMove=function(e){var t=o.props,n=t.groupAbsolutePosition,a=t.rotation,r=void 0===a?0:a,i=t.handleGroupTransform,s=n.width,c=n.height,l=o.state,d=l.dragging,u=l.didDrag,h=l.mouseStartX,b=l.mouseStartY,_=l.groupStartX,p=l.groupStartY;if(d&&!(e.which>1)){var m=e.pageX-h,j=e.pageY-b,f={x:_+m,y:p+j,width:s,height:c};if(Object(q.studioGetSnapToGrid)()&&r%90===0){var g=f.x,S=f.y;m+=(f=Object(je.a)(f,r)).x-g,j+=f.y-S}i(o.props.groupId,{newPosition:f,groupXDiff:m,groupYDiff:j}),(!u&&Math.abs(m)>0||Math.abs(j)>0)&&o.setState({didDrag:!0}),e.preventDefault()}},o.handleMouseUp=function(e){var t=o.props.handleGroupTransformFinish,n=o.state.didDrag;Object(fe.h)(e)&&(o.setState({dragging:!1,didDrag:!1,mouseStartX:void 0,mouseStartY:void 0,groupStartX:void 0,groupStartY:void 0}),n&&t(o.props.groupId))},o.getStyles=function(){var e=o.props.groupAbsolutePosition,t=e.x,n=e.y,a=e.width,r=e.height,i=e.rotation;return{position:"absolute",top:n,left:t,width:a,height:r,transform:"rotate(".concat(void 0===i?0:i,"deg)"),cursor:"pointer"}},o.getShiftIsBeingPressedStyles=function(){var e=Object(re.a)({},o.getStyles()),t=o.props,n=t.shiftIsBeingPressed,a=t.selectedLayerId,r=t.groupId;return n&&a===r?Object(re.a)(Object(re.a)({},e),{},{zIndex:1}):e},o.contextualSelectLayer=function(e){o.props.selectLayer(e)},o.handleContextMenu=function(e){var t=o.props.groupId;o.contextualSelectLayer(t),Object(pe.d)(e,t)},o.state={dragging:!1},o}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.dragging;n&&!t.dragging?(document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)):!n&&t.dragging&&(document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.groupId,n=e.selectedLayerId,o=e.isDraggingGlobal,a=e.boxSelectedIds,r=this.getShiftIsBeingPressedStyles(),i=[_e.a.groupTransformer],s=n!==t&&!o;return t===n||a.includes(t)?i.push(_e.a.selectedLayer):s&&i.push(_e.a.eligibleForDottedLineHover),Object(oe.jsx)("div",{style:r,className:i.join(" "),onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,"data-cy":"group-drag-handler"})}}]),n}(d.Component),Se=Object(_.c)((function(e){return{shiftIsBeingPressed:e.studio.shiftIsBeingPressed,selectedLayerId:e.studio.selectedLayerId,boxSelectedIds:e.studio.boxSelectedIds,isDraggingGlobal:e.studio.isDragging,groups:e.studio.groups}}),(function(e){return Object(ie.b)({selectLayer:ue.D},e)})),ve=Object(m.k)(Se(ge)),Oe=n(30),ye=n(277),Ce=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleMouseDown=function(t){var n=e.props.groupAbsolutePosition,o=n.x,a=n.y,r=n.width,i=n.height,s=n.rotation,c=void 0===s?0:s,l=document.getElementById("canvas-container");if(l){var d=l.getBoundingClientRect(),u={x:d.left+o+r/2,y:d.top+a+i/2};Object(fe.h)(t)&&(e.setState({startRotation:c,startVector:u,groupStartX:o,groupStartY:a,groupStartWidth:r,groupStartHeight:i}),document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp))}},e.handleMouseUp=function(t){var n=e.props.handleGroupTransformFinish;Object(fe.h)(t)&&(n(e.props.groupId),document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp))},e.handleMouseMove=function(t){var n=e.props.handleGroupTransform,o=e.state,a=o.startRotation,r=o.startVector,i=o.groupStartX,s=o.groupStartY,c=o.groupStartWidth,l=o.groupStartHeight;if(!(t.which>1)){var d,u,h=Object(ye.a)(t),b=Object(k.a)(h,2),_={x:b[0],y:b[1]},p=(Object(fe.g)(r,_)-90)%360;if(Object(q.studioGetSnapToGrid)()){var m=(d=p)-(u=45)*Math.floor(d/u);if(m>=41)p+=45-m;else m<=4&&(p-=m);(Math.abs(p)<1||Math.abs(p)>359)&&(p=0)}var j={x:i,y:s,width:c,height:l,rotation:a};n(e.props.groupId,{newPosition:{rotation:p},groupXDiff:0,groupYDiff:0,dragging:"group",groupTransformerNode:void 0,groupStartPosition:j,resizing:!1,rotating:!0}),t.preventDefault()}},e.getStyles=function(){var t=e.props.groupAbsolutePosition,n=t.x,o=t.y,a=t.width,r=t.height,i=t.rotation,s=n+a/2,c=o+r/2,l=r/2+20,d=(void 0===i?0:i)*Math.PI/180,u=s-l*Math.sin(d),h=c+l*Math.cos(d);return{width:20,height:20,top:h-=10,left:u-=10}},e}return Object(s.a)(n,[{key:"render",value:function(){return this.props.selectedLayerId!==this.props.groupId?null:Object(oe.jsx)("div",{style:this.getStyles(),className:[_e.a.groupTransformer,_e.a.transformerNode,_e.a.rotateNode].join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,"data-cy":"group-rotate-handler",children:Object(oe.jsx)(Oe.g,{className:_e.a.rotateNodeIcon})})}}]),n}(d.Component),xe=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId}}))(Ce),Ae=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleMouseDown=function(t,n){var o=e.props.groupAbsolutePosition,a=o.x,r=o.y,i=o.width,s=o.height,c=t.pageX,l=t.pageY;Object(fe.h)(t)&&(e.setState({mouseStartX:c,mouseStartY:l,groupStartX:a,groupStartY:r,groupStartWidth:i,groupStartHeight:s,nodePosition:n}),document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp))},e.handleMouseUp=function(t){var n=e.props.handleGroupTransformFinish;Object(fe.h)(t)&&(e.setState({mouseStartX:void 0,mouseStartY:void 0,groupStartX:void 0,groupStartY:void 0,groupStartWidth:void 0,groupStartHeight:void 0}),n(e.props.groupId),document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp))},e.handleMouseMove=function(t){var n=e.props,o=n.handleGroupTransform,a=n.rotation,r=void 0===a?0:a,i=e.state,s=i.mouseStartX,c=i.mouseStartY,l=i.groupStartX,d=i.groupStartY,u=i.groupStartWidth,h=i.groupStartHeight,b=i.nodePosition;if(!(t.which>1)){var _=l+u/2,p=d+h/2,m=t.pageX-s,j=t.pageY-c,f=Math.atan2(j,m),g=Object(fe.i)(m,j),S=f-Object(fe.f)(r),v=g*Math.cos(S),O=g*Math.sin(S),y={width:u,height:h,centerX:_,centerY:p,rotateAngle:r},C=u/h,x=Object(fe.e)(b,y,v,O,C,30,30),A={x:x.position.centerX-x.size.width/2,y:x.position.centerY-x.size.height/2,width:x.size.width,height:x.size.height};Object(q.studioGetSnapToGrid)()&&r%90===0&&(A=Object(je.c)(A,r));var B={x:l,y:d,width:u,height:h};o(e.props.groupId,{newPosition:A,groupXDiff:0,groupYDiff:0,dragging:"group",groupTransformerNode:b,groupStartPosition:B,resizing:!0}),t.preventDefault()}},e.getNodeStyles=function(t){var n=e.props,o=n.groupAbsolutePosition,a=n.selectedLayerId,r=n.groupId,i=n.boxSelectedIds,s=o.x,c=o.y,l=o.width,d=o.height,u=o.rotation,h=void 0===u?0:u,b={width:18,height:18,display:""};a===r||i.includes(r)||(b.display="none");var _,p,m=s,j=c,f=h*Math.PI/180,g=s+l/2,S=c+d/2;switch(t){case"topLeft":return m=(_=(s-g)*Math.cos(f)-(c-S)*Math.sin(f)+g)-9,j=(p=(s-g)*Math.sin(f)+(c-S)*Math.cos(f)+S)-9,Object(re.a)({top:j,left:m},b);case"topRight":return _=((m+=l)-g)*Math.cos(f)-(j-S)*Math.sin(f)+g,p=(m-g)*Math.sin(f)+(j-S)*Math.cos(f)+S,m=_-9,j=p-9,Object(re.a)({top:j,left:m},b);case"bottomLeft":return j+=d,_=(m-g)*Math.cos(f)-(j-S)*Math.sin(f)+g,p=(m-g)*Math.sin(f)+(j-S)*Math.cos(f)+S,m=_-9,j=p-9,Object(re.a)({top:j,left:m},b);case"bottomRight":return j+=d,_=((m+=l)-g)*Math.cos(f)-(j-S)*Math.sin(f)+g,p=(m-g)*Math.sin(f)+(j-S)*Math.cos(f)+S,m=_-9,j=p-9,Object(re.a)({top:j,left:m},b);default:return b}},e.getNodeClassNames=function(t){var n="".concat(_e.a.transformerNode," ");switch(t){case"topLeft":n+=_e.a.transformerNodeTopLeft;break;case"topRight":n+=_e.a.transformerNodeTopRight;break;case"bottomLeft":n+=_e.a.transformerNodeBottomLeft;break;case"bottomRight":n+=_e.a.transformerNodeBottomRight}return e.props.selectedLayerId===e.props.groupId&&(n+=" ".concat(_e.a.selectedTransformer)),n},e.handleContextMenu=function(t){var n=e.props.groupId;n&&Object(pe.d)(t,n)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.handleGroupTransform,o=t.handleGroupTransformFinish,a=t.groupAbsolutePosition,r=t.locked,i=t.groupId,s=t.selectedLayerId;return r&&i!==s?null:Object(oe.jsxs)("div",{className:_e.a.groupTransformerParent,onContextMenu:this.handleContextMenu,children:[Object(oe.jsx)(ve,{handleGroupTransform:n,handleGroupTransformFinish:o,groupAbsolutePosition:a,groupId:this.props.groupId}),Object(oe.jsx)(xe,{groupAbsolutePosition:a,handleGroupTransform:n,handleGroupTransformFinish:o,groupId:this.props.groupId}),["topLeft","topRight","bottomLeft","bottomRight"].map((function(t,n){return Object(oe.jsx)("div",{className:e.getNodeClassNames(t),style:e.getNodeStyles(t),onTouchStart:function(n){return e.handleMouseDown(n,t)},onTouchEnd:e.handleMouseUp,onMouseDown:function(n){return e.handleMouseDown(n,t)},onMouseUp:e.handleMouseUp,"data-cy":"group-transformer-node-".concat(t)},n)}))]})}}]),n}(d.Component),Be=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,boxSelectedIds:e.studio.boxSelectedIds}}))(Ae),we=n(53);function ke(e){return Array.isArray(e)}var Ee,Te=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;Object(i.a)(this,n),(o=t.call(this,e)).initialGroupState=function(e){var t=o.calculateGroupBounds(e);return{groupAbsolutePosition:t,groupInitialPosition:t,groupXDiff:0,groupYDiff:0,groupTransformerNode:null,groupResizing:!1,groupRotating:!1,saveGroupPosition:!1}},o.updateGroupState=function(e,t){t?o.setState((function(n){return{groups:Object(re.a)(Object(re.a)({},n.groups),{},Object(se.a)({},e,Object(re.a)(Object(re.a)({},n.groups[e]),t)))}})):o.setState((function(t){var n=Object(re.a)({},t.groups);return delete n[e],{groups:n}}))},o.onVideoLoad=function(){var e=o.state.videoLayersLoaded+1;o.setState({videoLayersLoaded:e,renderHiddenVideos:e>=o.state.numActiveVideos})},o.calculateGroupBounds=function(e){var t=o.props,n=t.layers,a=t.groups[e],r=n.filter((function(e){return a.layers.map((function(e){return e.id})).includes(e.id)}));return Object(le.e)(r,a.rotation,a.origin)},o.calculateAndSetAllGroupBounds=function(){Object.keys(o.props.groups).forEach((function(e){var t=o.calculateGroupBounds(e);o.updateGroupState(e,{groupAbsolutePosition:t,groupInitialPosition:t})}))},o.handleGroupTransform=function(e,t){var n=t.newPosition,a=t.groupXDiff,r=void 0===a?0:a,i=t.groupYDiff,s=void 0===i?0:i,c=t.dragging,l=void 0===c?"group":c,d=t.groupTransformerNode,u=t.resizing,h=void 0!==u&&u,b=t.rotating,_=void 0===b||b,p=o.state.groups[e],m=p.groupAbsolutePosition,j=p.groupInitialPosition;"layer"===l?o.updateGroupState(e,{groupAbsolutePosition:Object(re.a)(Object(re.a)(Object(re.a)({},m),n),j?{x:j.x+r,y:j.y+s}:{}),groupXDiff:r,groupYDiff:s}):o.updateGroupState(e,{groupAbsolutePosition:Object(re.a)(Object(re.a)({},m),n),groupXDiff:r,groupYDiff:s,groupTransformerNode:d,groupResizing:h,groupRotating:_})},o.handleGroupTransformFinish=function(e){var t=o.props.showSnapLines;o.updateGroupState(e,{saveGroupPosition:!0,groupResizing:!1,groupRotating:!1,groupInitialPosition:o.state.groups[e].groupAbsolutePosition}),t({})},o.renderGroup=function(e){var t=Object(k.a)(e,2),n=t[0],a=t[1],r=o.state.groups[n],i=o.props.scenes[o.props.selectedSceneIndex],s=!0,c=!0;return a.layers.forEach((function(e){var t=e.id,n=i.layers.find((function(e){return e.id===t}));n&&!n.hidden&&(s=!1),n&&!n.locked&&(c=!1)})),s?null:r?Object(oe.jsx)(Be,{groupId:n,groupAbsolutePosition:r.groupAbsolutePosition,handleGroupTransform:o.handleGroupTransform,handleGroupTransformFinish:o.handleGroupTransformFinish,locked:c},n):null},o.renderLayer=function(e){var t=o.props,n=t.groups,a=t.selectedLayerId,r=t.hideTimeline,i={};"subtitle"===e.type?(i.calculateSubtitlePadding=!0,i.viewOnly=!0):"video"===e.type&&(i.onVideoLoad=o.onVideoLoad),e.locked&&e.id!==a&&(i.viewOnly=!0);var s=Object.entries(n).find((function(t){var o=Object(k.a)(t,1)[0];return n[o].layers.map((function(e){return e.id})).includes(e.id)}));if(s){var c=Object(k.a)(s,2),l=c[0],d=c[1];i.groupInfo=o.state.groups[l];var u=d.layers.find((function(t){return t.id===e.id}));i.isSavedInGroup=!!u&&u.saved,i.isInSelectedGroup=l===a}var h=!Object(we.j)()&&r;return Object(oe.jsx)(de.a,Object(re.a)({layer:e,getLayerPositionAndSize:ce.g,convertPositionToPercent:ce.c,convertSizeToPercent:ce.e,multiScene:h,preloadedForNextScene:Object(le.o)(e),handleGroupTransform:o.handleGroupTransform,handleGroupTransformFinish:o.handleGroupTransformFinish},i),e.id)};var a=e.scenes[e.selectedSceneIndex].layers.filter((function(e){return"video"===e.type&&!e.videoDelay})).length,r={};return Object.keys(e.groups).forEach((function(e){r[e]=o.initialGroupState(e)})),o.state={videoLayersLoaded:0,numActiveVideos:a,renderHiddenVideos:0===a,groups:r},o}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,o=this.props,a=o.groups,r=o.canvasWidth,i=o.canvasHeight,s=o.containerWidth,c=o.containerHeight;Object.keys(t.groups).forEach((function(o){var r=t.groups[o],i=n.state.groups[o];if(i){var s=a[o],c=e.groups[o],l=!1;if(!!!(i.groupResizing||i.groupRotating||i.groupXDiff||i.groupYDiff)&&s){var d,u,h,b;if(c)s.rotation===c.rotation&&(null===(d=s.origin)||void 0===d?void 0:d.xPercent)===(null===(u=c.origin)||void 0===u?void 0:u.xPercent)&&(null===(h=s.origin)||void 0===h?void 0:h.yPercent)===(null===(b=c.origin)||void 0===b?void 0:b.yPercent)||(l=!0);l||JSON.stringify(e.layers.filter((function(e){return s.layers.find((function(t){return t.id===e.id}))})).map((function(e){return e.position})))===JSON.stringify(n.props.layers.filter((function(e){return s.layers.find((function(t){return t.id===e.id}))})).map((function(e){return e.position})))||(l=!0)}if(c&&s&&c.layers.length!==s.layers.length&&(l=!0),l&&n.updateGroupState(o,n.initialGroupState(o)),!r.saveGroupPosition&&i.saveGroupPosition){var _;n.updateGroupState(o,{saveGroupPosition:!1,groupXDiff:0,groupYDiff:0});var p=(null===(_=i.groupAbsolutePosition)||void 0===_?void 0:_.rotation)||0,m=i.groupAbsolutePosition?Object(ce.c)(i.groupAbsolutePosition.x+i.groupAbsolutePosition.width/2,i.groupAbsolutePosition.y+i.groupAbsolutePosition.height/2):void 0,j={};p!==a[o].rotation&&(j.rotation=p,j.initialPosition=r.groupInitialPosition,j.currentPosition=r.groupAbsolutePosition),(i.groupXDiff||i.groupYDiff)&&(j.xDiff=i.groupXDiff,j.yDiff=i.groupYDiff),r.groupAbsolutePosition.width===r.groupInitialPosition.width&&r.groupAbsolutePosition.height===r.groupInitialPosition.height||(j.initialPosition=r.groupInitialPosition,j.currentPosition=r.groupAbsolutePosition,j.transformerNode=r.groupTransformerNode),JSON.stringify(m)!==JSON.stringify(a[o].origin)&&(j.origin=m),Object(q.studioTransformGroup)(o,j)}}})),Object.keys(a).forEach((function(e){n.state.groups[e]||n.updateGroupState(e,n.initialGroupState(e))})),Object.keys(e.groups).forEach((function(e){!a[e]&&n.state.groups[e]&&n.updateGroupState(e,null)}));var l=!1;e.canvasWidth===r&&e.canvasHeight===i&&e.containerWidth===s&&e.containerHeight===c||(l=!0),JSON.stringify(e.layers.map((function(e){var t;return null===(t=e.position)||void 0===t?void 0:t.rotation})))!==JSON.stringify(this.props.layers.map((function(e){var t;return null===(t=e.position)||void 0===t?void 0:t.rotation})))&&(l=!0),l&&this.calculateAndSetAllGroupBounds()}},{key:"render",value:function(){var e=this,t=this.props,n=t.eyedropperMode,o=t.groups,a=t.scenes,r=t.selectedSceneIndex,i=this.state.renderHiddenVideos,s=a[r].layers;s=(s=Object(le.c)(a,r,i)).filter((function(e){var t=e.hidden,n=e.type;return!t||"audio"===n||"video"===n}));var c,l=[],d=Object.entries(o),u=Object(E.a)(s);try{var h=function(){var e=c.value,t=d.find((function(t){var n=Object(k.a)(t,2);n[0];return n[1].layers.find((function(t){return t.id===e.id}))}));t&&(!!l.filter(ke).find((function(e){return Object(k.a)(e,1)[0]===t[0]}))||l.push(t));l.push(e)};for(u.s();!(c=u.n()).done;)h()}catch(b){u.e(b)}finally{u.f()}return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{onMouseDown:function(e){n||e.stopPropagation()},children:l.map((function(t){return ke(t)?e.renderGroup(t):e.renderLayer(t)}))})})}}]),n}(d.Component),Ie=Object(_.c)((function(e){var t,n=0,o=Object(E.a)(e.studio.scenes);try{for(o.s();!(t=o.n()).done;){n+=t.value.layers.length}}catch(a){o.e(a)}finally{o.f()}return{canvasHeight:e.studio.height,canvasWidth:e.studio.width,containerHeight:e.studio.containerHeight,containerWidth:e.studio.containerWidth,eyedropperMode:e.studio.eyedropperMode,groups:e.studio.groups,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,scenes:e.studio.scenes,selectedLayerId:e.studio.selectedLayerId,selectedSceneIndex:e.studio.selectedSceneIndex,selectedSceneId:e.studio.selectedSceneId,numLayers:n,hideTimeline:Object(he.a)(e)}}),(function(e){return Object(ie.b)({showSnapLines:ue.P},e)}))(Te),Le=n(1594),De=n.n(Le),He=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getFrameStyles=function(t){var n=e.props,o=n.canvasWidth,a=n.canvasHeight,r=n.containerX,i=n.containerWidth,s=n.containerHeight,c=r,l=(s-a)/2,d=(i-o)/2,u={};switch(t){case"top":return Object(re.a)(Object(re.a)({},u),{},{top:0,left:0,width:i,height:l});case"right":return Object(re.a)(Object(re.a)({},u),{},{top:0,left:d+o,width:d,height:s});case"bottom":return Object(re.a)(Object(re.a)({},u),{},{top:l+a,left:0,width:i,height:l});case"left":return Object(re.a)(Object(re.a)({},u),{},{top:0,left:-1*c,width:d+c,height:s});default:return{}}},e.onMouseDown=function(){Object(le.b)(),Object(we.m)()},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{style:this.getFrameStyles("top"),className:De.a.frame,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,"data-cy":"canvas-container-top"}),Object(oe.jsx)("div",{style:this.getFrameStyles("right"),className:De.a.frame,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,"data-cy":"canvas-container-right"}),Object(oe.jsx)("div",{style:this.getFrameStyles("bottom"),className:De.a.frame,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,"data-cy":"canvas-container-bottom"}),Object(oe.jsx)("div",{style:this.getFrameStyles("left"),className:De.a.frame,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,"data-cy":"canvas-container-left"})]})}}]),n}(d.Component),Ve=Object(m.k)(Object(_.c)((function(e){return{width:e.studio.width,height:e.studio.height,ratio:e.studio.ratio,canvasWidth:e.studio.width,canvasHeight:e.studio.height,containerX:e.studio.containerX,containerWidth:e.studio.containerWidth,containerHeight:e.studio.containerHeight}}),(function(e){return Object(ie.b)({},e)}))(He)),Me=n(35),Fe=n.n(Me),Re=n(1595),Qe=n.n(Re),Pe=Object(m.k)(Object(_.c)((function(e){return{snapLines:e.studio.snapLines,canvasX:e.studio.canvasX,canvasY:e.studio.canvasY,canvasWidth:e.studio.width,canvasHeight:e.studio.height}}),(function(e){return Object(ie.b)({},e)}))((function(e){var t=e.snapLines;return t&&Object.keys(t).length?Object(oe.jsx)(oe.Fragment,{children:Object.keys(t).map((function(e){var n=["left","right","centerX"].includes(e),o=["top","bottom","centerY"].includes(e),a=t[e].end.x-t[e].start.x,r=t[e].end.y-t[e].start.y;return Object(oe.jsx)("div",{className:Qe.a.line,style:{left:t[e].start.x,top:t[e].start.y,width:n?1:a,height:o?1:r}},Fe()())}))}):null}))),Ne=n(99),Ue=n(131),We=n(1269),Ke=n(916),Ye=n.n(Ke),Ge=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleMouseDown=function(){var e=o.props,t=e.eyedropperMode,n=e.selectLayer,a=e.selectedLayerId;t||(Object(q.studioSetBoxSelectedIds)([]),""!==a?(n(""),o.setState({showTransformer:!1,backgroundResizing:!0})):(n("background",!0),o.setState({showTransformer:!0,backgroundResizing:!1})))},o.handleContextMenu=function(e){o.handleMouseDown(),Object(pe.a)(e)},o.handleTransformFinish=function(){var e=Object(Ne.a)(o),t=e.state,n=e.props,a=t.x,r=t.y,i=t.width,s=t.height,c=n.canvasY,l=n.canvasX,d={left:Object(ce.l)(a,4)!==Object(ce.l)(l,4),top:Object(ce.l)(r,4)!==Object(ce.l)(c,4)};o.setState({backgroundResizing:!1}),n.width===i&&n.height===s||Object(q.studioSetCanvasSize)(i,s,d)},o.getStyles=function(){var e=o.props,t=e.background,n=e.width,a=e.height,r=e.canvasX,i=e.canvasY;return{position:"absolute",background:Object(Ue.g)(t)?null:t,width:n,height:a,top:i,left:r}},o.handleTransform=function(e){o.setState(Object(re.a)(Object(re.a)(Object(re.a)({},o.state),e),{},{backgroundResizing:!0}))},o.transformerEnabled=function(){return Object(we.i)()},o.state={showTransformer:!1},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,o=e.canvasX,a=e.canvasY;this.setState({x:o,y:a,width:t,height:n,backgroundResizing:!1})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,o=n.selectedLayerId,a=n.width,r=n.height,i=n.canvasX,s=n.canvasY,c=this.state.backgroundResizing;o===e.selectedLayerId||"background"===o&&o||this.setState({showTransformer:!1,backgroundResizing:!1}),(i!==e.canvasX||s!==e.canvasY||a!==e.width||r!==e.height||t.backgroundResizing!==c&&!c)&&this.setState({width:a,height:r,x:i,y:s}),o!==e.selectedLayerId&&"background"===o&&this.setState({showTransformer:!0,backgroundResizing:!1})}},{key:"render",value:function(){var e=this.state.showTransformer;this.transformerEnabled()||(e=!1);var t=Object(Ue.g)(this.props.background);return Object(oe.jsxs)(oe.Fragment,{children:[e&&Object(oe.jsx)(We.a,Object(re.a)(Object(re.a)(Object(re.a)({},this.props),this.state),{},{isBackgroundTransformer:!0,handleExitEditorClick:function(){},handleTransformFinish:this.handleTransformFinish,handleTransform:this.handleTransform})),Object(oe.jsx)("div",{id:"studio-canvas-background",className:t?Ye.a.backgroundTransparencyGrid:Ye.a.background,style:this.getStyles(),onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,"data-cy":"background"})]})}}]),n}(d.Component),ze=Object(_.c)((function(e){return{canvasX:e.studio.canvasX,canvasY:e.studio.canvasY,width:e.studio.width,height:e.studio.height,selectedLayerId:e.studio.selectedLayerId,background:e.studio.scenes[e.studio.selectedSceneIndex].background,eyedropperMode:e.studio.eyedropperMode,boxSelectedIds:e.studio.boxSelectedIds}}),(function(e){return Object(ie.b)({selectLayer:ue.D},e)})),Xe=Object(m.k)(ze(Ge)),Ze=n(1105),Je=function(e){var t=Object(m.i)(),n=Object(d.useState)(!1),o=Object(k.a)(n,2),a=o[0],r=o[1],i=Object(d.useState)(null),s=Object(k.a)(i,2),c=s[0],l=s[1],u=Object(d.useCallback)((function(e){var n;if(Object(we.i)()){(null===e||void 0===e||null===(n=e.dataTransfer)||void 0===n?void 0:n.types.includes("Files"))&&(["/studio/editor/upload","/studio/editor/drag-upload"].concat(Ze.b.map((function(e){return e.path}))).includes(Object(we.a)(t.pathname))||(Object(we.c)("".concat("/studio/editor","/drag-upload")),a||l(t.pathname)),r(!0))}}),[a,t.pathname]),h=Object(d.useCallback)((function(e){Object(we.i)()&&(r(!1),setTimeout((function(){a||["/studio/editor/upload"].includes(Object(we.a)(t.pathname))||Object(we.c)(c||"/studio/editor")}),300),e.preventDefault())}),[c,a,t.pathname]);return Object(oe.jsx)("div",{onDragEnter:u,onDrop:function(){r(!0)},onDragOver:function(){Object(we.i)()&&r(!0)},onDragLeave:h,className:e.className||"",children:e.children})},qe=n(908),$e=n(1211),et=n(1596),tt=n.n(et),nt=Object(A.a)((function(e){return e.studio.scenes}),(function(e){return e.studio.selectedSceneIndex}),(function(e){return e.studio.groups}),(function(e,t,n){var o=Object.entries(n),a=[],r=[],i=e[t].layers,s=(i=Object(le.c)(e,t)).filter((function(e){var t=e.hidden,n=e.locked,o=e.type;return!t&&!n&&!$e.c.includes(o)}));return s.forEach((function(e){var t=o.find((function(t){var n=Object(k.a)(t,2);n[0];return n[1].layers.find((function(t){return t.id===e.id}))}));if(t){t[1].layers.forEach((function(e){r.push(e.id)}));var n=t[0];if(!!!a.find((function(e){return e.id===n}))){var s=t[1].layers.map((function(e){return e.id})),c=i.filter((function(e){return s.includes(e.id)})),l=t[1],d=l.rotation,u=l.origin,h=Object(le.d)({position:Object(le.e)(c,d,u),shapeType:"group",positionType:"pixel"}),b=[h.tl,h.tr,h.br,h.bl];a.push({id:n,points:b})}}})),s.forEach((function(e){if(!r.includes(e.id)&&e.position){var t=Object(le.d)({position:e.position,shapeType:e.shapeType,positionType:"percent"}),n=[t.tl,t.tr,t.br,t.bl],o=e.id;a.push({id:o,points:n})}})),a})),ot=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleWindowMouseUp=function(){if("dragging"===o.state.boxSelectMouseState.mouseStatus){var e=o.props.boxSelectedIds;Object(me.e)(e,!1)}Object(q.studioSetBoxSelectedIds)([]),o.setState({boxSelectMouseState:$e.d})},o.handleMouseDown=function(e){var t=Object(qe.c)(e),n=t.x,a=t.y,r=n-o.props.containerX,i=a-o.props.containerY;if(r>0){var s={mouseStatus:"mousedown",start:{x:r,y:i},delta:{x:0,y:0}};o.setState({boxSelectMouseState:s})}},o.handleMouseMove=function(e){var t=o.state.boxSelectMouseState,n=o.props,a=n.selectedLayerId,r=n.selectLayer,i=n.boxSelectedIds,s=n.containerX,c=n.containerY,l=e.clientX,d=e.clientY,u=0,h=0,b=Math.max(l-s,0),_=d-c;if(t.start&&(u=b-t.start.x,h=_-t.start.y),(Math.abs(u)>$e.a||Math.abs(h)>$e.a)&&"mouseup"!==t.mouseStatus){!a||"background"!==a&&i.includes(a)||r("");var p=Object(re.a)(Object(re.a)({},t),{},{delta:{x:u,y:h},mouseStatus:"dragging"});o.setState({boxSelectMouseState:p})}},o.renderFrames=function(){return!Object(we.j)()&&!Object(we.h)()&&!Object(we.f)()&&!Object(we.e)()&&!Object(we.k)()},o.state={boxSelectMouseState:$e.d},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.handleWindowMouseUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.handleWindowMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.canvasWidth,n=e.canvasHeight,o=e.layerRects,a=this.state.boxSelectMouseState;return t&&n?Object(oe.jsx)(Je,{className:tt.a.canvas,children:Object(oe.jsxs)("div",{className:tt.a.canvas,"data-cy":"canvas",id:"canvas",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,children:[Object(oe.jsx)(Xe,{}),Object(oe.jsx)(Ie,{}),Object(oe.jsx)(Pe,{}),"dragging"===a.mouseStatus&&Object(oe.jsx)($e.b,{boxSelectMouseState:this.state.boxSelectMouseState,layerRects:o,containerOffsets:{offsetX:0,offsetY:0},location:"canvas"}),this.renderFrames()&&Object(oe.jsx)(Ve,Object(re.a)({},this.props))]})}):null}}]),n}(d.PureComponent),at=Object(_.c)((function(e){return{background:e.studio.scenes[e.studio.selectedSceneIndex].background,canvasWidth:e.studio.width,canvasHeight:e.studio.height,containerX:e.studio.containerX,containerY:e.studio.containerY,selectedLayerId:e.studio.selectedLayerId,boxSelectedIds:e.studio.boxSelectedIds,layerRects:nt(e)}}),(function(e){return Object(ie.b)({selectLayer:ue.D},e)})),rt=Object(m.k)(at(ot)),it=n(334),st=n(1093),ct=n(927),lt=n(23),dt=n(15),ut=n(333),ht=n(1597),bt=n(897),_t=n(59),pt=n(999),mt=n(42),jt=mt.b.withUndoBatch((function(e){e instanceof KeyboardEvent&&e.preventDefault();var t=Object(p.a)(),n=t.state,o=t.dispatch,a=n.studio.scenes[n.studio.selectedSceneIndex],r=n.studio.selectedLayerId,i=a.layers.find((function(e){return e.id===r}));if(i&&"video"===i.type&&i.hasAudio&&!i.detachedAudioId){!function(e,t,n){var o,a=Object(p.a)().dispatch,r=e.timelineRow||0,i=r+1,s=t.map((function(e){return Object(re.a)({},e)}));s.sort((function(e,t){return(e.timelineRow||0)-(t.timelineRow||0)}));for(var c=Object(_t.c)(e,n),l=c.start,d=c.end,u=0;u<s.length;u+=1){var h=s[u],b=h.timelineRow,_=void 0===b?0:b;if(!(_<i)){if(i<_)break;var m=Object(_t.c)(h,n),j=m.start,f=m.end;if(l<=j&&j<d||j<=l&&l<f){o=!0;break}}}o&&s.forEach((function(e){void 0!==e.timelineRow&&r<e.timelineRow&&e.timelineRow<=i&&(a(Object(ue.T)(e,{timelineRow:e.timelineRow+1},!0)),i+=1)}))}(i,a.layers,a.duration);var s=Object(pt.a)(i,!1,!0,!0);o(Object(ue.T)(i,{detachedAudioId:s.detachedAudioId,volume:0,converted_type:"audio"},!0,{volume:i.volume||1,detachedAudioId:null,converted_type:i.converted_type}))}})),ft=n(981),gt=n.n(ft),St=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[bt.a];return function(){return Object(oe.jsxs)(oe.Fragment,{children:[n.map((function(e,t){return Object(oe.jsx)(e,{},t)})),e&&Object(oe.jsx)("span",{className:[gt.a.iconChar,t].join(" "),children:e})]})}},vt=function(e){return function(){return Object(oe.jsx)("div",{children:e})}},Ot=function(e){var t=e.title,n=e.onClick,o=e.renderMacOSIcon,a=e.renderWindowsIcon,r=e.disabled,i=Object(_.e)(),s=J.a.isMac()?o:a,c=r?function(e){return e.stopPropagation()}:function(e){n(e),i(Object(ut.b)())},l=t.split(" ").join("-");return Object(oe.jsxs)("div",{className:Object(J.f)()?[gt.a.item,gt.a.mobileItem].join(" "):gt.a.item,onClick:c,disabled:r,"data-cy":"".concat(l,"-context-menu-item"),children:[Object(oe.jsx)("div",{children:t}),s&&!Object(J.f)()&&Object(oe.jsx)("div",{className:gt.a.icon,children:s()})]})},yt=function(e){var t=e.disabled,n=Object(g.f)((function(e){return{scene:e.studio.scenes[e.studio.selectedSceneIndex],selectedLayerId:e.studio.selectedLayerId}}),g.e),o=n.scene,a=n.selectedLayerId,r=o.layers.find((function(e){return e.id===a}));if(!r)return null;if("video"!==r.type)return null;var i=St("A",void 0,[ht.a,bt.a]),s=vt("Ctrl+Shift+A");return Object(oe.jsx)(Ot,{title:"Detach Audio",onClick:jt,renderMacOSIcon:i,renderWindowsIcon:s,disabled:t||!!r.detachedAudioId||!r.hasAudio})},Ct=function(){return Object(oe.jsx)("div",{className:gt.a.separator})},xt=function(e){e.preventDefault(),e.stopPropagation()},At=function(e){var t=e.children,n=Object(d.useRef)(null),o=Object(_.e)(),a=Object(g.f)((function(e){return{contextMenu:e.contextMenu,selectedLayerId:e.studio.selectedLayerId}}),g.e),r=a.contextMenu,i=a.selectedLayerId,s=Object(d.useRef)(i),c=r||{},l=c.clientX,h=void 0===l?0:l,b=c.clientY,p=void 0===b?0:b;Object(d.useEffect)((function(){window.addEventListener("wheel",xt,{passive:!1}),window.addEventListener("mousemove",xt,{capture:!0});var e=function(e){if(n.current){var t=e.target;t instanceof Window&&o(Object(ut.b)()),e instanceof MouseEvent&&t instanceof Node&&(n.current.contains(t)||e.clientX===h&&e.clientY===p||o(Object(ut.b)()),e.clientX===h&&e.clientY===p&&0===e.button&&o(Object(ut.b)()))}};return window.addEventListener("mousedown",e,!0),window.addEventListener("blur",e),function(){window.removeEventListener("wheel",xt),window.removeEventListener("mousemove",xt,{capture:!0}),window.removeEventListener("mousedown",e,!0),window.removeEventListener("blur",e),o(Object(ut.b)())}}),[]),Object(d.useEffect)((function(){s.current!==i&&o(Object(ut.b)())}));var m=function(){var e;return d.Children.forEach(t,(function(t){u.a.isValidElement(t)&&t.type===yt&&(e=!0)})),!(J.a.isMac()||!e)}();return t?Object(oe.jsx)("div",{ref:n,className:function(){var e=m?gt.a.contextMenuContainerWide:gt.a.contextMenuContainer;return Object(J.f)()?[e,gt.a.mobileContainer].join(" "):e}(),style:function(){var e=window,n=e.innerHeight,o=e.innerWidth,a=Object(J.f)()?0:12,r=Object(J.f)()?40:24,i=164;m&&(i=224),Object(J.f)()&&(i=148);var s=h+i+5-o>0?h-i:h,c=0,l=0;d.Children.forEach(t,(function(e){u.a.isValidElement(e)&&e.type===Ct?l+=1:c+=1}));var b=r*c+12*l+a,_=p-Math.max(p+b+5-n,0);return _!==p&&(s+=s!==h?-2:2),{top:_,left:s}}(),onContextMenu:xt,"data-cy":"context-menu",children:t}):null},Bt=n(108),wt=n(374),kt=n(1026),Et=n(1159),Tt=n(1212),It=n(1096),Lt=n(74);!function(e){e.copy="copy",e.cut="cut",e.paste="paste"}(Ee||(Ee={}));var Dt,Ht=function(e){if(!document.execCommand(e)&&ClipboardEvent){var t=new ClipboardEvent(e);document.dispatchEvent(t)}},Vt=function(){return Ht(Ee.copy)},Mt=function(){return Ht(Ee.cut)},Ft=function(){return Ht(Ee.paste)},Rt=function(e){var t=e.disabled,n=vt("Del"),o=Object(q.studioGetSelectedTimelineGap)()?wt.w:q.studioDeleteSelectedLayer;return Object(oe.jsx)(Ot,{title:"Delete",onClick:o,renderMacOSIcon:function(){return Object(oe.jsx)(bt.b,{})},renderWindowsIcon:n,disabled:t})},Qt=function(e){var t=e.disabled,n=St("",void 0,[bt.a,bt.b]),o=vt("Ctrl+Del");return Object(oe.jsx)(Ot,{title:"Ripple Delete",onClick:wt.x,renderMacOSIcon:n,renderWindowsIcon:o,disabled:t})},Pt=function(e){var t=e.disabled,n=St("C"),o=vt("Ctrl+C");return Object(oe.jsx)(Ot,{title:"Copy",onClick:Vt,renderMacOSIcon:n,renderWindowsIcon:o,disabled:t||Object(wt.z)()})},Nt=function(e){var t=e.disabled,n=St("X"),o=vt("Ctrl+X");return Object(oe.jsx)(Ot,{title:"Cut",onClick:Mt,renderMacOSIcon:n,renderWindowsIcon:o,disabled:t||Object(wt.z)()})},Ut=function(e){var t=e.disabled,n=St("V"),o=vt("Ctrl+V"),a=Object(g.f)((function(e){return e.studio.clipboardCopyId}));return Object(oe.jsx)(Ot,{title:"Paste",onClick:Ft,renderMacOSIcon:n,renderWindowsIcon:o,disabled:t||!a||Object(wt.z)()})},Wt=function(e){var t=e.disabled,n=Object(Tt.a)(),o=St("S",void 0,[]),a=vt("S");return Object(oe.jsx)(Ot,{title:"Split",onClick:kt.e,renderMacOSIcon:o,renderWindowsIcon:a,disabled:t||!Object(kt.c)(n).length})},Kt=function(e){var t=e.disabled,n=Object(g.f)(Et.a),o=St("]",gt.a.iconCharBracket),a=vt("Ctrl+]");return Object(oe.jsx)(Ot,{title:"Bring Forward",onClick:Bt.b,renderMacOSIcon:o,renderWindowsIcon:a,disabled:t||n})},Yt=function(e){var t=e.disabled,n=Object(g.f)(Et.b),o=St("[",gt.a.iconCharBracket),a=vt("Ctrl+[");return Object(oe.jsx)(Ot,{title:"Send Backward",onClick:Bt.f,renderMacOSIcon:o,renderWindowsIcon:a,disabled:t||n})},Gt=function(e){var t=e.disabled,n=e.selectedGroup,o=n&&!!n.saved&&n.layers.every((function(e){return e.saved})),a=o?"Ungroup Layers":"Group Layers";return Object(oe.jsx)(Ot,{title:a,onClick:function(){return Object(me.j)(!o)},disabled:t})},zt=function(e){var t=e.disabled,n=Object(g.f)((function(e){return e.studio.selectedTimelineRows})).length>1;return Object(oe.jsx)(Ot,{title:"Add row above",onClick:It.c,disabled:t||n||Object(wt.z)()})},Xt=function(e){for(var t=e.disabled,n=Object(Lt.b)().layers,o=Object(g.f)((function(e){return e.studio.selectedTimelineRows})),a=[],r=0;r<o.length;r+=1){var i=o[r],s=Object(It.b)(i,n);a=[].concat(Object(U.a)(a),Object(U.a)(s))}var c=o.length>1?"Delete selected rows":"Delete row",l=a.length?It.e:It.a;return Object(oe.jsx)(Ot,{title:c,onClick:l,disabled:t||Object(wt.z)()})},Zt=function(){var e=Object(g.f)((function(e){return{isRippleModeEnabled:Object(he.b)(e)}}),_.d).isRippleModeEnabled;return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(Nt,{disabled:!0}),Object(oe.jsx)(Pt,{disabled:!0}),Object(oe.jsx)(Ut,{}),Object(oe.jsx)(Rt,{disabled:!0}),!e&&Object(oe.jsx)(Qt,{disabled:!0}),Object(oe.jsx)(Ct,{}),Object(oe.jsx)(zt,{}),Object(oe.jsx)(Xt,{})]})},Jt=function(){var e=Object(g.f)((function(e){return{isRippleModeEnabled:Object(he.b)(e)}}),_.d).isRippleModeEnabled;return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(Nt,{}),Object(oe.jsx)(Pt,{}),Object(oe.jsx)(Ut,{disabled:!0}),Object(oe.jsx)(Rt,{}),!e&&Object(oe.jsx)(Qt,{}),Object(oe.jsx)(Ct,{}),Object(oe.jsx)(Wt,{}),Object(oe.jsx)(yt,{})]})},qt=function(){var e=Object(g.f)((function(e){return e.studio.groups[e.studio.selectedLayerId]}));return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(Pt,{}),Object(oe.jsx)(Ut,{}),Object(oe.jsx)(Rt,{}),e&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ct,{}),Object(oe.jsx)(Kt,{}),Object(oe.jsx)(Yt,{}),Object(oe.jsx)(Gt,{selectedGroup:e})]})]})},$t=function(){return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(Pt,{disabled:!0}),Object(oe.jsx)(Ut,{}),Object(oe.jsx)(Rt,{disabled:!0})]})},en=function(){var e=Object(g.f)((function(e){return{isRippleModeEnabled:Object(he.b)(e)}}),_.d).isRippleModeEnabled;return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(Nt,{disabled:!0}),Object(oe.jsx)(Pt,{disabled:!0}),Object(oe.jsx)(Ut,{}),Object(oe.jsx)(Rt,{}),!e&&Object(oe.jsx)(Qt,{disabled:!0}),Object(oe.jsx)(Ct,{}),Object(oe.jsx)(zt,{}),Object(oe.jsx)(Xt,{})]})},tn=function(){return Object(oe.jsxs)(At,{children:[Object(oe.jsx)(zt,{}),Object(oe.jsx)(Xt,{})]})},nn=function(e){var t=e.type,n=Object(_.e)();switch(Object(d.useEffect)((function(){Object.values(dt.b).includes(t)||n(Object(ut.b)())}),[t,n]),t){case dt.b.track:return Object(oe.jsx)(Jt,{});case dt.b.gap:return Object(oe.jsx)(en,{});case dt.b.trackpad:return Object(oe.jsx)(Zt,{});case dt.b.layer:return Object(oe.jsx)(qt,{});case dt.b.background:return Object(oe.jsx)($t,{});case dt.b.row:return Object(oe.jsx)(tn,{});default:return null}},on=function(){var e=Object(g.f)((function(e){return e.contextMenu}));return e?Object(oe.jsx)("div",{className:gt.a.contextMenuOverlay,onClick:pe.c,onContextMenu:pe.c,children:Object(oe.jsx)(nn,{type:e.type})}):null},an=n(230),rn=n(1050),sn=n(1598),cn=n.n(sn),ln=n(950),dn=n(386),un=n(1599),hn=n.n(un),bn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).resizer=null,o.num=void 0,o.isUnderMin=function(e){return Object(qe.b)(e)>window.innerHeight*(1-rn.d)||Object(qe.b)(e)<window.innerHeight*rn.d},o.handleMove=function(e){o.isUnderMin(e)||((0,o.props.changeResize)(Object(qe.b)(e)-o.num),o.num=Object(qe.b)(e))},o.onClick=function(e){(e||window.event).preventDefault(),document.ontouchmove=o.handleMove,document.onmousemove=o.handleMove,o.num=Object(qe.b)(e),o.setState({grabbing:!0});var t=function(){document.ontouchend=null,document.onmouseup=null,document.ontouchmove=null,document.onmousemove=null,o.setState({grabbing:!1})};document.ontouchend=t,document.onmouseup=t},o.num=0,o.state={grabbing:!1},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.resizer&&(this.resizer.onmousedown=this.onClick,this.resizer.ontouchstart=this.onClick)}},{key:"render",value:function(){var e=this,t=this.state.grabbing,n=[hn.a.tResizerBar],o=[hn.a.tResizerHandle];return t&&(n.push(hn.a.grab),o.push(hn.a.grab)),Object(oe.jsx)("div",{ref:function(t){e.resizer=t},className:n.join(" "),children:Object(oe.jsx)("div",{className:o.join(" "),children:Object(oe.jsx)(dn.a,{})})})}}]),n}(d.Component),_n=n(170),pn=function(e){var t=e.onPressPlay,n=Object(_.e)(),o=Object(d.useState)(0),a=Object(k.a)(o,2),r=a[0],i=a[1],s="calc(".concat(rn.b,"vh + ").concat(r,"px)"),c="calc(".concat(rn.a,"vh - ").concat(r,"px)"),l=Object(g.f)((function(e){return{hideTimeline:Object(he.a)(e),scenes:e.studio.scenes}}),g.e),u=l.hideTimeline,h=l.scenes,b=Object(Z.i)(),p=function(){var e={};return u||(e.height=c),b&&(e.opacity=0),e};return!function(e){var t=Object(Lt.b)().history,n=!0;return t&&t.location&&t.location.pathname&&t.location.pathname.includes("scenes")&&!t.location.pathname.includes("sidebar-scenes")&&(n=!1),!n||!e.find((function(e){return!!Object(_n.a)(e).duration}))}(h)?u?Object(oe.jsxs)("div",{className:cn.a.canvasPreviewSeekerContainer,style:p(),children:[Object(oe.jsx)(ln.a,{name:"canvas",multiScene:!0,onPressPlay:t}),Object(oe.jsx)("div",{className:cn.a.timelineLink,"data-cy":"open-timeline",onClick:function(){n(Object(v.p)(!1))},children:Object(oe.jsx)("div",{className:cn.a.timelineButton,children:"Open Timeline"})})]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(bn,{top:s,changeResize:function(e){i(r+e)}}),Object(oe.jsx)("div",{className:cn.a.timelineContainer,style:p(),children:Object(oe.jsx)(ln.a,{name:"timeline",onPressPlay:t,timeline:!0})})]}):null},mn=n(72),jn=n(109),fn=n(985),gn=n(946),Sn=n(380),vn=n.n(Sn),On=n(1600),yn=n.n(On);!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.TOP_LEFT=4]="TOP_LEFT",e[e.TOP_RIGHT=5]="TOP_RIGHT",e[e.BOTTOM_LEFT=6]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=7]="BOTTOM_RIGHT"}(Dt||(Dt={}));var Cn=100,xn=100,An=function(e){var t=e.children,n=e.plugin,o=n.id,a=n.title,r=Object(g.f)((function(e){return e.pluginOrder})),i=Object(_.e)(),s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=s<=768,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=c?Math.min(.7*s,360):Math.min(.3*s,360),h=c?Math.max(.5*l,300):Math.max(.5*l,500),b=c?s/10:s-280-u-20*r.length,p=80+20*r.length,m=Object(d.useState)({width:s,height:l}),j=Object(k.a)(m,2),f=j[0],S=j[1],v=Object(d.useRef)(f),O=Object(d.useState)({top:p,left:b,width:u,height:h}),y=Object(k.a)(O,2),C=y[0],x=y[1],A=Object(d.useRef)(C),B=function(e){A.current=e,x(e)},w=Object(d.useState)(!1),E=Object(k.a)(w,2),T=E[0],I=E[1],L=Object(d.useRef)(T),D=function(e){L.current=e,I(e)},H=Object(d.useState)({initialMouseX:0,initialMouseY:0,initialWindowTop:0,initialWindowLeft:0}),V=Object(k.a)(H,2),M=V[0],F=V[1],R=Object(d.useRef)(M),Q=Object(d.useState)(!1),P=Object(k.a)(Q,2),N=P[0],U=P[1],W=Object(d.useRef)(N),K=function(e){W.current=e,U(e)},Y=Object(d.useState)({initialMouseX:0,initialMouseY:0,initialWindowTop:0,initialWindowLeft:0,initialWindowWidth:0,initialWindowHeight:0,resizeDirection:Dt.TOP}),G=Object(k.a)(Y,2),z=G[0],X=G[1],Z=Object(d.useRef)(z),J=Object(d.useState)(6+r.indexOf(n.id)),q=Object(k.a)(J,2),$=q[0],ee=q[1],te=Object(d.useRef)(null),ne=function(e){if(!(e instanceof MouseEvent&&0!==e.button)){D(!0);var t=Object(qe.c)(e);!function(e){R.current=e,F(e)}({initialMouseX:t.x,initialMouseY:t.y,initialWindowTop:C.top,initialWindowLeft:C.left})}},ae=function(e,t){if(!(e instanceof MouseEvent&&0!==e.button)){K(!0);var n=Object(qe.c)(e);!function(e){Z.current=e,X(e)}({initialMouseX:n.x,initialMouseY:n.y,initialWindowTop:C.top,initialWindowLeft:C.left,initialWindowWidth:C.width,initialWindowHeight:C.height,resizeDirection:t})}};Object(d.useEffect)((function(){var e=vn()((function(e){var t=L.current,n=W.current;(t||n)&&(t?function(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=Object(qe.c)(e),a=o.x,r=o.y;r<0&&(r=0),a<0&&(a=0),r>n&&(r=n),a>t&&(a=t);var i=R.current,s=A.current,c=i.initialMouseX,l=i.initialMouseY,d=i.initialWindowTop,u=i.initialWindowLeft,h=s.width,b=s.height,_=d-(l-r);B({top:_>0?_:0,left:u-(c-a),width:h,height:b})}(e):n&&function(e){var t=Z.current,n=A.current,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=Object(qe.c)(e),i=r.x,s=r.y,c=t.initialMouseX,l=t.initialMouseY,d=t.initialWindowTop,u=t.initialWindowLeft,h=t.initialWindowWidth,b=t.initialWindowHeight,_=t.resizeDirection,p=n.top,m=n.left,j=n.width,f=n.height;switch(_){case Dt.TOP:s<0&&(s=0);var g=d-(l-s),S=g-p,v=Math.min(g,d+b-Cn),O=Math.max(f-S,Cn);B({top:v,left:m,width:j,height:O});break;case Dt.BOTTOM:s>a&&(s=a);var y=l-s,C=Math.max(b-y,Cn);B({top:p,left:m,width:j,height:C});break;case Dt.LEFT:i<0&&(i=0);var x=c-i,w=u-x,k=Math.min(w,u+h-Cn),E=Math.max(h+x,xn);B({top:p,left:k,width:E,height:f});break;case Dt.RIGHT:i>o&&(i=o);var T=h-(c-i),I=Math.max(T,xn);B({top:p,left:m,width:I,height:f});break;case Dt.TOP_RIGHT:i>o&&(i=o),s<0&&(s=0);var L=d-(l-s),D=L-p,H=Math.min(L,d+b-Cn),V=Math.max(f-D,Cn),M=h-(c-i),F=Math.max(M,xn);B({top:H,left:m,width:F,height:V});break;case Dt.TOP_LEFT:s<0&&(s=0),i<0&&(i=0);var R=d-(l-s),Q=R-p,P=Math.min(R,d+b-Cn),N=Math.max(f-Q,Cn),U=c-i,W=u-U,K=Math.min(W,u+h-Cn),Y=Math.max(h+U,xn);B({top:P,left:K,width:Y,height:N});break;case Dt.BOTTOM_LEFT:s>a&&(s=a),i<0&&(i=0);var G=l-s,z=Math.max(b-G,Cn),X=c-i,J=u-X,q=Math.min(J,u+h-Cn),$=Math.max(h+X,xn);B({top:p,left:q,width:$,height:z});break;case Dt.BOTTOM_RIGHT:s>a&&(s=a),i>o&&(i=o);var ee=l-s,te=Math.max(b-ee,Cn),ne=h-(c-i),oe=Math.max(ne,xn);B({top:p,left:m,width:oe,height:te})}}(e))}),20),t=function(){D(!1),K(!1)},n=vn()((function(){var e=A.current,t=e.top,n=e.left,o=e.width,a=e.height,r=v.current,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=i-r.width,l=s-r.height;!function(e){v.current=e,S(e)}({width:i,height:s});var d=c/r.width,u=l/r.height,h=Math.max(0,n+d*n);B({left:h,top:t,width:o,height:a+u*a})}),100),o=function(t){return e(t)},a=function(t){return e(t)};return window.addEventListener("mousemove",o),window.addEventListener("mouseup",t),document.addEventListener("touchmove",a,{passive:!1}),document.addEventListener("touchend",t),window.addEventListener("resize",n),function(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",t),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",t),window.removeEventListener("resize",n)}}),[]);Object(d.useEffect)((function(){ee(6+r.indexOf(n.id))}),[n.id,r]);var ie=r.indexOf(n.id)===r.length-1;return Object(oe.jsxs)("div",{className:function(){var e=yn.a.container,t=L.current,n=W.current;return(t||n)&&(e+=" ".concat(yn.a.containerNoPointerEvents)),e}(),"data-cy":"plugin-window",style:Object(re.a)(Object(re.a)({},C),{},{zIndex:$}),ref:te,onClick:function(){return i(Object(gn.c)(n.id))},children:[Object(oe.jsx)("div",{className:yn.a.topResizer,onMouseDown:function(e){return ae(e,Dt.TOP)},onTouchStart:function(e){return ae(e,Dt.TOP)}}),Object(oe.jsx)("div",{className:yn.a.bottomResizer,onMouseDown:function(e){return ae(e,Dt.BOTTOM)},onTouchStart:function(e){return ae(e,Dt.BOTTOM)}}),Object(oe.jsx)("div",{className:yn.a.leftResizer,onMouseDown:function(e){return ae(e,Dt.LEFT)},onTouchStart:function(e){return ae(e,Dt.LEFT)}}),Object(oe.jsx)("div",{className:yn.a.rightResizer,onMouseDown:function(e){return ae(e,Dt.RIGHT)},onTouchStart:function(e){return ae(e,Dt.RIGHT)}}),Object(oe.jsx)("div",{className:yn.a.topLeftResizer,onMouseDown:function(e){return ae(e,Dt.TOP_LEFT)},onTouchStart:function(e){return ae(e,Dt.TOP_LEFT)}}),Object(oe.jsx)("div",{className:yn.a.topRightResizer,onMouseDown:function(e){return ae(e,Dt.TOP_RIGHT)},onTouchStart:function(e){return ae(e,Dt.TOP_RIGHT)}}),Object(oe.jsx)("div",{className:yn.a.bottomLeftResizer,onMouseDown:function(e){return ae(e,Dt.BOTTOM_LEFT)},onTouchStart:function(e){return ae(e,Dt.BOTTOM_LEFT)}}),Object(oe.jsx)("div",{className:yn.a.bottomRightResizer,onMouseDown:function(e){return ae(e,Dt.BOTTOM_RIGHT)},onTouchStart:function(e){return ae(e,Dt.BOTTOM_RIGHT)}}),Object(oe.jsxs)("div",{className:yn.a.header,onMouseDown:function(e){return ne(e)},onTouchStart:function(e){return ne(e)},children:[Object(oe.jsx)("div",{className:yn.a.title,children:a}),Object(oe.jsx)(Oe.l,{className:yn.a.closeIcon,"data-cy":"plugin-window-close",onClick:function(){i(Object(gn.a)(o))}})]}),!ie&&Object(oe.jsx)("div",{className:yn.a.isBackground,"data-cy":"plugin-window-background-clickable"}),t]})},Bn=n(1601),wn=n.n(Bn),kn=function(){var e=Object(_.e)(),t=Object(g.f)((function(e){return e.plugins})),n=Object(g.f)((function(e){return e.pluginOrder}));return Object(d.useEffect)((function(){var t=function(){var t=Object(r.a)(a.a.mark((function t(n,o){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(mn.h)(n,{mime:"image/jpeg",source:"pastedLink",pluginSource:o});case 2:r=t.sent;try{Object(mn.o)(Object(re.a)(Object(re.a)({},r),{},{uploadPending:!0}),!0)}catch(a){console.error(a)}return t.next=6,Object(jn.b)(r.url||"");case 6:i=t.sent,r.asset_id=i._id,r.url=i.url,r.pastedUrl=i.url;try{Object(mn.p)(Object(re.a)(Object(re.a)({},r),{},{uploadPending:!1}))}catch(a){console.error(a)}e(Object(ue.D)(r.id));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(){var t=Object(r.a)(a.a.mark((function t(n,o){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(mn.h)(n,{source:"pastedLink",pluginSource:o,pastedUrl:n});case 4:r=t.sent;try{Object(mn.o)(Object(re.a)(Object(re.a)({},r),{},{uploadPending:!0}),!0)}catch(a){console.error(a)}return t.next=8,Object(jn.b)(r.url||"");case 8:i=t.sent,r.asset_id=i._id,r.url=i.url,r.pastedUrl=i.url;try{Object(mn.p)(Object(re.a)(Object(re.a)({},r),{},{uploadPending:!1}))}catch(a){console.error(a)}e(Object(ue.D)(r.id));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(a.a.mark((function e(o){var r,i,s,c,l,d,u,h,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.data,i=o.origin,s=o.source,c=!0,i.includes(".kapwing.xyz")||i.includes("localhost")){e.next=4;break}return e.abrupt("return");case 4:if(l=r.message,d=r.value,l&&d){e.next=7;break}return e.abrupt("return");case 7:if(u=d.url,h=d.pluginInfo,b=h.id,fn.b.findIndex((function(e){return e.id===b}))>=0){e.next=12;break}return e.abrupt("return");case 12:Object(O.j)("Add layer from Plugin",{Plugin:b}),e.prev=13,e.t0=l,e.next="image-add-from-url"===e.t0?17:"video-add-from-url"===e.t0?20:23;break;case 17:return e.next=19,t(u,b);case 19:return e.abrupt("break",23);case 20:return e.next=22,n(u,b);case 22:return e.abrupt("break",23);case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),c=!1;case 28:return e.prev=28,!s||s instanceof MessagePort||s instanceof ServiceWorker||s.postMessage({success:c,url:u},i),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[13,25,28,31]])})));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("message",o,!1),function(){return window.removeEventListener("message",o)}}),[e]),Object(d.useEffect)((function(){t.length>6&&n.length>6&&e(Object(gn.a)(n[0]))}),[e,t,n]),Object(oe.jsx)(oe.Fragment,{children:t.map((function(e){var t=fn.b.find((function(t){return t.id===e}));if(!t)return null;var n=t.url,o=t.title,a=t.id;return Object(oe.jsx)(An,{plugin:t,children:Object(oe.jsx)("iframe",{title:o,src:n,className:wn.a.iframe})},a)}))})},En=n(37),Tn=n(134),In=n(25),Ln=n(143),Dn=n(376),Hn=n(1602),Vn=n.n(Hn),Mn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handlePreemptiveFinish=function(e){return function(t){return o.setState({uploading:!0}),Object(mn.o)(t,!0,e)}},o.handleError=function(){o.setState({uploading:!1})},o.handleCancel=function(){o.setState({uploading:!1})},o.state={uploading:!1},o}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedSceneId,n=e.setProjectName,o=e.showStudioCanvas,a=e.projectName,r=e.showToolTip,i=this.state.uploading;return Object(oe.jsxs)("div",{className:Vn.a.container,children:[!i&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:Vn.a.createFromBlank,onClick:function(){a||n("Studio Draft"),o(),r("")},"data-cy":"create-from-blank",children:"Start with a blank canvas"}),Object(oe.jsx)("div",{className:Vn.a.or,children:"or"})]}),Object(oe.jsx)("div",{className:Vn.a.createFromUpload,children:Object(oe.jsx)(Dn.a,{handlePreemptiveFinish:this.handlePreemptiveFinish(t),handleFinish:function(e){return Object(mn.p)(e,t)},handleError:this.handleError,handleCancel:this.handleCancel,multiple:!0,uploadLocation:"blank"})})]})}}]),n}(d.Component),Fn=Object(_.c)((function(e){return{selectedSceneId:e.studio.selectedSceneId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,projectName:e.projectName}}),(function(e){return Object(ie.b)({showStudioCanvas:Tn.h,showError:In.d,setProjectName:Ln.a,showToolTip:v.B},e)})),Rn=Object(m.k)(Fn(Mn)),Qn=n(1228),Pn=n(846),Nn=n(395),Un=n(915),Wn=n(847),Kn=n(192),Yn=n(876),Gn=n(899),zn=n(1603),Xn=n.n(zn),Zn=n(201),Jn=n(104),qn=n(406),$n=n(1621),eo=n.n($n),to="0s (Image)",no=[.5,1,2,5,10],oo=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;Object(i.a)(this,n),(o=t.call(this,e)).mounted=!1,o.validateAndSubmit=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=o.props,n=t.scenes,a=t.selectedSceneIndex,r=t.hasCustomOutput,i=o.state.isImageVideo,s=o.getDuration(),c=n[a],l=c.duration||-1;o.validateDuration()&&o.updateDuration({scene:c,newDuration:s,oldDuration:l,userSetDuration:e,hasCustomOutput:r,isImageVideo:i})},o.updateDuration=mt.b.withUndoBatch((function(e){var t,n=e.scene,a=e.newDuration,r=e.userSetDuration,i=e.hasCustomOutput,s=e.isImageVideo,c=o.props,l=c.setStudioDuration,d=c.setImageVideo,u=c.updateScene,h=c.onDurationAdded;a&&(Object(_n.d)(n,a,!0),null===h||void 0===h||h(a)),(null===(t=n.layers)||void 0===t?void 0:t.length)&&a||(l(a,!0),d(s)),u(n,{userSelectedDuration:a,userSetDuration:r,duration:a},!0),i&&Object(q.studioCheckCustomOutputSize)()})),o.setPresetOutputType=function(e,t){o.setState({customDurationSelected:!1,customDurationInputDone:!1,selectingCustom:!1,isImageVideo:e,duration:t,errorMessage:""},(function(){o.validateAndSubmit()}))},o.handleChange=function(e,t){o.setState({duration:t,isImageVideo:!0},o.validateDuration)},o.setCustomDuration=function(){o.setState({customDurationSelected:!0,isImageVideo:!0,selectingCustom:!0,customDurationInputDone:!1})},o.setCustomDurationDone=function(){var e=o.props,t=e.scenes,n=e.selectedSceneIndex,a=e.hasCustomOutput,r=o.state.isImageVideo,i=t[n],s=o.validateDuration(),c=o.getDuration(),l=i.duration||0;if(s){var d=function(e){var t=e.newDuration;o.setState({customDurationSelected:!0,customDurationInputDone:!0,isImageVideo:!0,selectingCustom:!1}),o.updateDuration({scene:i,newDuration:t,oldDuration:l,userSetDuration:!0,hasCustomOutput:a,isImageVideo:!0})};d({newDuration:c,isImageVideo:r,scene:i,userSetDuration:!0,customDurationSelected:!0}),mt.b.add({undo:{properties:{newDuration:l,isImageVideo:o.props.isImageVideo,scene:i,userSetDuration:!!i.userSetDuration,customDurationSelected:o.state.customDurationSelected},func:function(e){return d(e.properties)}},redo:{func:function(){return d({newDuration:c,isImageVideo:r,scene:i,userSetDuration:!0,customDurationSelected:!0})}}})}else{var u=o.getDuration();-1!==u&&0!==u||o.setState({customDurationSelected:!1,customDurationInputDone:!1,selectingCustom:!1})}},o.getInitialCustomLength=function(){if(!o.props.duration)return"";if(o.props.duration<60)return o.props.duration;var e=o.props.duration/60,t=(o.props.duration%60).toString();return 1===t.length&&(t="0".concat(t)),"".concat(e,":").concat(t)},o.handleKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),o.setCustomDurationDone())},o.handleOutputSelector=function(e,t,n){var a=o.props,r=a.updateLayer,i=a.scene,s=a.showStudioCanvas;if(o.setPresetOutputType(e,t),s(),n===to){var c,l=Object(E.a)(i.layers);try{for(l.s();!(c=l.n()).done;){var d=c.value;"text"!==d.type&&"shape"!==d.type&&"image"!==d.type||r(d,{hidden:!1,startTime:void 0,endTime:void 0,duration:void 0})}}catch(u){l.e(u)}finally{l.f()}!function(){for(var e=Object(qn.a)().getState().studio,t=e.scenes[e.selectedSceneIndex].layers,n=0;n<t.length;n+=1)"subtitle"===t[n].type&&""===t[n].text&&Object(q.studioDeleteLayerById)(t[n].id,!1)}()}},o.goBack=function(){o.validateDuration()&&Object(we.d)()},o.validateDuration=function(){if(!o.state.isImageVideo)return!0;var e=o.getDuration();return e>=.1&&e<=X.o?(o.setState({errorMessage:""}),!0):e>X.o?(o.setState({errorMessage:"Max duration is ".concat(X.p," hour")}),!1):e>=0?(o.setState({errorMessage:"Min duration is .1 second"}),!1):(o.setState({errorMessage:"Poorly formatted duration, try something like 123, 1.23, or 1:23"}),!1)},o.getDuration=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.props.duration;t=t||0;var n=e?t.toString():o.state.duration.toString();if(n.match(/^(\d*\.*\d+|\.\d)$/))return parseFloat(n);if(n.match(/^(\d+):(\d+)$/)){var a=n.match(/^(\d+):(\d+)$/);if(a&&parseInt(a[2],10)<60)return 60*Number(a[1])+parseInt(a[2],10)}return-1},o.renderCustomDurationButton=function(){var e=o.getDuration(!0),t="".concat(eo.a.button," ").concat(eo.a.outputSelectorButton);o.state.customDurationSelected&&(t+=" ".concat(eo.a.buttonSelected));var n=" Duration",a=Math.round(100*e)/100;return o.state.customDurationInputDone&&(n=": ".concat(a,"s")),Object(oe.jsxs)(oe.Fragment,{children:[!o.state.selectingCustom&&Object(oe.jsxs)("div",{className:t,style:{marginLeft:"0px"},onClick:o.setCustomDuration,"data-cy":"custom-duration-button",children:["Custom",n]}),o.state.customDurationSelected&&!o.state.customDurationInputDone&&Object(oe.jsxs)("div",{className:eo.a.inputContainer,children:[Object(oe.jsx)(Xn.a,{id:"contentEditable",className:eo.a.thinOverlayContentEditable,onKeyPress:o.setCustomDuration,onChange:o.handleChange,contentEditable:"plaintext-only",tabIndex:0,html:o.getInitialCustomLength(),onKeyDown:o.handleKeyDown,placeholder:"Duration (e.g. 10)","data-cy":"custom-duration-input"}),Object(oe.jsx)("div",{onClick:function(){return o.setCustomDurationDone()},className:"".concat(eo.a.customSelectButton," ").concat(eo.a.outputSelectorButton),"data-cy":"custom-duration-input-done-button",children:"Done"})]})]})},o.renderOutputTypeButton=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="".concat(eo.a.button," ").concat(eo.a.outputSelectorButton);!o.state.customDurationSelected&&e&&o.state.isImageVideo&&o.props.duration===t?n+=" ".concat(eo.a.buttonSelected):o.state.customDurationSelected||e||o.state.isImageVideo||(n+=" ".concat(eo.a.buttonSelected));var a=to;return e&&(a="".concat(t,"s")),Object(oe.jsx)("div",{className:n,"data-cy":"".concat(t,"s-duration-button"),style:{marginLeft:"0px"},onClick:function(){return o.handleOutputSelector(e,t,a)},children:a},t)};var a=e.isImageVideo,r=e.duration;return o.state={customDurationSelected:!1,customDurationInputDone:!1,selectingCustom:!1,isImageVideo:a||!1,duration:r||0,errorMessage:""},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props,t=e.isImageVideo,n=e.duration;t&&!no.includes(n)&&this.setState({customDurationSelected:!0,customDurationInputDone:!0,selectingCustom:!1}),Object(Zn.d)()}},{key:"componentDidUpdate",value:function(e){var t=this.state,n=t.customDurationSelected,o=t.customDurationInputDone,a=this.props.duration;a!==e.duration&&(a&&!no.includes(a)&&(n||o)||(!a||no.includes(a)||n&&o?(n||o)&&this.setState({customDurationSelected:!1,customDurationInputDone:!1}):this.setState({customDurationSelected:!0,customDurationInputDone:!0})))}},{key:"renderOkButton",value:function(){var e=this;return Object(oe.jsx)("div",{className:"".concat(eo.a.button," ").concat(eo.a.outputSelectorButton," ").concat(eo.a.buttonOk),style:{marginLeft:"0px"},onClick:this.props.inline?function(){return e.validateAndSubmit()}:this.goBack,children:"OK"})}},{key:"renderErrorMessage",value:function(){return this.state.errorMessage?Object(oe.jsx)("div",{className:eo.a.errorMessage,children:this.state.errorMessage}):null}},{key:"render",value:function(){var e=this,t=this.props.subtitler,n=(!this.props.scenes||1===this.props.scenes.length)&&!function(){for(var e=Object(qn.a)().getState().studio,t=e.scenes[e.selectedSceneIndex].layers,n=!1,o=0;o<t.length;o+=1)if("subtitle"===t[o].type&&""!==t[o].text){n=!0;break}return n}()&&!t;return Object(oe.jsxs)(oe.Fragment,{children:[!Object(J.f)()&&Object(oe.jsx)("div",{className:eo.a.header,children:"SELECT OUTPUT DURATION"}),n&&this.renderOutputTypeButton(!1),no.map((function(t){return e.renderOutputTypeButton(!0,t)})),this.renderCustomDurationButton(),this.renderErrorMessage()]})}}]),n}(d.Component),ao=Object(_.c)((function(e){return{duration:e.studio.scenes[e.studio.selectedSceneIndex].duration,scene:e.studio.scenes[e.studio.selectedSceneIndex],isImageVideo:e.studio.scenes[e.studio.selectedSceneIndex].isImageVideo,scenes:e.studio.scenes,selectedSceneIndex:e.studio.selectedSceneIndex,hasCustomOutput:e.studio.hasCustomOutput,customOutputWidth:e.studio.customOutputWidth,customOutputHeight:e.studio.customOutputHeight}}),(function(e){return Object(ie.b)({setImageVideo:Tn.d,setStudioDuration:Tn.g,showStudioCanvas:Tn.h,updateScene:Jn.f,updateLayer:ue.T},e)}))(oo),ro=n(979),io=n.n(ro),so=n(1259),co=function(e){for(var t,n,o=e.ratio,a=e.hasCustomOutput,r=e.outputWidth,i=e.outputHeight,s=e.mobileToolTray,c=Object(Kn.d)(o),l=c.ratioWidth,d=c.ratioHeight,u=[[1,1],[9,16],[16,9],[4,5],[5,4]],h=-1,b=0;b<u.length;b+=1){var _=u[b];if(t=_[0],n=_[1],t/n*100/100===l/d*100/100){h=b;break}}var p,m=Math.round(Number(r)),j=Math.round(Number(i));return p=s?"Custom":a?"Custom - ".concat(m," x ").concat(j):"Custom Size",Object(oe.jsxs)(Wn.a,{title:"OUTPUT SIZE",children:[u.map((function(e,t){return Object(oe.jsx)(Pn.g,{label:"".concat(e[0],":").concat(e[1]),selected:h===t&&!a,handleClick:function(){Object(q.studioSetAspectRatio)(e[0],e[1],!0),Object(q.studioSetDefaultOutputSize)(),Object(q.studioHideFullScreenControls)()}},"output-size-".concat(e[0],":").concat(e[1]))})),s?Object(oe.jsx)(Pn.g,{label:p,selected:a,handleClick:function(){Object(we.c)("/studio/editor/output-resize")}}):Object(oe.jsx)(Un.a,{children:Object(oe.jsx)(Pn.g,{label:p,selected:a,handleClick:function(){Object(we.c)("/studio/editor/output-resize")}})})]})},lo=function(){return Object(oe.jsxs)(Wn.a,{title:"EXPAND PADDING",column:!0,children:[Object(oe.jsxs)(Un.a,{children:[Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMJSURBVHgB7dzRbRtHFIbRO4EKcAlMB04HSgcpweogJTAdpISU4BLSQVSCSlAFmuzACwQBAvuHs3cN0ucA91HLgTgf+LR3zE0BnzN/KOCLhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBB62+a0AAAAAAAAAAAAAAAAAAAAAuEuj4Dsx56yvNbY/vlSP1zHGa8EJ9gje7fNf/t+PwuxzLTjJCmXdudnjzQI8CAgFAkKBgFAgIBQICAUCQoGAUCAgFAgIBQJCgYBQICAUCAgFAkKBgFAgIBQICAUCQoGAUCDwUHBfvn4n0WeeuUJ5qh7PBef6uM1LHa8jPgAAAAAAAAAAAAAAAAAAADjFKLgTc/btgBjbwx+rx8sY46XgBHskl21+rOPN9QFdrgUnWaGsOzd7vNkUCQGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEHmptmID70XGfp3VF3IX5z7qiSx3PjwkAAAAAAAAAAAAAAAAAAAA3a+wv5fc8fIyCs3Te5bWu6Kl6/LXNc8EJ9kjeb/NTHW+uD+hyLTjJCmXdudnjzaZICAgFAkKBgFAgIBQICAUCQoGAUCAgFAgIBQJCgYBQICAUCAgFAkKBgFAgIBQICAUCQoGAUCCwtrD07XiB83Xc57n2el2qx+sY47XgBPPTuqJ3+wAAAAAAAAAAAAAAAAAAAAC7sb+U3/PwMeponeddnPkTZ/63ta7oWj3+3Odoa8vGr9Xj4zbPdaD9y7ts86F6/LHNSx1oP/P7bX6pHr9vc+iGnv3Mj/scb/a5VoO1Xmn2eNvmQx1se+aan2ePdebHOth+5qfZY535Ugfbz3ydPd5ucVPk8b/Z8AU3Fcqcllrybdg9DAGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAYG1hucX3azvOPKvvf9H17Fs9c6eWM/8N7Yd9SEXuoK8AAAAASUVORK5CYII=",title:"top-padding",label:"Top",handleClick:q.studioAddPaddingTop}),Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALCSURBVHgB7dzBjRQxEIbRMtoACGHIADIgFDaTISNCIAM2hAlhIhjTFi0BB5Zf2qmWWN6TfHX74E8+ddXsc64G276n2edTNdj2/Th73NbedWfbnms9zh7rzKe6s/3M59nj9qaAvxIKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBB42Nbn6vG1elyr78xP1eNSfWe+VI9v1Xfma/X4WgAAAAAAAAAAAAAAAAAAAMBvRsF/YM5ZLzG2DU7V4zrG6Jq2Ab/ZQ3i7r1/d5zGYfc4FB1mhrDs3e9wMwIOAUCAgFAgIBQJCgYBQICAUCAgFAkKBgFAgIBQICAUCQoGAUCAgFAgIBQJCgYBQICAUCAgFAg8Fr8vL5hL9Yc8VymP1eCo41pdtXer+OuIDAAAAAAAAAAAAAAAAAACAQ4yCV2LOvhkQY9v8Y/W4jDEuBQfYIzlt613d31wf6HIuOMgKZd252eNmUiQEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEHioNWECXo+O+zyNK+JVmD/HFZ3q/jwmAAAAAAAAAAAAAAAAAAAA/LPG/lN+z+ZjFByl8y6vcUWP1ePbtp4KDrBH8n5bH+r+5vpAl3PBQVYo687NHjeTIiEgFAgIBQJCgYBQICAUCAgFAkKBgFAgIBQICAUCQoGAUCAgFAgIBQJCgYBQICAUCAgFAkKBwJrC0jfjBY7XcZ/nmut1qh7XMca14ADzx7iit/sCAAAAAAAAAAAAAAAAAAAAdmP/KR94xhpXdC7gWetF8aTA86ZJkRAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAYE1hMVwCnje/A6WZV6M8uedmAAAAAElFTkSuQmCC",title:"bottom-padding",label:"Bottom",handleClick:q.studioAddPaddingBottom})]}),Object(oe.jsx)(Un.a,{}),Object(oe.jsxs)(Un.a,{children:[Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOmSURBVHgB7dzRaRxXFIDhuyEFuAS5A7sDl+ASlA7cgZQOUoJKcAnqICphS1AFnszGA4EE4z9o7sMM3wcHvQ2XFT/aK5gzlnkexwTrc++Wee7HBOtzPy1zfLs9e+xsfeZtflvmuJ35buxsO/PjMse3XwbwU0KBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUDw6zie13V+H3O8jDmuY96Zr2OOP8e8M7+OOZ7HLMs8jwNOwlcvCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgOOJyCfjflmUZbyEUTmEL4d02/3YZbyQUzuTLOg9jf4s7CgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAsslOJu37SX6wTOFwpl8Xec69icUzuFy+Xt118s2u3NHgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAu/McxrLMmMBy3dC4RS2SO7WeT/2ZwsLp3K/zsPY3+KOAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBwHIJzmbGziJbWDiVp3Wex/6EwjlcLpfbj+s2u3NHgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAu/McxrLMmMBy3dC4RS2SD6s83HszxYWTuXzOg9jf4s7CgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAsslOJsZO4tsYeFU/ljnaUwgFE7hcrncfrxuszt3FAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIDjcO/PLMmPJxj+2d6935cz/dbQzH3G5xLt1vow5vq7zMna0/fLu1rkfczytcx072s78YZ3PY47btpRdl0BsZ/60ze6OGsrD2N/tk76OnUPZvB/zzvw8dg5l83HMO/PTmLMt5dOYdOYj3lH2/5sNP3GoUGZ/b4Yf8V8vCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCwW25xBHfr51x5mXM+yxmPfuoZ55pypn/AochnbWzH6KpAAAAAElFTkSuQmCC",title:"left-padding",label:"Left",handleClick:function(){Object(q.studioAddPaddingLeft)()}}),Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN/SURBVHgB7dzBbSRVFEDRV6gDgAwMEUAGIyIghJkMyABPBkSAJgQywBmMM6BDcARTdIlem7voj8atc6S//Xqy+0r1N2/2dR5ngcu9D/s672eBy73v9jW+HHfPjV3uPM6HfY1j5oe5sevMj/saX74Z4D8JBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCwelyPs4aT7PGy6yb+XnWOM+6mc+zxudZN/PLAP8/64rgKyAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgOO37/jBrvGzbZtsGd+FYV/T3rHGsunkcuAM+vSAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFgmMLy4dZ43ngTpy2bfs0wKt8ekEgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIDjt+/5u1jhv23YeuAPHuqK/Zo2Pl/M4cAd8ekEgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIDiWS+wDvOoI5edZ4zxwJ07btj0N8CpvFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIDjt+7olLNu2DdyDYwvLh1nj8+U8D9yBI5Q/Zo2PIxTuhDcKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAWCY7nEun1FcCeOUH6YNV4G7sRp27bzAK/yRoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBYLTvq9bwrJt29zaynkPZv7XW5x5pWMLy+Os8XQ9t/bt5fw6a/x5Oc9zQ9cf3MPlvJ81Pl3OeW7oOvOPl/PLrPH7vLEtPUcov806T3ND13/gd7Nm5uPy89w4lKvvZ93MT3PjUK5+mnUzf5o3Foo3CgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFgmO5xNq9NGusmHmfdX+LVXe/1ZlXWjLzP8FYj8T/8VMGAAAAAElFTkSuQmCC",title:"right-padding",label:"Right",handleClick:q.studioAddPaddingRight})]}),Object(oe.jsx)(Un.a,{}),Object(oe.jsx)(Un.a,{children:Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANCSURBVHgB7dzRbRtXEIbR2UAFuASmA6cDpYOUIHWQEpgOUkJKcAnqwCqBJbAC3uyFFwgEBPEPZ2cNyucA86jVQNoPfOLU6HOuButzT6PPUzVYn/s4etzms2tn6zPnPI8ec+dT7Wzb+Tx63H4q4KuEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEHtb5o3q8VI9r9e38Wj0u1bfzpXp8rr6dr9XjpQAAAAAAAAAAAAAAAAAAAIA3loIfxBijvtWy/vCpelyXZem6tgFvbBF82Obf/L8PhdHnXHCQGcp850aPmwN4EBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUDgoeB9+fabRP/xzBnKc/V4LTjWp3Uutb+O+AAAAAAAAAAAAAAAAAAAAOAQS8E7MUbfDYhlffhj9bgsy3IpOMAWyWmdn2t/Y/6CLueCg8xQ5js3etxcioSAUCAgFAgIBQJCgYBQICAUCAgFAkKBgFAgIBQICAUCQoGAUCAgFAgIBQJCgYBQICAUCAgFAg81L0zA+9HxPg/ningXxj/nik61Px8mAAAAAAAAAAAAAAAAAAAA3K1l+1J+z8OXpeAone/yPFf0XD0+r/NacIAtko/r/FL7G/MXdDkXHGSGMt+50ePmUiQEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEJhXWPpuvMDxOt7nMe96narHdVmWa8EBxpdzRR+2AQAAAAAAAAAAAAAAAAAAADbL9qX8nocvS+2tc9/Jzl/Y+a15ruhcPV622du8svF79fi0zmvtaPvnndZ5qh5/rXOpHW07f1znt+rx5zq7XujZdn7cZn+jz7kazPNKo8dtnafa2frMOb+OHnPnx9rZtvPz6DF3PtXOtp3Po8ftHi9F7v+ZDV9xV6GM4agl34fbwxAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBOYVlnv8fm3HzqP6/hZdz77XnTu17Pw3G2JXVBhW0+wAAAAASUVORK5CYII=",title:"remove-padding",label:"Remove Padding",handleClick:q.studioRemovePadding})})]})},uo=function(e){var t=e.hideTransparent,n=e.scene;return Object(oe.jsx)(Wn.a,{title:"BACKGROUND COLOR",children:Object(oe.jsx)(Yn.a,{color:n.background,path:"/studio/editor/background/color",previewList:!0,isBackground:!0,hideTransparent:t})})},ho=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,videoId:e.studio._id,audio:e.audio,scenes:e.studio.scenes,scene:e.studio.scenes[e.studio.selectedSceneIndex],background:e.studio.scenes[e.studio.selectedSceneIndex].background,ratio:e.studio.ratio,hasCustomOutput:e.studio.hasCustomOutput,customOutputWidth:e.studio.customOutputWidth,customOutputHeight:e.studio.customOutputHeight,duration:e.studio.duration,videoType:e.studio.videoType,hideTimeline:Object(he.a)(e),globalAudio:e.audio}}),(function(e){return Object(ie.b)({selectLayer:ue.D},e)})),bo=Object(m.k)(ho((function(e){var t,n=e.layers,o=e.scene,a=e.scenes,r=e.ratio,i=e.hasCustomOutput,s=e.customOutputWidth,c=e.customOutputHeight,l=e.duration,d=e.videoType,u=e.selectedLayerId,h=e.hideTimeline,b=e.globalAudio,_=Object(Z.k)(),p=n.filter((function(e){return"image/gif"===e.mime||"image/gif"===e.content_type})).length>0&&"gif"!==d||l>0&&"gif"!==d,m=!!Object(_n.a)(o).duration,j=(null===(t=o.layers)||void 0===t?void 0:t.length)||0,f=!m||!j,g=m&&j>0&&(!u||"background"===u),S=n.length>0&&_,v=a.length||0,O=!0;return 1===v&&Object(Nn.a)(n)&&!(null===b||void 0===b?void 0:b.url)||(O=!1),Object(oe.jsxs)(Gn.b,{cyPrefix:"controls",tabTitles:["canvas","timing"],id:"controls",children:[Object(oe.jsxs)(Gn.a,{children:[Object(oe.jsx)(co,{ratio:r,hasCustomOutput:i,outputWidth:s,outputHeight:c}),Object(oe.jsx)(lo,{}),Object(oe.jsx)(uo,{scene:o,hideTransparent:p}),S?Object(oe.jsx)(so.a,{}):null]}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsxs)("div",{className:io.a.timingTab,children:[f&&Object(oe.jsx)(ao,{}),g&&(h?Object(oe.jsx)("div",{className:io.a.timingText,children:"Open the timeline (below) to adjust layer timing, delete layers, and more."}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:io.a.timingText,children:"Select a layer on the timeline below to adjust timing, delete, and more. Drag the ends of a layer to adjust the start and end times."}),O&&Object(oe.jsx)("div",{className:io.a.convertButton,onClick:function(){O&&Object(we.c)("/studio/editor/convert-to-image")},"data-cy":"convert-to-image-button",children:"Convert to Image"})]}))]})})]})}))),_o=n(71),po=n(103),mo=n(1033),jo=n(951),fo=n(1154),go=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).lockAspectRatio=function(){var t,n=e.props,o=n.layer,a=n.updateLayer,r=n.width,i=void 0===r?0:r,s=n.height,c=void 0===s?0:s;if(o.isAudiogram)a(o,{lockAspectRatio:!0},!0);else{var l=o.position,d=parseFloat((null===l||void 0===l?void 0:l.width)||""),u=parseFloat((null===l||void 0===l?void 0:l.height)||""),h=d/100*i,b=u/100*c,_=parseFloat(String(null===o||void 0===o?void 0:o.width)),p=parseFloat(String(null===o||void 0===o?void 0:o.height));o.crop&&(_*=o.crop.width/100,p*=o.crop.height/100);var m=d,j=u;_/p>=h/b?j=d/100*i*p/_/c*100:m=u/100*c*_/p/i*100;var f={x:null===l||void 0===l?void 0:l.x,y:null===l||void 0===l?void 0:l.y,width:"".concat(m,"%"),height:"".concat(j,"%"),rotation:null===(t=o.position)||void 0===t?void 0:t.rotation};a(o,{lockAspectRatio:!0,position:f,positionTemp:f},!0)}},e.unlockAspectRatio=function(){var t=e.props,n=t.layer;(0,t.updateLayer)(n,{lockAspectRatio:!1})},e.setFill=function(){var t=e.props;(0,t.updateLayer)(t.layer,{lockAspectRatio:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.layer.lockAspectRatio;return Object(oe.jsxs)(Wn.a,{title:"SIZE",children:[Object(oe.jsx)(Pn.g,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAADLCAYAAADA+2czAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJRSURBVHgB7dxLauQwFEBRKdS+21l4l9qGmiZcKmDj9DkgPPXnXeSR5toNvvM559zGL/YagW1ffwZfWR8DSMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtE84qDweduwJv2kT3m5znO5WBwqMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQC0WNfnwPuZY3z53YNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICLzLXWONucc8BPXDG3j31t43zbgDe9QtnGyY6d5fREp62FH9hH9pif5zjX+hhAIhaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFA9BgXWGvNcR9rzjvd7nv2b3Jc7vKgl9znVTvL80ZrG7/cK5Rt3Oeb/B0X8BsGkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEx8Hga/Cd/+n9mIWvrX+gE47h2BnReAAAAABJRU5ErkJggg==",title:"fill",handleClick:t?function(){e.setFill(),Object(q.studioHideFullScreenControls)()}:function(){e.lockAspectRatio(),Object(q.studioHideFullScreenControls)()},selected:!t,label:"Fill"}),Object(oe.jsx)(Pn.g,{icon:fo.a,title:"lock aspect ratio",handleClick:t?function(){e.setFill(),Object(q.studioHideFullScreenControls)()}:function(){e.lockAspectRatio(),Object(q.studioHideFullScreenControls)()},selected:t,label:"Lock Ratio"})]})}}]),n}(d.Component),So=Object(_.c)((function(e){return{layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,width:e.studio.width,height:e.studio.height}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))(go),vo=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goToAdjust=function(){Object(we.c)("/studio/editor/adjust")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(oe.jsx)(Pn.a,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOUSURBVHgB7dzRbRxVFIDhO2gLCB2YDighphJSAekAqIASCBUEKohLgAaQ6cAV+DIDRhFRJH6JjJUbf590tG8r7d35d2dezhjwjjnnMS/mOe73uRqL+WwA/0koEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQILnPO7wYre7Vt2+1Yx7bPy/26uxsLuezz7WBVc5+bfW7HWr4Za5luvSAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEBzLJW4Hq5pjTbfj8f2fs5qXbdu+GPB4jgv2erEVS269oBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAWCy1jMnPPZ/vLDOMdP27bdDA5v9nkxznE3ONceytU8z9cD3sOtFwRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoECy3XIKPw5xzPCWX/QM/H2u5Got52Bzz5fh0bONpmcc/ypvB2Y5InPO6pmcUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEx3KJFffOrLgF5Gnt9/m0/LWF5auxlmP1z+uxll/HeufMW/OybdvNWMic82osZj/ju/3lZrAszygQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUBwGZxuznMXsGzbiktp1rJiKMeihh/HOW7HB/YQydU+1+PDO9785/H3mcC6jlD2uZ7nuN/n+eB0nlEgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBBc5px23bw1V1z94zs837Gu6PfBP17u88tYxxHI62Fd0dnmEcrV4HDsyPp8rOfZw3Ce6RkFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhAKBUCAQCgRCgUAoEAgFAqFAIBQIhPJvc8B7HMslvh8cjkh+G+t5tc8fgzP5AT3bnPOY63mO+32eD07n1gsCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAsFl8BjmOGeTx1nvyzv+BAac20cJ9D5gAAAAAElFTkSuQmCC",title:"adjust video",label:"Adjust",handleClick:function(){e.goToAdjust(),Object(q.studioHideFullScreenControls)()}})}}]),n}(d.Component),Oo=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goToCrop=function(){Object(we.c)("/studio/editor/crop")},e.renderCropLabel=function(){return e.props.layer.isCropped?"Edit Crop":"Crop"},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(oe.jsx)(Pn.a,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQtSURBVHgB7d3hbRxVFIbhM8gFmA7sCohoAIsCUEQDpARoIA4dpINQAaQC4zQQhQaIO8AVMNzRDn+QUD5pN54zq+eRjkbKz2Tf3Du7e3eqmpnn+WY+nauCE/iigE8SCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAKBi+WZidXLV9XM+izIqyL1YZqmxzojF2N+Lz7lxZjbIjb+c1lCuR/zdsy7Ec5D7ZitF5/L5ZjnY34Z83GE82bPT2kWCk/lxZg/Ryy3Yy5rZ4TCU5rGvBrzfm+ri1DYwnUdYnlWOyEUtvJlHWK5qR0QCltatmK/7mEbJhS2tqwsd91v8IVCB8s9y4/VmFDo4mXnLZhQ6GK5X3lZTQmFTp53vVcRCp0skbyohoRCJ8v265tqSCh0IxQIXHa8TxEKHV1VM0Kho3YrynLC8bp6uRnzpnp5XYcDSPy/5XV0V2fqotsRzbE/fahm1vPfZ3UG/JTGv9lymeqM2XpBQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBC4KTuOvMT/X8eYxD9WMUDjaNE3L5XHMqzpTtl4QEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAKBsz+PMs9zwbHOPZTrMVPBkc49lLuC480d71EeC5rpGMpDQTPtQpmmaVlRrCq00vXt4fuCRrqG8q6gkZZvnY7PPi7H5eOYy4LttXzX69/7lLcFTbT9MG6sKld1WFVgaz1XlMVYVR7G5XVBA62/3rHeq7yvw1dRYCt9V5TFeq/ybR1+KR020/5r9usW7Ps6PA4ANrGL8ygjlvtx+bqsLGxkNwe3Riwf6hCLd8J4crs64bhuw5ZYlic72YrxZHZ7qGn9nOV2zA/rHzmgxecy7/7FtQZzM+a79eprL9s51eup225h/6H81/rZy7PiqS1/77/V8ZZIfhrzR/Vhm8/xlh/wGHM9n8bfY26qGT9XBAGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUBAKBAQCgSEAgGhQEAoEBAKBIQCAaFAQCgQEAoEhAIBoUDgouB0TvGsw7kaPjPxH1wLMDVcKCfBAAAAAElFTkSuQmCC",title:"crop",label:"Crop",handleClick:function(){e.goToCrop(),Object(q.studioHideFullScreenControls)()}})}}]),n}(d.Component),yo=n(1243),Co=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goToRemoveBackground=function(){Object(we.c)("/studio/editor/remove-background")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.disabled;return Object(oe.jsx)(Pn.a,{icon:yo.a,title:"erase",label:"Erase",handleClick:function(){t||(e.goToRemoveBackground(),Object(q.studioHideFullScreenControls)())},disabled:t})}}]),n}(d.Component),xo=n(123),Ao=n.p+"static/media/zoom-icon.3d4be610.svg",Bo=200,wo=.001,ko=[50],Eo=function(e){var t=e.layer,n=Object(g.f)((function(e){return{width:e.studio.width||0,height:e.studio.height||0}}),g.e),o=n.height,a=n.width,r=t.id,i=Object(d.useMemo)((function(){return t.position?{x:parseFloat(t.position.x)||0,y:parseFloat(t.position.y)||0,width:parseFloat(t.position.width)||100,height:parseFloat(t.position.height)||100,rotation:t.position.rotation}:null}),[t.position]),s=Object(_.e)(),c=Object(d.useState)(0),l=Object(k.a)(c,2),u=l[0],h=l[1],b=Object(d.useState)(),p=Object(k.a)(b,2),m=p[0],j=p[1],f=Object(d.useRef)(r),S=Object(d.useRef)(),v=Object(d.useRef)(0),O=Object(d.useCallback)((function(e,t){return m&&S.current?{width:(Math.log(e)-Math.log(m.width))/Math.log(S.current),height:(Math.log(t)-Math.log(m.height))/Math.log(S.current)}:null}),[m]),y=Object(d.useCallback)((function(e,t){var n=t||m;if(!n)return null;if(!S.current)return null;var o=n.x,a=n.y,r=n.height,i=n.width,s=n.rotation,c=e<0?1/S.current:S.current,l=e<0?-e:e,d=Math.pow(c,l)*i,u=Math.pow(c,l)*r;return{x:o-(d-i)/2,y:a-(u-r)/2,width:d,height:u,rotation:s}}),[m]),C=Object(d.useCallback)((function(e,t,n){var o=y(e,n),a=Object(xo.b)(r);o&&a&&(t?mt.b.withUndoBatch((function(){s(Object(ue.T)(a,{isZoomed:!0},!0)),s(Object(ue.A)(a,"".concat(o.x,"%"),"".concat(o.y,"%"),"".concat(o.width,"%"),"".concat(o.height,"%"),!0))}))():s(Object(ue.U)(a,{positionTemp:{x:"".concat(o.x,"%"),y:"".concat(o.y,"%"),width:"".concat(o.width,"%"),height:"".concat(o.height,"%"),rotation:o.rotation}})),v.current=e)}),[r,s,y]);Object(d.useEffect)((function(){if(!m&&i){var e=i.x,t=i.y,n=i.width,r=i.height,s=i.rotation,c=r/n,l=Math.max(n,r),d=15/a*100,u=15/o*100,b=r,_=n;if(v.current=0,S.current=Bo/l,199.999<=l)_=n===l?100:100/c,b=r===l?100:100*c,S.current=l/100,v.current=1;else if(n/S.current<d||r/S.current<u){var p=c>1?d:u,f=c>1?1/c:c;b=(_=Math.sqrt(p*Bo/c))*c,S.current=Math.sqrt(Bo/p*f),v.current=(Math.log(n)-Math.log(_))/Math.log(S.current)}var g={x:e-(_-n)/2,y:t-(b-r)/2,width:_,height:b,rotation:s};j(g),h(v.current),C(v.current,!1,g)}}),[i,o,a,m,C]),Object(d.useEffect)((function(){return function(){if(r){var e=Object(xo.b)(r);if(!e)return;s(Object(ue.T)(e,{positionTemp:null},!1))}}}),[r,s]);var x=null===t.positionTemp;return Object(d.useEffect)((function(){if(t.id!==f.current)return f.current=t.id,void j(void 0);if(x&&m&&i){var e=i.x,n=i.y,r=i.width,s=i.height,c=i.rotation,l=r/s,d=m.width/m.height,u=m,b=O(r,s);if(b&&(Math.abs(b.width)-wo>1||Math.abs(b.height)-wo>1))j(void 0);else{if(b&&(v.current=Math.max(b.width,b.height)),b&&Math.abs(l-d)>wo){var _=Math.max(r,s),p=15/a*100,g=15/o*100;if(S.current=Math.pow(Bo/_,1/(1-v.current)),S.current&&(r/S.current<p||s/S.current<g))return void j(void 0)}if(b&&Math.abs(l-d)>wo){var A,B,w=Math.max(r,s);S.current=Math.pow(Bo/w,1/(1-v.current)),w===r?B=(A=Bo/S.current)/l:A=(B=Bo/S.current)*l,u={x:e-(A-r)/2,y:n-(B-s)/2,width:A,height:B,rotation:c}}var k=y(v.current,u);k&&(u=Object(re.a)(Object(re.a)({},u),{},{x:e+u.x-k.x,y:n+u.y-k.y,rotation:c})),C(v.current,!1,u),j(u),h(v.current)}}}),[t.id,x,i,a,o,m,C,O,y]),Object(oe.jsxs)(Wn.a,{"data-cy":"zoom-control",iconAndControl:!0,children:[Object(oe.jsx)(Pn.c,{icon:Ao,label:"Zoom"}),Object(oe.jsx)(Pn.f,{min:-1,max:1,step:.01,defaultValue:u,onSliderChange:C,ticks:ko})]})},To=n(1034),Io=n(880),Lo=n.n(Io),Do=function(e){var t=e.rotation,n=e.incrementAndDecrementSmallTheme;return Object(oe.jsx)(Pn.d,{increment:function(){return Object(q.studioSetRotation)(t<359?t+1:0,!0)},decrement:function(){return Object(q.studioSetRotation)(t>0?t-1:359,!0)},value:Math.round(t),symbol:Object(oe.jsx)("span",{style:{transform:"scale(1.5) translate(1px,3px)"},children:"\xb0"}),smallTheme:n})},Ho=Object(_.c)((function(e){return{layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,width:e.studio.width,height:e.studio.height}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))((function(e){var t=e.layer,n=e.smallControlButtonStyle,o=e.smallControlButtonIconStyle,a=e.controlSectionTitleStyle,r=e.controlButtonRowStyle,i=e.incrementAndDecrementSmallTheme,s=t.position&&t.position.rotation?t.position.rotation:0;return Object(oe.jsxs)(Wn.a,{title:"ROTATE",style:a,controlButtonRowStyle:r,noWrap:!0,children:[Object(oe.jsx)(Pn.g,{icon:Object(oe.jsx)(Oe.Y,{className:Lo.a.controlButtonOnlyIcon,style:Object(re.a)({transform:"scaleX(-1)"},o)}),title:"Rotate 90 degrees",handleClick:function(){Object(q.studioSetRotation)(s+90>=360?s-270:s+90,!0),Object(q.studioHideFullScreenControls)()},style:n}),Object(oe.jsx)(Pn.g,{icon:Object(oe.jsx)(Oe.x,{className:Lo.a.controlButtonOnlyIcon,style:o}),title:"Flip Horizontal",handleClick:function(){Object(q.studioFlipHorizontal)(),Object(q.studioHideFullScreenControls)()},style:n}),Object(oe.jsx)(Pn.g,{icon:Object(oe.jsx)(Oe.x,{className:Lo.a.controlButtonOnlyIcon,style:Object(re.a)({transform:"rotate(90deg)"},o)}),title:"Flip Vertical",handleClick:function(){Object(q.studioFlipVertical)(),Object(q.studioHideFullScreenControls)()},style:n}),Object(oe.jsx)(Do,{rotation:s,incrementAndDecrementSmallTheme:i})]})})),Vo=n(1622),Mo=n.n(Vo);function Fo(){var e=Object(_.e)(),t=Object(g.f)((function(e){return e.plugins})),n=Object(Bt.d)();if(!n)return null;var o=fn.b.find((function(e){return e.id===n.pluginSource}));return o?Object(oe.jsxs)(Wn.a,{title:"PLUGIN",children:[Object(oe.jsxs)("span",{className:Mo.a.pluginLabel,children:["This layer was added via the ",o.title," plugin."]}),Object(oe.jsx)(Pn.a,{icon:o.logo,label:"Open ".concat(o.title," plugin"),handleClick:function(){return n=o.id,void(t.includes(n)||e(Object(gn.b)(n)));var n}})]}):null}var Ro=function(e){var t=e.layer,n=e.updateLayer,o=Ue.b,a=t.stroke,r=t.lineWidth?parseFloat(String(t.lineWidth)):0;return Object(oe.jsx)(Pn.d,{increment:function(){t.stroke===o&&0===t.lineWidth&&(a="#000"),n(t,{lineWidth:"".concat(r+.1,"%"),stroke:a},!0)},decrement:function(){n(t,{lineWidth:"".concat(r-.1>0?r-.1:0,"%"),stroke:a},!0)},extraSmallTheme:!0,value:10*Number(r.toFixed(1)),disableDecrement:0===r})},Qo=function(e){var t=e.layer,n=t.stroke||"#000000";return Object(oe.jsx)(Yn.a,{color:n,path:"/studio/editor/layer/".concat(t.id,"/outline-colors"),layer:t,outline:!0})},Po=function(e){var t=e.layer,n=e.updateLayer;return Object(oe.jsxs)(Wn.a,{title:"OUTLINE",noWrap:!0,customDataCy:"outline-controller-box",children:[Object(oe.jsx)(Qo,{layer:t}),Object(oe.jsx)(Ro,{layer:t,updateLayer:n})]})},No=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getLayerAnimation=function(e){return e&&e.animation},e.getOrder=function(){var t=e.props,n=t.layer,o=t.layers,a=o.length-o.map((function(e){return e.id})).indexOf(n.id);return"".concat(a," of ").concat(o.length)},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.layer,o=t.updateLayer;n&&(e.layer.stroke===n.stroke||e.layer.stroke||e.layer.lineWidth||o(n,{lineWidth:"1%",stroke:n.stroke},!0))}},{key:"getImageSrc",value:function(){var e=this.props.layer;return Object(S.a)(e)}},{key:"render",value:function(){var e=this.props,t=e.layer,n=e.updateLayer,o=t.mime,a=t.url,r=t.asset_id,i=t.source,s=t.library,c=o&&o.includes("gif"),l=a&&a.includes("https://cdn.kapwing.com/"),d=("upload"===i||l)&&r&&!c,u=Object(Bt.a)(["edit","animate"]),h=u.showTiming,b=u.tabTitles;return Object(oe.jsxs)(Gn.b,{cyPrefix:"controls",tabTitles:b,id:"image",children:[Object(oe.jsxs)(Gn.a,{children:[Object(oe.jsx)(Wn.a,{title:"IMAGE",children:Object(oe.jsxs)(Pn.j,{children:[Object(oe.jsx)(vo,{}),Object(oe.jsx)(Oo,{layer:t}),Object(oe.jsx)(Co,{disabled:!d})]})}),Object(oe.jsx)(So,{layer:t}),Object(oe.jsx)(To.a,{layer:t}),Object(oe.jsx)(Eo,{layer:t}),"emoji"!==s&&Object(oe.jsx)(Po,{layer:t,updateLayer:n}),Object(oe.jsx)(Ho,{layer:t}),Object(oe.jsx)(Yn.b,{layer:t}),Object(oe.jsx)(Fo,{})]}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(mo.a,{layer:t,animationOptionsList:po.m})}),h&&Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(jo.a,{layer:t})})]})}}]),n}(d.Component),Uo=Object(_.c)((function(e){return{scenes:e.studio.scenes,selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,duration:e.studio.scenes[e.studio.selectedSceneIndex].duration,isImageVideo:e.studio.scenes[e.studio.selectedSceneIndex].isImageVideo,selectedSceneId:e.studio.selectedSceneId}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)})),Wo=Object(m.k)(Uo(No)),Ko=n(1260),Yo=n(39),Go=n.p+"static/media/speed-icon.2975fc76.svg",zo=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;Object(i.a)(this,n),(o=t.call(this,e)).decreaseSpeed=mt.c.withUndoBatch((function(){var e=o.props,t=e.layer,n=e.updateLayer,a=o.state.videoSpeedIndex;if(!(a<=0)){var r=o.videoSpeeds[a-1];o.shiftTracksSpeedChange(o.videoSpeeds[a],r),o.setState({videoSpeedIndex:a-1}),n(t,{playbackRate:r},!0)}})),o.videoSpeeds=[.25,.5,.75,1,1.15,1.25,1.5,1.75,2,4],o.increaseSpeed=function(){var e=o.props,t=e.layer,n=e.updateLayer,a=o.state.videoSpeedIndex;if(!(a>=o.videoSpeeds.length-1)){var r=o.videoSpeeds[a+1];o.setState({videoSpeedIndex:a+1}),n(t,{playbackRate:r},!0)}},o.shiftTracksSpeedChange=function(e,t){var n=o.props,a=n.layer,r=n.sceneDuration;if(void 0!==a.timelineRow){var i=Object(wt.n)(a),s=Object(_t.c)(a,r),c=s.start,l=s.end,d=c+(l-c)*e/t;if(d>i){var u=d-i;Object(wt.A)(l,1/0,a.timelineRow,u)}}};var a=e.layer;return o.state={videoSpeedIndex:a.playbackRate?o.videoSpeeds.indexOf(a.playbackRate):o.videoSpeeds.indexOf(1)},o}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.state.videoSpeedIndex,n=this.props.layer;e.layer.playbackRate!==n.playbackRate&&n.playbackRate!==this.videoSpeeds[t]&&this.setState({videoSpeedIndex:void 0!==n.playbackRate?this.videoSpeeds.indexOf(n.playbackRate):-1})}},{key:"render",value:function(){var e=this.props,t=e.layer,n=e.controlButtonRowStyle,o=this.state.videoSpeedIndex,a=1;return t.playbackRate&&(a=t.playbackRate),Object(oe.jsxs)(Wn.a,{title:"SPEED",iconAndControl:!0,titleInvisible:!0,controlButtonRowStyle:n,children:[Object(oe.jsx)(Pn.c,{icon:Go,label:"Speed"}),Object(oe.jsx)(Pn.d,{increment:this.increaseSpeed,decrement:this.decreaseSpeed,value:"".concat(a,"x"),disableDecrement:0===o,disableIncrement:o===this.videoSpeeds.length-1})]})}}]),n}(d.Component),Xo=Object(_.c)((function(e){return{sceneDuration:e.studio.scenes[e.studio.selectedSceneIndex].duration}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))(zo),Zo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaCAYAAABR/1EXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAm0SURBVHgB7Z3/dRvHEccHefnfUgWBUkBsN2DBKSDxSwEJlQJipYGQSgGS3YBAN2A9uwCRdgO2C7BIN2DZDfjrHd0eeQRB4u52Znd2bz7vLSnwicAu8OHsr9s5ogkA2JDjaBIk26LjX+Q4Ggwkg8uWTnj/uHwaygfkdOyRzGVLJLx3q8H7+DaUV/x+hrKmJXKPZC5bAjui7XK2KOlGSOayzeSAaLeko1aZIJnLNoMJovVcxM9kTa2A6ZK5bBOZIdqQLWpfZsJ8yVy2CSSK1nOGGoVDumQ9TcsW2ndMiUBGtJ7XqKVLhZxkPU3KFtp1zI2jRCArWs8WloULldtAh6ZkQ5SMoUSgIxrzMwQirhqhckfQoQnZMJCMoUSgJ1rPG1iNbnDZ9oIdyRhKBPqi9TwP5QFZAy7bDbBHMoYSQT7RGJvRDS7bO3CHZAwlgryiMb/B4tgNC5cN90jGUCLIL1rPl7AW3bBQ2XBAMoYSQTnRGHtdKRYmG0ZIxlAiKCsaw8sgn5AlsBDZMFIyhhJBedEYe+M2NC4bJkjGUCLorrBdo3tfz1AOly1ju44xERIE19KdoLscKDcuW4b2HGMGpAQ66UpFuZdkCTQiG2ZKxpAy6ITbhHKKvLhswvU/RgKUCXTCfYi8Ee45WQKVyoZEyRjKDK671Avo42M2gfo+hQBUCHTCnUAfly2xrjy7u0AiVBB0sj2CfnRj2WwtrGNhspEBkCe68Q6CrdP0WJBsZAR0sn0M3ejGe6O2rmnDQmQjQ+C6K/0Oerwma2ABspFB0O2ffgYdeLz2lKyBxmUjo0B33MaybcgaaFg2Mgx0ZbM3XmPQqGxkHHSy/Rc62No56EGDslEFoJPtCeSx2YUyaEw2qgTodaM2u1AGDclGFQE92U7IKmhENqoMdEsfp5CFdw3WZBU0IBtVBrqo9hDyi7r2FnKHoHLZqEKgsxlvd2LQg4plo0rB9d6oJLajGoNKZaNEEA+kUAEgv1VlP6oxqFA2SgTdh32BQhcXxteXHK/Zj2oMKpONEsHNA8S8JvV3ygiuzyJIUUdUY7Cg9AvYf1I9ay4zyK+v1RHVGCwn/cJdKRGyJWDB9ZLHBWSoJ6oxWIBsuD/3Bi+EZrn2C/Kz0BdUE2g/18ehJC/ZTiHFupxBBv4jsbkHehdoWDaMyyaURTbIRjWbV+IeAu0mlhmbtiqXbJJRbe+kgF9gE75vyC489dc48nW0Wq2+oALwBxu+/Tb2v4fyLNT1GSmBbg3641AkZo78ZH8O9b3cfRHJKW5tlMpiNDURn/phXshGtZPd5/8DLZtTGFxn2wNHwBfQPczLkej/JMNHuz9YumhMLbI9DIWzaqvM6kJXx9/OQ/mF0tlgZz3QReuoRbZHofyP9OCo9jnJcCMZs4t2TS2ycUakDekhIRqHx78Nf+Ci3aQG2fhDfKnRhcbuk7vOc0rng2EdXbTb1CAbd6FaC6PcfX5N6bBkV5MXF20/Ncj2H+ht95ySDC7aCKzLxrNQ8ag26D6/pzT4iR73D1y0+9GU7ZLS0Yxq31A6jxGvfHfRDqMhG7/7f6V02ViyI5KH6/cVpcP1W/M/XLRxiMoWuyc+e5Aq261lBEFSu86e9/mLizYeq7LdWoVPRXCcxvAM2UWbiEXZ+EmOSIcfKA2um0e0mViU7SOSh8dpqaIxLloC1mTbKM0+JbrONc88XbT5WJPtMclzSenwH8ADFy2NrRHZ+Bc3JEisyyXJXDbkoiXCn4YV2dakg4RoaxctHSuyvU86XFI677loMliQbU06/ETpPHTR5CguGwyn+nTRZLE0ZpMidYzGDfAxmgIlZVuTLLxoKzEZ8IimRIuRLQkXTQ+XbYCLpovLFnHR9Mkp2yXJwi+UuofK4zy4aHnIJZvIwH0Hic36n1y0fGjL9n14rCHae5SOR7TMaMumgUe0SlGRTSmaMWsSwEUrg7hsiqwpnUsXrRymZYvnMUXysXH2RxetLNYj25rSedelu2jlsSybxDVu784duGjT4T7l3ySLRdmujsol8it/cdHmsaVlyJY6RuM/So9oc4lrV83KNpgIrCmdb/iLizaT1mUjuXs7XPIXFy2BhmWTSh7zS39jCxctkYZl21A6VznWXDQBWpItjs82JHN50Hn/wEUToiHZ+PWkXusqd4eLJkhDsj2mdHh85l2nFjXLFrvNIxJc1uhx0RSoWDap2SYb+2r4AxdNiYplk1o/+3b4wEVTpELZpLKFn+/eGNZFU6Ym2YSO8rGsp7s//CPJ3GBKgj+RXtLfovAHGITYxocvSY5eNpK6bXesay8b3/p6TdP5liyDOm67PfZe6Pvax+UJ5BG/FXas66NQLjCNV1QDsC/bbNFi+2qU7c2EOvyTagG2ZUsSLbavVdneUG3ArmzJosX2tSjbc6oR2JRNRLTYvpZk49dcU63AnmxiosX2tSKb5Gy6DLAlm6hosX21y1Z3NBsCO7KJixbbV6ts/Pz1R7MhsCGbimixfTXK9iNaiWZDUF42NdFi+2qTTetW2+VBWdlURYvtq0a25kE52dRFi+1z2ayAMrJlES22z2WzAvLLlk202D6XzQrIK1tW0WL7XDYrIJ9s2UWL7XPZrIA8shURLbbPZbMC9GUrJlpsn6ps6I7cOWOArmxFRYvtc9msAD3ZiovGwGWzA3RkMyEag4pka/q43Wq1OgnfnlGDRAl4n/EvJM+701WhiMrWPJCNbFbGaB9i+gmlyW2Fd6PTgJxsFmadn4byFnnwpY+pQEa2kgu2HMXOkB+XbSpIl63EXueDUF6gLC7bFNB9cCmy5bxMiAU7Rr5u8hAu2xSQJluOK2xZMB6HXcAeLtsUMF82zcMp1iLYXbhsU8A82TTOdW5C+Qz2BRvisk0B02WTyr3Bch3DZvc4ltGyrcjpV9lPQjke89/DjkPSjkp4PX7fzWxlJcJv3pND+dk84yNdZTo8oUa3q5QZlXnSRYssSLbzUP5B8c7AQli+ua1NcHjMJjFGW6EMLwZt5F0G6cmHTxCmgPtlq1G0n0PZ7Gmjy1Ya3C1bbaK9xh25MeCy2QD7ZatFNI5iT0fUxWWzAG7LVoNod0axe9rospUGN2WzLBrnK/uEZgBd2TbkjAPXslkU7W2sW1IKKejItiVnGvGDOKFEICsaX6cmlqMMsgdeXLKSQEa0LZQyLUJGNpesNJgvmkgXObKOKbK5ZBaYIdp3uQTbqecc2VwyK4wUjaPXFoVnbBNlc8kscY9oLNdZKEcwlIR4pGwumTV2RLtAd3XtxpJcuxyQzSWzSPzQTEWtMdwhm0vmyLMjm0vm6BFl20z5nd8Bhv+oEh+R+5MAAAAASUVORK5CYII=",Jo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACUCAYAAABvAOBaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAjgSURBVHgB7d3vddtGFgXwqz35vnIFC28D9lYQyg1sOjBdwcoVLFOBvVtAxDSQPw2ETAOx04CJNBApDeRmngBIEA1KJOe9wQz4fudAjB3bBKmrN4+DAQC4pEieh+37sL0O20s4pymEquJDm7Bdhe0rOBdrIGB91x42F+WJgA1VtgrO7euAgPWtwvYazj3lyID1q5oHbarCN/cckSID5kGbKjbTCx8QSSlgHrQp6cIl31FEUg5YP2gVMvQ3uEexGRZXYct5UrQKm4TsKteguQH9ytVBJKMKtl3NfNjM3VC4CglY54pezfK0K1yFBUxswjbDiLwH28Iyeq59VWFbhdf0X7jx8ZHK1UEkpq1gfSuOMGR6BWtxWpVryAxNNauQkAcMJxGuThU2qdDJVmucfMBGCNdN2NYYj7xeWfDofZk17tFzbYMSNr3YvO2NxuIhs8IjwiVggE3YlmymFVLzkGnjkeESMMamqm2YlodMCyPCJZAI0wfNQxaLkeESSIxpg+YhOxYVwiUwAt73aCl4yA5FpXAJjIhN0Da056sx9kXFcAlkIOzGgrbk9Dk/KfgpVA6XQCbCrsxoW8029OU+u9EgXAIZYTNkrmhnBfc5GoVLIEO0HTLfwd2jYbgEMkXbkM3g7MMlkDE2c2bX1Cf/ZvQ5oUVjgnAJZC7s4kvahOx0+zEmCpdAAWgXsksc6AyFY+L1XGcBCsBmHkveF82hTdayPQ9vwc2+f6HoBYepw1WSEIKP4eEtdMn7fRqfKplwWOxDYWRYo74ZpowjhUugQGG331PXdBt+jhgugUJRf8Z/rwPiRTX5zKDnKqXJ38bmuKK8dxV07NXwF9Pk5xCukoUg1OHhDfTI9+PgaYssceRhsQ+R2BygvuJIKxWo24+VP8PPjMIlEIn3lw7YcITVo2zezw31LFAqZhYugUgcvhFDhYTYrCXTcv3Yc2Xbg/G0TuffMGE1C/3YOjz8DzqkCPwbJWGGlauDSHz86jpXTNTTsHmPtY5X7pwXy66C8bQ/Lc7RXJykgrF2ekGrismQOxv6H1kF7MTD1amQ6DJLIWSL8FBDx+AVe7IJmIfrgQrpruX1NXS8Hhrez9gs68hhLkOO0mcfrtiZ/DY0mz3/eB22i3aS1EzYJ9mfCvHehH1d9n/jrG3QZnB7SRwwIctuLg5Zg3UoNgsJNZbhrMN+XvR/w69wmD+p6tZrsJZoji3Gerk9THrAyjDnEcuV96X4iVLC9aDZ94CV4x1tT+d/Dx1f9n/hASvLFYy0VWyNeF7BCiY9zgJ2fkS88/6kqwesPP+h3eGkJXTcDeUesPJIuEwOjCsOk3cHvz1gZbo0rGIaw+TLbl2AB6xcVtMWPyCehL+S//CAlcukF2sPS9WIN5MvHrBySbjmsPEz4t02+h6wslmtJP2IeJV88YCVbWbU7K8R74U0+h6w8s2hr0a8KmznHrDyzaCsnQ+rEc8DNgFfwoZGH/bCA1a+c6Ol1b8h3jMP2DS8gL4a8SoP2DQ8hz6NFa7eg01ErhXs7x6waXgGfSonmXjApuEf0KcRMO/BJiKH81oHecCcKQ+YM+UBc6Y8YNNQI1MeMLeLxgeHPzxg01BDn0bArj1g06BxYHqbVzB35wP0VYh34wGbBosKViFe7QEr3017b0htGoefPGAToHGK2ZAK8XyInIDvoaw97T/6WmRSWT1g5bOoYDPEq+WLB6xsa6MrUGtcSbGWLx6wsi1hQ+NMpV/liwesXDV0LrX0gFb/heamGh6wgq2Nrp1fQecT5O3cnAesXFq3gNk2Q7y7uTkPWJmWFs19Ozy+Rry7iV8PWHlq2FWvCjoV7K439ICV51vDm2PNoMMrWKHq9h6P6hSHx5v2ls23PGBluYCdCjoV7MFFhD1g5fja+L6RC+hY93/hASvD0mpoFO3wqHWdsQeTvx6w/NVhewtbc+hMrv64Pfn7BZqd91sq56mG/d1u5UHr1jTqS4fUyNWSw/aBmUOk8E9Uez7VhgluCh+eY04d10P/fjZDZPtTKp+SLJb/lqZGmpvBy4NW9Rq8BU1WPZiH7FZ3E/gahtpwzaHTe4nBWzJn1+SfeMjkm2QerlYFveq13nXiSZafIk8wZPJ634bXfWnZ0Hfa6rWAXvVaokTMsPFHJH7e5K+YoJnf2ofn1PPpsefKeh5s4pWsq1qphsRb7c/IT9BjtbIjHWZUyRCJTQVb0O6OtY89t2zy3Fo+YSqYSchQKDbhuqCuJ1dfnKEgbH7q5WSC0Wb8w3BW1HvWCe+d3KxBhsYKOjbhrfjnU3+oqGORPk92nLbwfgO9cInye69dOOJwicJQv+8S0+m9duFIIUNBaBMucRqLEjhCyFAINuHSOpDdd4VTwsQhQwHYhOtfYbumrk9MPCmcBSYMGTJHu3AJjZNCysREIUPGaBuu0xoahzBByJAp3vdcFuE6zaFxCI1DhgyF3ToL2yXtfAV3j4YhQ0bYVC0J1zvaWcB9jkYhQybYhEuW3axo5xe43WgQMoyM91VLDlxvaMf7rn1QOWQYEZtwPaPtkCh+p4drf1QMGUbAdFWr4039oagUMiTGdFWrs4A7DhVChkR4X7Vk+sFibmvIAi4OI0MGQ2xC1QXrDdMMh50FnA5GhAwGeB8sGQqlYm2Y1gJOF48MGZTwYbWSYC2YbijsW8DZ4BEhQyQ+DJVUqxXH8Sc9XPZ4YMgQqX2+Fccl4bqES4MHhAyRuP/lm6zIJOocifgVDnFSZyttwvYqvN4lEvGAtU4gZHI+6Suj2y/v5AHrmWjIZFh/H17bq5TXwHCPYNOT/TLUwCAS0/ZgsiJiBpefXSFDpEQBk0+J33GEC6y4AwyFDJESBEw+JfpqiFJshwyRDAMmVUtWXHjVKk0/ZIhkEDAJ1k/0XqtsXcgQSTFgEixp4n04nAoqDD8KAeuCdbpnWbvdIgLmwXJPOyJgRfdYX8DlSD5MyFGF/4fth9SHd1zBHqlgUqlkDuubUqvVEK9g4+mmPGo0N/GU7WOKO32k5AEbh1wK6Vc0N/CsMWF/AeAq839wPMDyAAAAAElFTkSuQmCC",qo=n(1213),$o=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={previousVolume:1},e.toggleMute=function(){var t=e.props,n=t.layer;(0,t.updateLayer)(n,{volume:(n.volume||0)>0?0:e.state.previousVolume},!0),e.setState({previousVolume:n.volume||0})},e.setVolume=function(t,n){Object(qo.a)(t,n,e.props.layer)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.layer,n=e.updateLayer;void 0===t.volume&&n(t,{volume:1},!1)}},{key:"render",value:function(){var e,t,n=this,o=this.props,a=o.layer,r=o.controlButtonRowStyle,i=a.detachedAudioId&&"video"===a.type,s=i?"VOLUME (DETACHED AUDIO)":"VOLUME";return Object(oe.jsxs)(Wn.a,{title:s,iconAndControl:!0,titleInvisible:!0,controlButtonRowStyle:r,children:[Object(oe.jsx)(Pn.c,{icon:0===parseFloat(String(a.volume))?Zo:Jo,label:"Volume",onIconClick:function(){n.toggleMute()}}),Object(oe.jsx)(Pn.f,{min:0,max:2,defaultValue:null!==(e=null!==(t=a.volumeTemp)&&void 0!==t?t:a.volume)&&void 0!==e?e:1,step:.05,onSliderChange:this.setVolume,disabled:i,ticks:[50],tooltip:!0})]})}}]),n}(d.Component),ea=Object(_.c)(void 0,(function(e){return Object(ie.b)({updateLayer:ue.T,updateLayerNoSync:ue.U},e)}))($o),ta=function(e){var t=e.layer,n=e.updateLayer,o=e.location,a=t.audioEffect,r=t.fadeSpeed,i=t.fadePosition,s=function(e){return n(t,{fadeSpeed:e},!0)},c=function(e){return n(t,{fadePosition:e},!0)};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Wn.a,{title:"video"===o?"AUDIO EFFECT":"EFFECT",children:[Object(oe.jsx)(Pn.g,{label:"None",handleClick:function(){return n(t,{audioEffect:""},!0)},selected:!t.audioEffect}),Object(oe.jsx)(Pn.g,{label:"Fade",handleClick:function(){return n(t,{audioEffect:"fade",fadeSpeed:r||"default",fadePosition:i||"intro"},!0)},selected:"fade"===a})]}),"fade"===a&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Wn.a,{title:"FADE SPEED",growButtons:!0,children:[Object(oe.jsx)(Pn.g,{label:"Slow",handleClick:function(){return s("slow")},selected:"slow"===r}),Object(oe.jsx)(Pn.g,{label:"Default",handleClick:function(){return s("default")},selected:"default"===r}),Object(oe.jsx)(Pn.g,{label:"Fast",handleClick:function(){return s("fast")},selected:"fast"===r})]}),Object(oe.jsxs)(Wn.a,{title:"APPLY TO",growButtons:!0,children:[Object(oe.jsx)(Pn.g,{label:"Intro",handleClick:function(){return c("intro")},selected:"intro"===i}),Object(oe.jsx)(Pn.g,{label:"Outro",handleClick:function(){return c("outro")},selected:"outro"===i}),Object(oe.jsx)(Pn.g,{label:"Both",handleClick:function(){return c("both")},selected:"both"===i})]})]})]})},na=function(e){var t=e.layer,n=e.updateLayer,o={layer:t},a={maxWidth:"50px",maxHeight:"50px",padding:"5px"};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Wn.a,{title:"STYLE",children:[Object(oe.jsx)(Pn.g,{icon:"https://storage.googleapis.com/kapwing/samples/bar_waveform_v2.png",title:"bar style waveform",iconStyle:a,handleClick:function(){n(t,{waveformStyle:"bar"},!0),Object(q.studioHideFullScreenControls)()},selected:"bar"===t.waveformStyle}),Object(oe.jsx)(Pn.g,{icon:"https://storage.googleapis.com/kapwing/samples/white_wave_waveform_icon.png",title:"wave style waveform",iconStyle:a,handleClick:function(){n(t,{waveformStyle:"wave"},!0),Object(q.studioHideFullScreenControls)()},selected:"wave"===t.waveformStyle})]}),Object(oe.jsx)(Wn.a,{title:"FILL COLOR",children:Object(oe.jsx)(Yn.a,{color:t.color,path:"/studio/editor/layer/".concat(t.id,"/colors"),previewList:!0,layer:t,hideTransparent:!0,colorType:"color"})}),Object(oe.jsx)(So,Object(re.a)({},o))]})},oa=function(e){var t=e.layer,n=e.layers,o=e.updateLayer,a=t.isAudiogram,r=t.mime,i=t.name,s=a?"Convert to audio":"Convert to waveform",c=n&&n.find((function(e){return e.isAudiogram})),l=r&&r.includes("video")||i&&i.includes("mp4");if(c&&!a||l)return null;var d=(t.endTime||0)-(t.startTime||0)>X.d;return Object(oe.jsxs)(Wn.a,{title:"WAVEFORM",children:[Object(oe.jsx)(Pn.g,{label:s,handleClick:function(){a?(o(t,{isAudiogram:!1,lockAspectRatio:!1,waveformStyle:void 0,color:void 0,position:{width:"0%",height:"0%",x:"0%",y:"0%"}},!0),Object(q.studioHideFullScreenControls)()):(o(t,{isAudiogram:!0,lockAspectRatio:!1,waveformStyle:Yo.t,color:Yo.r,position:{width:Yo.u,height:Yo.s,x:"0%",y:Yo.v}},!0),Object(q.studioHideFullScreenControls)())},alt:"Create Waveform",disabled:d}),d&&Object(oe.jsx)("div",{className:io.a.subtext,children:"Waveforms are currently not available for audio files over 15 minutes. Trim your file to use a waveform."})]})},aa=Object(_.c)((function(e){return{layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))((function(e){var t=e.layer,n=e.layers,o=e.updateLayer,a={layer:t};return Object(oe.jsxs)(Gn.b,{tabTitles:["edit","timing","effects"],cyPrefix:"controls",id:"audio",children:[Object(oe.jsxs)(Gn.a,{children:[t.isAudiogram&&Object(oe.jsx)(na,{layer:t,updateLayer:o}),Object(oe.jsx)(Xo,Object(re.a)({},a)),Object(oe.jsx)(ea,Object(re.a)({},a)),Object(oe.jsx)(oa,{layer:t,layers:n,updateLayer:o}),Object(oe.jsx)(Yn.b,{layer:t})]}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(jo.a,{layer:t})}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(ta,{layer:t,updateLayer:o})})]})})),ra=n(1623),ia=n.n(ra),sa=function(e){var t=e.layer,n=e.updateLayer,o=e.updateLayerNoSync,a=e.defaultThreshold,r=t.chromaKeyChannel,i=t.chromaKeyColor,s=t.chromaKeyThreshold,c=t.chromaKeyThresholdTemp,l=t.chromaKeyHueThreshold,d=t.chromaKeyValThreshold,u=t.chromaKeySatThreshold,h=c||s;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Wn.a,{title:"Key Channel",children:[Object(oe.jsx)(Pn.g,{label:"Green",handleClick:function(){n(t,{chromaKeyChannel:"green",chromaKeyThreshold:s||a},!0)},selected:"green"===r}),Object(oe.jsx)(Pn.g,{label:"Blue",handleClick:function(){n(t,{chromaKeyChannel:"blue",chromaKeyThreshold:s||a},!0)},selected:"blue"===r}),Object(oe.jsx)(Pn.g,{label:"Key to Color",handleClick:function(){n(t,{chromaKeyChannel:"colorKey",chromaKeyColor:i||Ue.b,chromaKeyHueThreshold:l||100,chromaKeySatThreshold:u||.3,chromaKeyValThreshold:d||.3},!0)},selected:"colorKey"===r})]}),"colorKey"===r?Object(oe.jsx)(ca,{layer:t,updateLayer:n,updateLayerNoSync:o}):Object(oe.jsx)(Wn.a,{title:"Threshold ",children:Object(oe.jsx)(Pn.f,{min:200,max:255,defaultValue:h,onSliderChange:function(e,a){a?(o(t,{chromaKeyThresholdTemp:null}),n(t,{chromaKeyThreshold:e},!0)):o(t,{chromaKeyThresholdTemp:e})}})}),Object(oe.jsx)(Wn.a,{children:Object(oe.jsx)("div",{className:ia.a.instructionalTextContainer,children:Object(oe.jsx)(Pn.e,{text:"Frame rate may be decreased in the preview. Frame rate will be increased in export."})})})]})},ca=function(e){var t=e.layer,n=e.updateLayer,o=e.updateLayerNoSync,a=t.chromaKeyColor,r=t.chromaKeyHueThreshold,i=t.chromaKeyHueTldTemp,s=t.chromaKeySatThreshold,c=t.chromaKeySatTldTemp,l=t.chromaKeyValThreshold,d=i||r,u=c||s,h=t.chromaKeyValTldTemp||l;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Wn.a,{title:"Color",children:Object(oe.jsx)(Yn.a,{color:a,path:"/studio/editor/layer/".concat(t.id,"/chromakey-colors"),layer:t,title:"Key color",colorType:"chromaKeyColor"})}),Object(oe.jsx)(Wn.a,{title:"Hue Threshold",children:Object(oe.jsx)(Pn.f,{min:0,max:360,defaultValue:d,onSliderChange:function(e,a){a?(o(t,{chromaKeyHueTldTemp:null}),n(t,{chromaKeyHueThreshold:e},!0)):o(t,{chromaKeyHueTldTemp:e})}})}),Object(oe.jsx)(Wn.a,{title:"Saturation Threshold",children:Object(oe.jsx)(Pn.f,{min:0,max:1,step:.01,defaultValue:u,onSliderChange:function(e,a){a?(o(t,{chromaKeySatTldTemp:null}),n(t,{chromaKeySatThreshold:e},!0)):o(t,{chromaKeySatTldTemp:e})}})}),Object(oe.jsx)(Wn.a,{title:"Brightness Threshold",children:Object(oe.jsx)(Pn.f,{min:0,max:1,step:.01,defaultValue:h,onSliderChange:function(e,a){a?(o(t,{chromaKeyValTldTemp:null}),n(t,{chromaKeyValThreshold:e},!0)):o(t,{chromaKeyValTldTemp:e})}})})]})},la=function(e){var t=e.layer,n=e.updateLayer,o=e.updateLayerNoSync,a=t.removeBgThresholdTemp||t.removeBgThreshold;return Object(oe.jsxs)(oe.Fragment,{children:[window.slowTFJS?Object(oe.jsxs)(Wn.a,{children:[Object(oe.jsx)(Pn.e,{text:"Your browser doesn\u2019t support a live preview of the background removed.\n    You can still publish your video with the background removed upon processing."}),"pastedLink"!==t.source?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Pn.e,{text:"See below for an approximation of which part will be removed:"}),Object(oe.jsx)("div",{className:ia.a.removeBgPreviewContainer,children:t.removeBgPreviewUrl?Object(oe.jsx)("img",{src:t.removeBgPreviewUrl,className:ia.a.removeBgPreview,alt:""}):"Computing preview..."})]}):null]}):Object(oe.jsx)(Wn.a,{title:"THRESHOLD",children:Object(oe.jsx)(Pn.f,{min:.1,max:.95,defaultValue:a,step:.01,onSliderChange:function(e,a){a?(o(t,{removeBgThresholdTemp:null}),n(t,{removeBgThreshold:e},!0)):o(t,{removeBgThresholdTemp:e})}})}),Object(oe.jsx)(Wn.a,{children:Object(oe.jsxs)("div",{className:ia.a.instructionalTextContainer,children:[Object(oe.jsx)(Pn.e,{text:"Functionality in Beta. Works best with a single subject against a background."}),Object(oe.jsx)(Pn.e,{text:"Accuracy and frame rate will be increased upon exporting."})]})})]})},da=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}}),(function(e){return Object(ie.b)({updateLayer:ue.T,updateLayerNoSync:ue.U},e)}))((function(e){var t=e.layer,n=e.updateLayer,o=e.updateLayerNoSync,a=t.removeBgThreshold;return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)(Wn.a,{title:"VIDEO EFFECT",children:[Object(oe.jsx)(Pn.g,{label:"None",handleClick:function(){n(t,{removeBg:!1,chromaKey:!1},!0)},selected:!t.removeBg&&!t.chromaKey}),Object(oe.jsx)(Pn.g,{label:"Remove Background",handleClick:function(){"pastedLink"!==t.source&&n(t,{chromaKey:!1,removeBg:!0,removeBgThreshold:a||.7},!0)},selected:t.removeBg}),Object(oe.jsx)(Pn.g,{label:"Chroma Key",handleClick:function(){"pastedLink"!==t.source&&n(t,{removeBg:!1,chromaKey:!0,chromaKeyChannel:t.chromaKeyChannel||"green",chromaKeyThreshold:t.chromaKeyThreshold||220},!0)},selected:t.chromaKey})]}),t.removeBg?Object(oe.jsx)(la,{layer:t,updateLayer:n,updateLayerNoSync:o}):null,t.chromaKey?Object(oe.jsx)(sa,{layer:t,updateLayer:n,updateLayerNoSync:o,defaultThreshold:220}):null,Object(oe.jsx)(ta,{layer:t,updateLayer:n,location:"video"})]})})),ua=n(264),ha=n(1624),ba=n.n(ha),_a=function(e){var t=e.handleTransitionTimingClick,n=e.introTransition,o=e.outroTransition,a=e.layer,r=e.nextLayer,i=e.prevLayer,s=e.transitionTiming,c=e.videoDuration,l=i&&ua.b.includes(i.type)&&Object(wt.F)(a,i,c),d=r&&ua.b.includes(r.type)&&Object(wt.F)(a,r,c);return l||d?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Pn.e,{text:"Add a transition between this video layer and a neighboring video layer",title:"TRANSITIONS",style:{padding:"0 0 8px 15px"}}),Object(oe.jsxs)(Wn.a,{title:"APPLY TRANSITION",children:[l&&Object(oe.jsx)(Pn.g,{label:"Beginning",alt:"Beginning",selected:n&&n.id!==dt.a.None||"intro"===s,handleClick:function(){return t("intro")}}),d&&Object(oe.jsx)(Pn.g,{label:"End",alt:"End",selected:o&&o.id!==dt.a.None||"outro"===s,handleClick:function(){return t("outro")}})]})]}):null},pa=function(e){var t=e.introTransition,n=e.outroTransition,o=e.selectTransition,a=e.transitionTiming,r=e.transitionFound,i="intro"===a?t:n;return Object(oe.jsx)(Wn.a,{title:"TRANSITION TYPE",children:ua.d.map((function(e){var s=!1;return s=!r&&e.id===dt.f.None||((null===t||void 0===t?void 0:t.transitionId)===e.id&&"intro"===a||(null===n||void 0===n?void 0:n.transitionId)===e.id&&"outro"===a),Object(oe.jsx)(Pn.g,{label:e.name,handleClick:function(){o(e,i)},selected:s,alt:e.name,dataCyString:"".concat(e.name," transition")},e.id)}))})},ma=function(e){var t=e.layer,n=e.transitionTiming,o=e.changeSpeed,a=Object(po.h)(t,n);return a.id===dt.a.None?null:Object(oe.jsxs)(Wn.a,{fullWidthButtons:!0,title:"TRANSITION SPEED",children:[Object(oe.jsx)(Pn.g,{label:"Slow",alt:"Slow",handleClick:function(){return o("slow")},selected:"slow"===(null===a||void 0===a?void 0:a.speed)}),Object(oe.jsx)(Pn.g,{label:"Default",alt:"Default",handleClick:function(){return o("default")},selected:!("default"!==(null===a||void 0===a?void 0:a.speed))}),Object(oe.jsx)(Pn.g,{label:"Fast",alt:"Fast",handleClick:function(){return o("fast")},selected:"fast"===(null===a||void 0===a?void 0:a.speed)})]})},ja=Object(_.c)((function(e){return{studio:e.studio,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,selectedLayerId:e.studio.selectedLayerId,selectedSceneId:e.studio.selectedSceneId,videoDuration:e.studio.scenes[e.studio.selectedSceneIndex].duration}}),(function(e){return Object(ie.b)({playStudio:v.g,updateLayer:ue.T},e)})),fa=Object(m.k)(ja((function(e){var t=e.layer,n=e.layers,o=e.nextLayer,a=e.playStudio,r=e.prevLayer,i=e.selectedLayerId,s=e.selectedSceneId,c=e.updateLayer,l=e.videoDuration,u=Object(d.useState)(""),h=Object(k.a)(u,2),b=h[0],_=h[1];Object(d.useEffect)((function(){var e=Object(po.j)(t),n=e.introTransition,o=e.outroTransition;n&&n.id!==dt.a.None?_("intro"):o&&o.id!==dt.a.None?_("outro"):_("")}),[i,t.animation]);var p=function(){var e;return"intro"===b?e=n.find((function(e){return e.id===(null===r||void 0===r?void 0:r.id)})):"outro"===b&&(e=n.find((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}))),e},m=function(e,t){var n=(null===e||void 0===e?void 0:e.transitionId)!==(null===t||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.transitionId)===(null===t||void 0===t?void 0:t.transitionId);return!(!e||!n||t.id===dt.f.None||e.id===dt.a.None||e.type!==b||e.speed!==t.speed)},j=function(e){var n=Object(po.h)(t,b);mt.b.add({undo:{transition:n,func:function(e){C(e.transition,n,!1)}},redo:{transition:e,func:function(e){C(e.transition,n,!1)}}},s)},f=function(e){var t=e.transitionSelected,n=e.delay,o=e.prevDuration,a=e.introDuration;return t?n+o-a:n+o},g=function(e){var t=e.transitionSelected,n=e.delay,o=e.prevDuration,a=e.introDuration;return t?n+o-a:n+o},S=function(e){var t=e.transitionSelected,n=e.prevDuration,o=e.trackEnd,a=e.introDuration;return t?o-a:o+n},v=function(e,o,a,r){var s,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!m(o,a)){var d=Object(wt.t)(n,i),u=null!==(s=t.videoDelay)&&void 0!==s?s:0,h=Object(_t.c)(t,l),_=h.end;_=parseFloat(_.toFixed(2));var p="video"===e.type?e.videoDelay||0:e.startTime||0,j=o?Object(po.g)(o):0;d.forEach((function(e){var t,n=Object(xo.d)(e),s=null!==(t=n?e.startTime:e.videoDelay)&&void 0!==t?t:0;s=parseFloat(s.toFixed(2));var l=Object(_t.c)(e).end,d=a.id!==dt.a.None,h="intro"===b&&e.id===i,m={transitionSelected:d,delay:s,prevDuration:j,introDuration:r,end:_,trackEnd:l};h?u=f(m):(s>=_||(null===o||void 0===o?void 0:o.speed)!==(null===a||void 0===a?void 0:a.speed)||s+j>=_)&&(p=g(m),n&&(l=S(m)));var v="intro"===b&&l>_,O="outro"===b&&e.id!==i&&l>_;h?Object(q.studioUpdateTransitionTiming)(e,n,u,l,c):(v||O)&&Object(q.studioUpdateTransitionTiming)(e,n,p,l,c)}))}},O=function(e,n,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={animation:{}},i={animation:{}};if(Object(po.k)(t)){var s=Object(po.n)(t);r=Object(re.a)({},s)}if(Object(po.k)(e)){var l=Object(po.n)(e);i=Object(re.a)({},l)}Object(po.k)(t)||Object(po.k)(e)||(r={animation:Object(re.a)({},t.animation)},i={animation:Object(re.a)({},e.animation)}),"intro"===b?(r.animation.intro=[Object(re.a)(Object(re.a)({},n),{},{timing:b,transitionLayerId:e.id})],i.animation.outro=[Object(re.a)(Object(re.a)({},o),{},{transitionLayerId:t.id})]):"outro"===b&&(r.animation.outro=[Object(re.a)(Object(re.a)({},o),{},{timing:b,transitionLayerId:e.id})],i.animation.intro=[Object(re.a)(Object(re.a)({},n),{},{transitionLayerId:t.id})]),c(t,r,a),c(e,i,a)},y=function(e,t){var n=Object(_t.c)(e,l),o=n.start,r=n.end,i=Object(we.g)(),s=o;"intro"===b?s-=t:s=r-t,Object(Zn.c)(s,!i),setTimeout((function(){a()}),20)},C=function(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o&&j(e);var a=Object(po.f)(e),r=a.introAnimation,i=a.outroAnimation,s=Object(po.g)(r),c=Object(po.g)(i),l=s+c;if((null===n||void 0===n?void 0:n.transitionId)!==e.id){var d=p();d&&(O(d,r,i,!1),v(d,n,e,s,!1),e.id!==dt.f.None&&y(t,l))}else y(t,l)},x=Object(po.j)(t),A=x.introTransition,B=x.outroTransition,w=A&&A.id!==dt.a.None||B&&B.id!==dt.a.None,E={changeSpeed:function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(po.h)(t,b);o&&mt.b.add({undo:{speed:a.speed,func:function(t){e(t.speed,!1)}},redo:{speed:n,func:function(t){e(t.speed,!1)}}},s);var r=Object(re.a)({},a);r.speed=n;var i=Object(po.g)(r),l={animation:Object(re.a)({},t.animation)},d=p();if(d){var u={animation:Object(re.a)({},d.animation)};if("intro"===b&&"intro"===r.type){l.animation.intro=[Object(re.a)({},r)];var h=Object(po.h)(d,"outro");u.animation.outro=[Object(re.a)(Object(re.a)({},h),{},{speed:n})]}else if("outro"===b&&"outro"===r.type){l.animation.outro=[Object(re.a)({},r)];var _=Object(po.h)(d,"intro");u.animation.intro=[Object(re.a)(Object(re.a)({},_),{},{speed:n})]}c(t,l),c(d,u),v(d,a,r,i),y(t,i)}},handleTransitionTimingClick:function(e){if(b!==e)_(e);else{_("");var n=Object(po.h)(t,e);if(n&&n.id!==dt.a.None){var o=Object(ua.c)(dt.f.None);C(o,n)}}},introTransition:A,outroTransition:B,layer:t,nextLayer:o,prevLayer:r,selectTransition:C,transitionTiming:b,transitionFound:w,videoDuration:l};return Object(oe.jsxs)("div",{className:ba.a.transitionControls,children:[Object(oe.jsx)(_a,Object(re.a)({},E)),(b||w)&&Object(oe.jsx)(pa,Object(re.a)({},E)),Object(oe.jsx)(ma,Object(re.a)({},E))]})}))),ga=function(e){var t=e.layer,n=e.updateLayer,o=Ue.b,a=t.stroke,r=t.lineWidth?parseFloat(String(t.lineWidth)):0;return Object(oe.jsx)(Pn.d,{increment:function(){t.stroke===o&&0===t.lineWidth&&(a="#000"),n(t,{lineWidth:"".concat(r+.1,"%"),stroke:a})},decrement:function(){n(t,{lineWidth:"".concat(r-.1>0?r-.1:0,"%"),stroke:a})},extraSmallTheme:!0,value:10*Number(r.toFixed(1)),disableDecrement:0===r})},Sa=function(e){var t=e.layer,n=t.stroke?t.stroke:"#000000";return Object(oe.jsx)(Yn.a,{color:n,path:"/studio/editor/layer/".concat(t.id,"/outline-colors"),layer:t,outline:!0})},va=function(e){var t=e.layer,n=e.updateLayer;return Object(oe.jsxs)(Wn.a,{title:"OUTLINE",noWrap:!0,customDataCy:"outline-controller-box",children:[Object(oe.jsx)(Sa,{layer:t}),Object(oe.jsx)(ga,{layer:t,updateLayer:n})]})},Oa=function(e){var t=e.layer;return Object(oe.jsx)(Wn.a,{title:"VIDEO",children:Object(oe.jsxs)(Pn.j,{children:[Object(oe.jsx)(vo,{}),Object(oe.jsx)(Oo,{layer:t})]})})},ya=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getOrder=function(){var t=e.props,n=t.layer,o=t.layers,a=o.length-o.map((function(e){return e.id})).indexOf(n.id);return"".concat(a," of ").concat(o.length)},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.layer,o=t.updateLayer;n&&(e.layer.stroke===n.stroke||e.layer.stroke||e.layer.lineWidth||o(n,{lineWidth:"1%",stroke:n.stroke}))}},{key:"render",value:function(){var e=this.props,t=e.layer,n=e.layers,o=e.updateLayer,a=Object(wt.l)(t,n,this.props.selectedLayerId,this.props.sceneDuration),r=a.prevLayer,i=a.nextLayer;return Object(oe.jsxs)(Gn.b,{cyPrefix:"controls",tabTitles:["edit","animate","effects","timing"],id:"video",children:[Object(oe.jsxs)(Gn.a,{children:[Object(oe.jsx)(Oa,{layer:t}),t.converted_gif?null:Object(oe.jsx)(Xo,{layer:t}),t.hasAudio&&!t.detachedAudioId?Object(oe.jsx)(ea,{layer:t}):null,Object(oe.jsx)(Eo,{layer:t}),Object(oe.jsx)(To.a,{layer:t}),Object(oe.jsx)(So,{layer:t}),Object(oe.jsx)(Ho,{layer:t,smallControlButtonStyle:{flex:"auto"}}),Object(oe.jsx)(va,{layer:t,updateLayer:o}),Object(oe.jsx)(Yn.b,{layer:t}),Object(oe.jsx)(Fo,{})]}),Object(oe.jsxs)(Gn.a,{children:[Object(oe.jsx)(mo.a,{layer:t,animationOptionsList:po.q}),Object(oe.jsx)(fa,{layer:t,prevLayer:r,nextLayer:i})]}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(da,{layer:t})}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(jo.a,{layer:t})})]})}}]),n}(d.Component),Ca=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,canvasHeight:e.studio.height,canvasWidth:e.studio.width,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,sceneDuration:e.studio.scenes[e.studio.selectedSceneIndex].duration}}),(function(e){return Object(ie.b)({updateLayer:ue.T,updateLayerNoSync:ue.U},e)}))(ya),xa=n.p+"static/media/arrow-closed-icon.ffbbb888.svg",Aa=n.p+"static/media/arrow-open-icon.acd042de.svg",Ba=n.p+"static/media/line-solid-icon.5f39a335.svg",wa=n.p+"static/media/line-big-dash-icon.9abfb0bd.svg",ka=n.p+"static/media/line-small-dash-icon.c7198e3f.svg",Ea=n.p+"static/media/line-dotted-icon.9c767101.svg",Ta=n(1048),Ia=function(e){var t=e.layer;return Object(oe.jsx)(Wn.a,{title:"FILL COLOR",children:Object(oe.jsx)(Yn.a,{color:t.background,path:"/studio/editor/layer/".concat(t.id,"/shape-background-colors"),previewList:!0,layer:t,colorType:"background"})})},La=function(e){var t=e.layer,n=["line","arrow"].includes(t.shapeType||"")?"LINE COLOR":"OUTLINE COLOR";return Object(oe.jsx)(Wn.a,{title:n,children:Object(oe.jsx)(Yn.a,{color:t.stroke,path:"/studio/editor/layer/".concat(t.id,"/outline-colors"),layer:t,outline:!0})})},Da=function(e){var t=e.layer,n=e.updateLayer,o=Ue.b,a=t.stroke,r=["line","arrow"].includes(t.shapeType||"")?"LINE WIDTH":"OUTLINE WIDTH",i=parseFloat(String(t.lineWidth)),s=["line","arrow"].includes(t.shapeType||"")?.1:0;return Object(oe.jsx)(Wn.a,{title:r,children:Object(oe.jsx)(Pn.d,{increment:function(){t.stroke===o&&t.lineWidth===s&&(a="#000"),n(t,{lineWidth:"".concat(i+.1,"%"),stroke:a},!0)},decrement:function(){n(t,{lineWidth:"".concat(i-.1>s?i-.1:s,"%")},!0)},value:10*Number(parseFloat(String(t.lineWidth)).toFixed(1)),disableDecrement:i===s})})},Ha=function(e){var t=e.layer,n=e.updateLayer,o=Object(d.useState)(0),a=Object(k.a)(o,2),r=a[0],i=a[1],s=Object(d.useState)(0),c=Object(k.a)(s,2),l=c[0],u=c[1],h=Object(d.useState)(0),b=Object(k.a)(h,2),_=b[0],p=b[1],m=Object(d.useState)(0),j=Object(k.a)(m,2),f=j[0],g=j[1],S=[{iconUrl:Ba,label:"",value:""},{iconUrl:wa,label:"",value:"big dash"},{iconUrl:ka,label:"",value:"small dash"},{iconUrl:Ea,label:"",value:"dotted"}],v=[{iconUrl:"",label:"No end",value:""},{iconUrl:Aa,label:"",value:"open"},{iconUrl:xa,label:"",value:"closed"}];Object(d.useEffect)((function(){if(t.lineStyle){var e=S.findIndex((function(e){return e.value===t.lineStyle}));u(e)}if(t.lineArrow){var n=v.findIndex((function(e){return e.value===t.lineArrow}));g(n)}}),[]);return Object(oe.jsxs)(Wn.a,{title:"LINE STYLES",children:[Object(oe.jsx)(Pn.i,{selectedItemIndex:r,confirmedItemIndex:l,listItems:S,handleSelectedItem:function(e){i(e)},handleConfirm:function(e){u(e),n(t,{lineStyle:S[e].value},!0)}}),Object(oe.jsx)(Pn.i,{selectedItemIndex:_,confirmedItemIndex:f,listItems:v,handleSelectedItem:function(e){p(e)},handleConfirm:function(e){g(e),n(t,{lineArrow:v[e].value},!0)}})]})},Va=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))((function(e){var t=e.layer,n=e.updateLayer,o=Object(Bt.a)(["edit","animate"]),a=o.showTiming,r=o.tabTitles;return Object(oe.jsxs)(Gn.b,{cyPrefix:"controls",tabTitles:r,id:"shape",children:[Object(oe.jsxs)(Gn.a,{children:[!["line","arrow"].includes(t.shapeType||"")&&Object(oe.jsx)(Ia,{layer:t}),Object(oe.jsx)(La,{layer:t}),Object(oe.jsx)(Da,{layer:t,updateLayer:n}),["rectangle"].includes(t.shapeType||"")&&Object(oe.jsx)(To.a,{layer:t,fullSize:!0}),["line","arrow"].includes(t.shapeType||"")&&Object(oe.jsx)(Ha,{layer:t,updateLayer:n}),Object(oe.jsx)(Ta.a,{layer:t,updateLayer:n}),Object(oe.jsx)(Yn.b,{layer:t})]}),Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(mo.a,{layer:t,animationOptionsList:po.o})}),a&&Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(jo.a,{layer:t})})]})})),Ma=n(34),Fa=n.n(Ma),Ra=n(930),Qa=function(){return Object(oe.jsx)(Pn.g,{icon:Ra.a,label:"Delete",handleClick:q.studioDeleteSelectedLayer},Object(Ma.v4)())},Pa=function(){return Object(oe.jsx)(Pn.g,{label:"Edit subtitles",handleClick:function(){Object(we.c)("/studio/editor/subtitle-overlay")}},Object(Ma.v4)())},Na=function(e){var t=e.layer,n=Object(Bt.a)(["subtitle"]),o=n.showTiming,a=n.tabTitles;return Object(oe.jsxs)(Gn.b,{cyPrefix:"controls",tabTitles:a,id:"subtitles",children:[Object(oe.jsx)(Gn.a,{children:Object(oe.jsxs)(Wn.a,{title:"Subtitle",children:[Object(oe.jsx)(Qa,{}),Object(oe.jsx)(Pa,{})]})}),o&&Object(oe.jsx)(Gn.a,{children:Object(oe.jsx)(jo.a,{layer:t})})]})},Ua=n(1100),Wa=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(oe.jsx)(Pn.g,{handleClick:function(){Object(we.c)("/studio/editor/replace")},icon:Ua.a,label:"Replace",title:"replace placeholder"})}}]),n}(d.Component),Ka=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}}))(Wa),Ya=n(947),Ga=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.layer;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(za,{}),Object(oe.jsx)(Xa,{layer:e}),Object(oe.jsx)(Yn.b,{layer:e})]})}}]),n}(d.Component),za=function(){return Object(oe.jsx)(Wn.a,{title:"REPLACE PLACEHOLDER",children:Object(oe.jsx)(Ka,{})})},Xa=function(e){var t=e.layer;return Object(oe.jsx)(Wn.a,{title:"PLACEHOLDER COLOR",children:Object(oe.jsx)(Ya.a,{defaultColor:t.background,handleUpdate:function(e){Object(q.studioChangeLayerColor)({layer:t,color:e})}})})},Za=Ga,Ja=n.p+"static/media/progress-bar-gradient-icon.8bb5231e.svg",qa=n.p+"static/media/progress-bar-background-icon.418d4db8.svg",$a=n.p+"static/media/progress-bar-solid-icon.3096157d.svg",er=n.p+"static/media/progress-bar-glowing-icon.afd13406.svg",tr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.layer,n=e.updateLayer;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(nr,{layer:t,updateLayer:n}),Object(oe.jsx)(Ia,{layer:t}),Object(oe.jsx)(La,{layer:t}),Object(oe.jsx)(Da,{layer:t,updateLayer:n}),Object(oe.jsx)(Ta.a,{layer:t,updateLayer:n}),Object(oe.jsx)(Yn.b,{layer:t})]})}}]),n}(d.Component),nr=function(e){var t=e.layer,n=e.updateLayer,o=t.progressBarStyle;return Object(oe.jsxs)(Wn.a,{title:"STYLES",children:[Object(oe.jsx)(Pn.g,{label:"Solid",icon:$a,selected:"solid"===o,handleClick:function(){n(t,{progressBarStyle:"solid"},!0)}}),Object(oe.jsx)(Pn.g,{label:"Gradient",icon:Ja,selected:"gradient"===o,handleClick:function(){n(t,{progressBarStyle:"gradient"},!0)}}),Object(oe.jsx)(Pn.g,{label:"Glowing",icon:er,selected:"glowing"===o,handleClick:function(){n(t,{progressBarStyle:"glowing"},!0)}}),Object(oe.jsx)(Pn.g,{label:"Background",icon:qa,selected:"background"===o,handleClick:function(){n(t,{progressBarStyle:"background"},!0)}})]})},or=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))(tr),ar=n(1625),rr=n.n(ar),ir=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.layer;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("p",{className:rr.a.textStyle,children:"Converting video....."}),Object(oe.jsx)(Yn.b,{layer:e})]})}}]),n}(d.Component),sr=n(1157),cr=n(1233),lr=n.p+"static/media/ungroup.b12ed52b.svg",dr=function(e){var t=e.selectedLayerId,n=e.groups,o=e.layers,a=n[t],r=(a||{}).isTimelineGroup,i=a&&!!a.saved&&a.layers.every((function(e){return e.saved})),s=i?"Ungroup Layers":"Group Layers",c=i?lr:cr.a,l=o.filter((function(e){return a&&a.layers.map((function(e){return e.id})).includes(e.id)})).every((function(e){return e.locked}));return Object(oe.jsxs)(Wn.a,{title:"GROUP",children:[Object(oe.jsx)(Pn.g,{icon:c,label:s,alt:s,handleClick:function(){return Object(me.j)(!i)},disabled:r}),Object(oe.jsx)(Pn.g,{icon:sr.a,label:"Duplicate",alt:"duplicate group",handleClick:function(){return Object(me.g)()}}),l?Object(oe.jsx)(Pn.g,{icon:Object(oe.jsx)(Oe.J,{className:Lo.a.controlButtonIcon}),label:"Unlock",alt:"unlock layer",handleClick:function(){return Object(q.studioLockGroup)(t)},disabled:r}):Object(oe.jsx)(Pn.g,{icon:Object(oe.jsx)(Oe.K,{className:Lo.a.controlButtonIcon}),label:"Lock",alt:"lock layer",handleClick:function(){return Object(q.studioLockGroup)(t)},disabled:r}),Object(oe.jsx)(Pn.g,{icon:Ra.a,label:"Delete",alt:"delete group",handleClick:function(){return Object(q.studioDeleteGroup)(t)}})]})},ur=function(){return Object(oe.jsx)(Wn.a,{title:"INTERVAL",children:Object(oe.jsx)(Pn.g,{icon:Ra.a,label:"Delete",alt:"delete gap",handleClick:function(){return Object(wt.w)()}})})};function hr(e){var t=e.studio,n=t.selectedLayerId,o=t.selectedSceneIndex,a=t.groups,r=t.timelineGap,i=e.studio.scenes[o].layers;return a&&a[n]?{type:"group"}:r&&r.gapId===n?{type:"gap"}:i.find((function(e){return e.id===n}))}var br=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.groups,n=e.selectedLayerId,o=e.layers,a=e.layer,r=e.isProjectFetched;if(a)switch(a.type){case"image":return Object(oe.jsx)(Wo,{layer:a});case"text":return Object(oe.jsx)(Ko.b,{layer:a});case"video":return a.requireConversion?Object(oe.jsx)(ir,{layer:a}):Object(oe.jsx)(Ca,{layer:a});case"audio":return Object(oe.jsx)(aa,{layer:a});case"subtitle":return Object(oe.jsx)(Na,{layer:a});case"shape":return"progressBar"===a.shapeType?Object(oe.jsx)(or,{layer:a}):Object(oe.jsx)(Va,{layer:a});case"placeholder":return Object(oe.jsx)(Za,{layer:a});case"group":return Object(oe.jsx)(dr,{selectedLayerId:n,groups:t,layers:o});case"gap":return Object(oe.jsx)(ur,{});default:return null}else if(!r)return Object(oe.jsx)(_o.a,{});return Object(oe.jsx)(bo,{})}}]),n}(d.Component),_r=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,groups:e.studio.groups,layer:hr(e),isProjectFetched:e.studio.isProjectFetched}}),(function(e){return Object(ie.b)({selectLayer:ue.D,updateLayer:ue.T},e)})),pr=Object(m.k)(_r(br)),mr=n(101),jr=n(156),fr=n(1626),gr=n.n(fr),Sr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).translateXY=function(e,t,n,a){var r=o.props,i=(t-n-80)/r.canvasHeight;return{x:(e-a)/r.canvasWidth*o.canvas.width,y:i*o.canvas.height}},o.handleMouseDown=function(){var e=o.props,t=e.layers,n=e.location,a=e.match,r=o.state.colorPreview;if("Hover over canvas"===r)o.handleExit();else{var i=t.find((function(e){return e.id===a.params.id})),s=n.state.properties,c={layer:i,color:r,isBackground:!1,isSceneView:!1,outlineType:void 0,colorType:s,undoable:!0};switch(s){case"canvasBackground":c.isBackground=!0,Object(q.studioChangeLayerColor)(c);break;case"stroke":c.outlineType="stroke",Object(q.studioChangeLayerColor)(c);break;case"backgroundColor":default:Object(q.studioChangeLayerColor)(c)}o.handleExit()}},o.handleMouseMove=function(e){var t=o.props,n=t.canvasHeight,a=t.canvasWidth,r=t.containerHeight,i=t.containerWidth,s=t.containerX,c=e.clientX,l=e.clientY,d=(i-a)/2+s,u=(r-n)/2;if(c<d||c>d+a||l<u+80||l>u+80+n)document.body.style.cursor="default",o.setState({colorPreview:"Hover over canvas"});else{document.body.style.cursor="crosshair";var h=o.translateXY(c,l,u,d),b=h.x,_=h.y,p=o.getColor(b,_),m=p.r,j=p.g,f=p.b,g=Object(mn.t)(m,j,f);o.setState({colorPreview:g})}},o.getColor=function(e,t){var n=o.ctx.getImageData(e,t,1,1),a=Object(k.a)(n.data,3);return{r:a[0],g:a[1],b:a[2]}},o.getEyedropperCanvas=Object(r.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.props.studio,e.prev=1,e.next=4,Object(jr.e)(t,!1,!0);case 4:n=e.sent,o.canvas=n,o.ctx=n.getContext("2d"),o.setState({loading:!1}),document.addEventListener("mousemove",o.handleMouseMove),document.addEventListener("mousedown",o.handleMouseDown),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),Object(mr.a)("Error loading canvas data. Please refresh and try again."),console.error(e.t0),o.handleExit();case 17:case"end":return e.stop()}}),e,null,[[1,12]])}))),o.handleExit=function(){Object(we.b)(),document.body.style.cursor="default",document.removeEventListener("mousedown",o.handleMouseDown),document.removeEventListener("mousemove",o.handleMouseMove)},o.state={colorPreview:"Hover over canvas",loading:!0},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(q.studioSetEyedropperMode)(!0),Object(Zn.d)(),this.getEyedropperCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props.eyedropperMode;e.eyedropperMode&&!t&&this.handleExit()}},{key:"componentWillUnmount",value:function(){Object(q.studioSetEyedropperMode)(!1),document.body.style.cursor="default",document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mousedown",this.handleMouseDown)}},{key:"render",value:function(){var e=this.state.loading,t=this.state.colorPreview,n="Hover over canvas"===t;return"Hover over canvas"===t&&(t="#252935"),e?Object(oe.jsx)(_o.a,{}):Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(Wn.a,{children:[Object(oe.jsx)("div",{className:gr.a.helperText,children:"Use the eyedropper to pick a color on the canvas."}),Object(oe.jsxs)("div",{className:gr.a.colorPreviewContainer,children:[Object(oe.jsx)("div",{className:gr.a.colorPreview,style:{backgroundColor:t},"data-cy":"eyedropper-color-preview",children:n&&Object(oe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 810 810",children:Object(oe.jsx)("rect",{x:"570",y:"-570",width:"5",height:"1145",transform:"rotate(45)",fill:"white"})})}),Object(oe.jsx)("div",{className:gr.a.colorPreviewText,children:t}),Object(oe.jsx)(Pn.g,{label:"Close",handleClick:this.handleExit,style:{width:"50%",alignSelf:"center",margin:"0"}})]})]})})}}]),n}(d.Component),vr=Object(m.k)(Object(_.c)((function(e){return{studio:e.studio,canvasWidth:e.studio.width,canvasHeight:e.studio.height,containerX:e.studio.containerX,containerHeight:e.studio.containerHeight,containerWidth:e.studio.containerWidth,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,eyedropperMode:e.studio.eyedropperMode}}),(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))(Sr)),Or=n(983),yr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).renderRoutes=function(){for(var e=[],t=0,n=[["/:videoId?/studio/editor/layer/:id",pr,!0],["/:videoId?/studio/editor/layer/:id/eyedropper",vr,!0],["/:videoId?/studio/editor/background/eyedropper",vr,!0],["/:videoId?/studio/editor",bo,!1]];t<n.length;t++){var o=Object(k.a)(n[t],3),a=o[0],r=o[1],i=o[2];e.push(Object(oe.jsx)(m.c,{path:a,component:r,exact:i},a))}return e},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setRoute()}},{key:"setRoute",value:function(){var e=Or.b.map((function(e){return"/studio/editor/".concat(e.slug)})),t=this.props,n=t.selectedLayerId,o=t.location;if(n&&"background"!==n){var a="/studio/editor/layer/".concat(n);if(!o)return;var r=o.pathname;!r||r.includes("/studio/editor/animate")||r.includes("/studio/editor/fonts")||r.includes("/studio/editor/adjust")||r.includes("/studio/editor/trimmer")||r.includes("/studio/editor/crop")||r.match("studio/editor/.+/tab/[a-z]")||r===a||e.some((function(e){return r.includes(e)}))||Object(we.l)(a)}}},{key:"render",value:function(){var e=this.props.mobile;return Object(oe.jsx)(Pn.b,{mobile:e,children:Object(oe.jsx)(m.e,{children:this.renderRoutes()})})}}]),n}(d.Component),Cr=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,sceneDuration:e.studio.scenes[e.studio.selectedSceneIndex].duration,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}})),xr=Object(m.k)(Cr(yr)),Ar=n(931),Br=n(984),wr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toggleMute=function(){var t=e.props,n=t.layer;(0,t.updateLayer)(n,{isMuted:!n.isMuted},!0)},e}return Object(s.a)(n,[{key:"renderLabel",value:function(){return this.props.layer.isMuted?"Unmute":"Mute"}},{key:"render",value:function(){var e=this,t=this.props,n=t.layer,o=t.smallControlButtonStyle,a=t.smallControlButtonIconStyle,r=t.smallControlButtonLabelFontStyle,i=t.controlSectionTitleStyle,s=t.controlButtonRowStyle;return Object(oe.jsx)(Wn.a,{title:"AUDIO",style:i,controlButtonRowStyle:s,children:Object(oe.jsx)(Pn.g,{icon:n.isMuted?Zo:Jo,label:n.isMuted?"Unmute":"Mute",handleClick:function(){e.toggleMute(),Object(q.studioHideFullScreenControls)()},style:o,iconStyle:a,labelFontStyle:r})})}}]),n}(d.Component),kr=Object(_.c)(void 0,(function(e){return Object(ie.b)({updateLayer:ue.T},e)}))(wr),Er=n(1627),Tr=n.n(Er),Ir={minHeight:"40px",minWidth:"80px",marginBottom:"15px"},Lr={minHeight:"40px",minWidth:"40px"},Dr={width:"auto",height:"10px",maxWidth:"10px",marginRight:"7px"},Hr={maxWidth:"18px",maxheight:"18px"},Vr={fontSize:"12px"},Mr={fontSize:"11px",opacity:1,justifyContent:"center"},Fr={justifyContent:"center"},Rr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleExit=function(){var e=o.props,t=e.origin;(0,e.showToolTip)(""),"resize-video"===t&&o.setState({showToolTray:!1})},o.state={showToolTray:!0},o}return Object(s.a)(n,[{key:"getSelectedLayer",value:function(){var e=this.props,t=e.selectedLayerId;return e.layers.find((function(e){return e.id===t}))}},{key:"renderOneoffTool",value:function(){var e=this.props,t=e.toolTip,n=e.ratio,o=e.hasCustomOutput,a=e.customOutputWidth,r=e.customOutputHeight,i=e.origin,s=this.getSelectedLayer();return"mute"===t&&s&&"video"===s.type?Object(oe.jsx)(kr,{layer:s,smallControlButtonStyle:Ir,smallControlButtonIconStyle:Dr,smallControlButtonLabelFontStyle:Vr,controlSectionTitleStyle:Mr,controlButtonRowStyle:Fr}):"rotate"!==t||!s||"video"!==s.type&&"image"!==s.type?"speed"!==t||!s||"video"!==s.type&&"audio"!==s.type?"resize-video"!==i?null:Object(oe.jsx)(co,{ratio:n,hasCustomOutput:o,outputWidth:a,outputHeight:r,mobileToolTray:!0}):Object(oe.jsx)(Xo,{layer:s,controlButtonRowStyle:Fr}):Object(oe.jsx)(Ho,{layer:s,smallControlButtonStyle:Lr,smallControlButtonIconStyle:Hr,controlSectionTitleStyle:Mr,controlButtonRowStyle:Fr,incrementAndDecrementSmallTheme:!0})}},{key:"render",value:function(){var e=this.state.showToolTray,t=this.props,n=t.toolTip,o=t.origin,a=this.getSelectedLayer(),r="resize-video"===o;a&&(r="oneoff-landing-page"===a.origin);var i=this.renderOneoffTool();return!(!e&&"resize-video"===o)&&(n&&r&&i||"resize-video"===o)?Object(oe.jsxs)("div",{className:Tr.a.canvasMobileToolTrayContainer,children:[Object(oe.jsx)("div",{className:Tr.a.canvasMobileToolTrayHeader,children:i}),Object(oe.jsx)("div",{className:Tr.a.exit,onClick:this.handleExit,children:Object(oe.jsx)(Oe.l,{})})]}):null}}]),n}(d.Component),Qr=Object(_.c)((function(e){return{toolTip:e.toolTip,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,selectedLayerId:e.studio.selectedLayerId,ratio:e.studio.ratio,hasCustomOutput:e.studio.hasCustomOutput,customOutputWidth:e.studio.customOutputWidth,customOutputHeight:e.studio.customOutputHeight,origin:e.studio.origin}}),(function(e){return Object(ie.b)({showToolTip:v.B},e)}))(Rr),Pr=n(1107),Nr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.handleClick,o=e.style,a=e.children,r=e.className,i=Lo.a.genericButton;return t&&(i+=" ".concat(Lo.a.genericButtonSelected)),r&&(i+=" ".concat(r)),Object(oe.jsx)("div",{className:i,style:o,onClick:n,"data-cy":"generic-button-view",children:a})}}]),n}(d.Component),Ur=n(1628),Wr=n.n(Ur),Kr=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}}),void 0)((function(e){var t=e.selectedLayerId,n=e.layers,o=t&&""!==t&&n.length;return Object(oe.jsxs)("div",{className:Wr.a.editLayerButtonContainer,"data-cy":"edit-layer-button-container",children:[Object(oe.jsx)(Nr,{style:{paddingLeft:"30px",paddingRight:"30px",width:"auto",marginRight:o?"20px":"0px",fontFamily:["Open Sans","Sans Serif"],fontWeight:700,height:"36px",background:"#424650"},handleClick:q.studioShowFullScreenControls,children:function(){if(!o)return"Edit background";var e=n.find((function(e){return e.id===t}));return e?"Edit ".concat(e.type):"Edit selected layer"}()}),o?Object(oe.jsx)(Nr,{style:{paddingLeft:"15px",paddingRight:"15px",width:"auto",background:"#5a5d68"},handleClick:q.studioDeleteSelectedLayer,children:Object(oe.jsx)("img",{"data-cy":"generic-button-view-delete",src:Ra.a,style:{maxHeight:"16px",width:"auto"},alt:"delete layer"})}):null]})})),Yr=n(1629),Gr=n.n(Yr),zr=function(e){var t=e.setOnPressPlayWrapper,n=Object(Z.k)(),o=Object(d.useContext)(st.a).renderCanvasContainer,a=Object(g.f)((function(e){return{containerY:e.studio.containerY,multiScene:!Object(we.i)()||Object(he.a)(e),isMediaSideBarExpanded:Object(he.d)(e)}}),g.e),r=a.containerY,i=a.multiScene,s=a.isMediaSideBarExpanded,c=n?{top:r+110,left:0,right:0}:{top:r+10,right:270};return Object(oe.jsx)("div",{className:Gr.a.studioBody,children:Object(oe.jsxs)("div",{className:Gr.a.studioBodyLeft,children:[n?Object(oe.jsx)(Kr,{}):null,(!s||n)&&Object(oe.jsx)(Pr.a,{position:c}),Object(oe.jsxs)("div",{className:Gr.a.canvasAndScenesContainer,children:[o(),Object(oe.jsx)(Br.a,{canvas:!0,hidden:!0,multiScene:i,name:"canvas",setOnPressPlay:t})]}),n?Object(oe.jsx)(Qr,{}):null]})})},Xr=function(){var e=Object(r.a)(a.a.mark((function e(){var t,n,o,r,i,s,c,l,d,u,h,b,_,p,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Lt.b)(),n=t.state,o=[],r=!0,e.prev=3,e.next=6,navigator.clipboard.read();case 6:i=e.sent,s=Object(E.a)(i),e.prev=8,s.s();case 10:if((c=s.n()).done){e.next=47;break}l=c.value,d=Object(E.a)(l.types),e.prev=13,d.s();case 15:if((u=d.n()).done){e.next=37;break}if("text/plain"!==(h=u.value)){e.next=29;break}return e.next=20,l.getType(h);case 20:return b=e.sent,e.next=23,b.text();case 23:if((_=e.sent)!==n.studio.clipboardCopyId){e.next=26;break}return e.abrupt("break",37);case 26:if(_.match(/.+\.(png|gif|jpeg|jpg|tif|tiff|ico|bmp)/)){e.next=29;break}return o=[],e.abrupt("break",37);case 29:if(!(p=h.match(/image\/(.+)/))){e.next=35;break}return e.next=33,l.getType(h);case 33:m=e.sent,o.push(new File([m],"image.".concat(p[1]),{type:h}));case 35:e.next=15;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(13),d.e(e.t0);case 42:return e.prev=42,d.f(),e.finish(42);case 45:e.next=10;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(8),s.e(e.t1);case 52:return e.prev=52,s.f(),e.finish(52);case 55:e.next=61;break;case 57:e.prev=57,e.t2=e.catch(3),r=!1,Object(J.e)()&&Object(we.c)("/studio/editor/need-clipboard-permission");case 61:return e.abrupt("return",{allowPaste:r,files:o});case 62:case"end":return e.stop()}}),e,null,[[3,57],[8,49,52,55],[13,39,42,45]])})));return function(){return e.apply(this,arguments)}}(),Zr=function(e){var t,n=Object(Lt.b)().state;return(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"))===n.studio.clipboardCopyId||!(!e.clipboardData||e.isTrusted)},Jr=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,o,r,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zr(t)){e.next=2;break}return e.abrupt("return",{allowPaste:!0,files:[]});case 2:if(!(null===(n=t.clipboardData)||void 0===n?void 0:n.files.length)){e.next=6;break}for(o=[],r=0;r<(null===(i=t.clipboardData)||void 0===i?void 0:i.files.length);r+=1)o.push(null===(s=t.clipboardData)||void 0===s?void 0:s.files[r]);return e.abrupt("return",{allowPaste:!0,files:o});case 6:if(!t.isTrusted){e.next=8;break}return e.abrupt("return",{allowPaste:!0,files:[]});case 8:return e.abrupt("return",Xr());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qr=function(e){var t,n=Object(Lt.b)().state.studio,o=n.clipboard,a=n.width,r=n.height,i=document.getElementById("studio-canvas-background");if(!e)return t;if(e.type&&!["background","layer"].includes(e.type))return t;if(!a||!r)return t;if(!i)return t;var s=i.getBoundingClientRect(),c=s.x,l=s.y,d=0,u=0;if(d+=e.clientX-c,u+=e.clientY-l,"layer"===o.itemType&&o.item){var h=o.item,b=h.position;if("shape"===h.type&&"ellipse"===h.shapeType){var _=function(e){var t=(null===e||void 0===e?void 0:e.position)||{},n=t.width,o=t.height;return void 0===n||void 0===o?{x:0,y:0}:{x:parseFloat(n)/2/100,y:parseFloat(o)/2/100}}(h);d+=_.x*a,u+=_.y*r}d>=a-15&&b&&(d-=a*parseFloat(b.width)/100||0),u>=r-15&&b&&(u-=r*parseFloat(b.height)/100||0)}return t={x:"".concat(100*d/a,"%"),y:"".concat(100*u/r,"%")}},$r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(Lt.b)(),o=n.dispatch;o(Object(ue.R)(e,t))},ei=n(255),ti=function(e){var t=e.target,n=t.tagName,o=t.contentEditable,a=e.target.type;return!!(n&&a&&"INPUT"===n.toUpperCase()&&"RANGE"!==a.toUpperCase()||"true"===o||n&&"TEXTAREA"===n.toUpperCase())},ni=function(){var e=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,o,r,i,s,c,l,d,u,h,b,_,p,m,j,f,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(Lt.b)(),o=n.state,r=o.studio,i=r.overlayMounted,s=r.clipboard,c=Object(Bt.d)(),!i){e.next=5;break}return e.abrupt("return");case 5:if(!c||"text"!==c.type||!c.isEditing){e.next=7;break}return e.abrupt("return");case 7:if(!["/studio/editor/subtitle-overlay","/studio/editor/audio","/studio/editor/scenes"].includes(window.location.pathname)){e.next=9;break}return e.abrupt("return");case 9:if(!ti(t)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Jr(t);case 13:if(l=e.sent,d=l.allowPaste,u=l.files,d){e.next=18;break}return e.abrupt("return");case 18:if(h=qr(o.contextMenu),!u.length){e.next=24;break}b=Object(E.a)(u);try{for(b.s();!(_=b.n()).done;)p=_.value,Object(ei.a)(p,{eventHandlers:{handlePreemptiveFinish:mn.o,handleFinish:mn.p},uploadOptions:{uploadSourceComponent:"handlePaste"}})}catch(a){b.e(a)}finally{b.f()}e.next=40;break;case 24:if("layer"!==s.itemType){e.next=32;break}if(m=s.item){e.next=28;break}return e.abrupt("return");case 28:j=Object(pt.a)(m,!0,!0,!1,h),$r({itemType:"layer",item:j}),e.next=40;break;case 32:if("group"!==s.itemType){e.next=39;break}if(f=s.item){e.next=36;break}return e.abrupt("return");case 36:Object(me.f)(f),e.next=40;break;case 39:"scene"===s.itemType&&(g=s.item,Object(q.studioDuplicateScene)(g));case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(e){var t=Object(Lt.b)().state,n=Object(Bt.d)(),o=Object(q.studioGetSelectedGroup)(),a=Object(_n.c)();if(!window.location.pathname.includes("/studio/editor/subtitle-overlay")&&!t.studio.overlayMounted&&(!n||!n.isEditing)&&(!n||!n.isAudiogram)){var r=null;if(n?r={itemType:"layer",item:n}:o?r={itemType:"group",item:o}:a&&(r={itemType:"scene",item:a}),r){var i=Fa.a.v4();$r(r,i),function(e,t){e.clipboardData?e.clipboardData.setData("text/plain",t):navigator.clipboard&&navigator.clipboard.writeText(t)}(e,i),e.preventDefault()}}},n=function(e){var n=Object(Lt.b)().state,o=Object(Bt.d)(),a=Object(q.studioGetSelectedGroup)();window.location.pathname.includes("/studio/editor/subtitle-overlay")||n.studio.overlayMounted||o&&o.isEditing||o&&o.isAudiogram||(o||a)&&(t(e),Object(q.studioDeleteSelectedLayer)(),e.preventDefault())},o=function(e){var t,n,o=[];return e.metaKey&&o.push(dt.e.Command),e.shiftKey&&o.push(dt.e.Shift),e.ctrlKey&&o.push(dt.e.Control),32===e.keyCode&&o.push("space"),e.altKey&&o.push(dt.e.Option),t=e.key,n=e.keyCode,[dt.e.Control,dt.e.Alt,dt.e.Shift,"meta"].includes((t||"").toLowerCase())||32===n||e.key&&o.push(e.key.toLowerCase()),function(e){return e.join("+")}(o)},i={escape:function(){var e=Object(Lt.b)(),t=e.state,n=e.dispatch;t.contextMenu?n(Object(ut.b)()):t.studio.trackIsDragging||(Object(Bt.c)(),Object(we.d)())},alt:function(){Object(q.studioSetModifierKeyPressed)(dt.e.Option,!0)},command:function(){Object(q.studioShowSnapLines)({}),Object(q.studioSetModifierKeyPressed)(dt.e.Command,!0)},control:function(){Object(q.studioShowSnapLines)({}),Object(q.studioSetModifierKeyPressed)(dt.e.Control,!0)},option:function(){Object(q.studioSetModifierKeyPressed)(dt.e.Option,!0)},shift:function(){Object(q.studioSetModifierKeyPressed)(dt.e.Shift,!0)}},s={space:Zn.f},c={backspace:q.studioDeleteSelectedLayer,delete:q.studioDeleteSelectedLayer,"command+g":function(){return Object(me.j)(!0)},"command+shift+g":function(){return Object(me.j)(!1)},s:kt.e,"command+delete":wt.x,"command+backspace":wt.x,"control+delete":wt.x,"control+backspace":wt.x},l={backspace:wt.w,delete:wt.w},u={s:kt.e},h={backspace:q.studioDeleteSelectedLayer,delete:q.studioDeleteSelectedLayer,arrowup:q.studioMoveSelectedLayerUpByIncrement,"shift+arrowup":q.studioMoveSelectedLayerUpByChunk,arrowdown:q.studioMoveSelectedLayerDownByIncrement,"shift+arrowdown":q.studioMoveSelectedLayerDownByChunk,arrowright:q.studioMoveSelectedLayerRightByIncrement,"shift+arrowright":q.studioMoveSelectedLayerRightByChunk,arrowleft:q.studioMoveSelectedLayerLeftByIncrement,"shift+arrowleft":q.studioMoveSelectedLayerLeftByChunk,"command+shift+a":jt,"shift+control+a":jt,"command+]":Bt.b,"command+[":Bt.f,"control+]":Bt.b,"control+[":Bt.f,"command+delete":wt.x,"command+backspace":wt.x,"control+delete":wt.x,"control+backspace":wt.x,s:kt.e},b={},_={},p={},m={},j={},f=function(e){var t=Object(Lt.b)().state,n=o(e);if("command+c"!==n&&"command+v"!==n&&(i[n]&&i[n](),!ti(e)&&!t.studio.eyedropperMode)){s[n]&&(e.preventDefault(),s[n]());var a=Object(Bt.d)(),r=Object(q.studioGetSelectedGroup)(),d=Object(q.studioGetSelectedTimelineGap)(),f=Object(q.studioGetSelectedTimelineRows)();if(a)switch(h[n]&&h[n](e),a.type){case"video":b[n]&&(b[n](),e.preventDefault());break;case"image":_[n]&&(_[n](),e.preventDefault());break;case"text":p[n]&&(p[n](),e.preventDefault());break;case"shape":m[n]&&(m[n](),e.preventDefault());break;default:j[n]&&(j[n](),e.preventDefault())}else r?c[n]&&(c[n](),e.preventDefault()):d?l[n]&&(l[n](),e.preventDefault()):f&&u[n]&&(u[n](),e.preventDefault())}},g=function(e){"Alt"===e.key&&Object(q.studioSetModifierKeyPressed)(dt.e.Option,!1),"Meta"===e.key&&Object(q.studioSetModifierKeyPressed)(dt.e.Command,!1),"Control"===e.key&&Object(q.studioSetModifierKeyPressed)(dt.e.Control,!1),"Option"===e.key&&Object(q.studioSetModifierKeyPressed)(dt.e.Option,!1),"Shift"===e.key&&Object(q.studioSetModifierKeyPressed)(dt.e.Shift,!1)},S=function(){Object(q.studioSetModifierKeyPressed)(dt.e.Option,!1),Object(q.studioSetModifierKeyPressed)(dt.e.Command,!1),Object(q.studioSetModifierKeyPressed)(dt.e.Control,!1),Object(q.studioSetModifierKeyPressed)(dt.e.Shift,!1)};return Object(d.useEffect)((function(){var o=vn()(Object(Z.c)(e),300);return document.addEventListener("keydown",f),document.addEventListener("keyup",g),document.addEventListener("copy",t),document.addEventListener("paste",o),document.addEventListener("cut",n),window.addEventListener("blur",S),function(){document.removeEventListener("keydown",f),document.removeEventListener("keyup",g),document.removeEventListener("copy",t),document.removeEventListener("paste",o),document.removeEventListener("cut",n),window.removeEventListener("blur",S)}}),[]),null},oi=n(1119),ai=n(113),ri=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).addAudio=function(t){e.props.addAudio(t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(Zn.d)()}},{key:"render",value:function(){return Object(oe.jsx)(oi.a,{audio:this.props.audio,addAudio:this.addAudio,canvas:!0},"addAudioCreate")}}]),n}(d.Component),ii=Object(m.k)(Object(_.c)((function(e){return{audio:e.audio,audioStartTime:e.audioStartTime,audioTrimStartTime:e.audioTrimStartTime,audioTrimEndTime:e.audioTrimEndTime,audioIsTrimmed:e.audioIsTrimmed}}),(function(e){return Object(ie.b)({addAudio:ai.a},e)}))(ri)),si=n(1267),ci=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(Zn.d)()}},{key:"render",value:function(){return Object(oe.jsx)(si.a,{canvas:!0})}}]),n}(d.Component),li=n(1261),di=n(275),ui=n(1262),hi=n(1263),bi=n(1630),_i=n.n(bi),pi=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goBack=function(){Object(we.d)()},e.getCustomStyles=function(){var t={},n=e.props.location.pathname;return-1===n.indexOf("/studio/editor/animate")&&-1===n.indexOf("/studio/editor/scenes")&&-1===n.indexOf("/studio/editor/subtitle-overlay")||(t.lineHeight="70px"),t},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.customLabel,n=e.customGoBack;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:_i.a.backButton,style:this.getCustomStyles(),onClick:n||this.goBack,children:Object(oe.jsxs)("div",{className:_i.a.buttonContent,children:[Object(oe.jsx)("div",{className:_i.a.buttonIcon,children:Object(oe.jsx)(Oe.d,{})}),Object(oe.jsx)("div",{className:_i.a.buttonLabel,children:t||"Back"})]})}),Object(oe.jsx)("div",{className:_i.a.backButtonSpacer})]})}}]),n}(d.Component),mi=Object(m.k)(Object(_.c)(void 0,(function(e){return Object(ie.b)({selectLayer:ue.D},e)}))(pi)),ji=n(1245),fi=n.n(ji),gi=n(1236),Si=n(1237),vi=n(1238),Oi=n(980),yi=n(849),Ci=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;Object(i.a)(this,n);var a=e.color;return(o=t.call(this,e)).exit=function(){o.props.history.goBack()},o.selectColor=function(e){o.setState({color:e},o.exit())},o.state={color:a},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.selectedLayerId;this.setState({layerId:e})}},{key:"componentWillUnmount",value:function(){var e,t=this.state,n=t.color,o=t.layerId,a=this.props,r=a.updateLayer,i=a.layers,s=Object(E.a)(i);try{for(s.s();!(e=s.n()).done;){var c=e.value;if(c.id===o){r(c,{textColor:n},!0);break}}}catch(l){s.e(l)}finally{s.f()}}},{key:"render",value:function(){var e=this,t=this.props.color;return Object(oe.jsxs)(yi.a,{hideClose:!0,children:[Object(oe.jsx)(Ya.a,{defaultColor:t,handleUpdate:function(t){t&&e.setState({color:t})}}),Object(oe.jsx)(Oi.a,{selectColor:this.selectColor,hideTransparent:!0})]})}}]),n}(d.Component),xi=Object(_.c)((function(e){return{selectedLayerId:e.studio.selectedLayerId,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,color:e.studio.scenes[e.studio.selectedSceneIndex].subtitle.fontColor}}),(function(e){return Object(ie.b)({setSubtitlesColor:di.y,updateLayer:ue.T},e)}))(Ci),Ai=n(1239),Bi=n(61),wi=n(1240),ki=n(1241),Ei=n.n(ki),Ti=Object(_.c)((function(e){return{currentUser:e.currentUser,languageCode:e.languageCode,translateLanguageCode:e.translateLanguageCode,scene:e.studio.scenes[e.studio.selectedSceneIndex],selectedSceneIndex:e.studio.selectedSceneIndex,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,sourceVideo:e.sourceVideo}}),(function(e){return Object(ie.b)({setLanguageCode:di.k,setTranslation:di.E,setTranslationLanguageCode:di.F,translateVideo:di.I,showError:In.d},e)}))((function(e){var t=e.currentUser,n=e.layers,o=e.languageCode,i=e.selectedSceneIndex,s=e.setLanguageCode,c=e.setTranslation,l=e.setTranslationLanguageCode,u=e.showError,h=e.sourceVideo,b=e.translateLanguageCode,_=e.translateVideo,p=Object(d.useState)(!0),m=Object(k.a)(p,2),j=m[0],f=m[1],g=Object(d.useState)(""),S=Object(k.a)(g,2),v=S[0],y=S[1];Object(d.useEffect)((function(){f(!1)}),[]);var C=function(){var e=Object(r.a)(a.a.mark((function e(){var r,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(mn.e)(n),l=X.k.find((function(e){return e.code.includes(b)})),f(!0),c(!0),e.next=7,_(n,t,h,i,o,b);case 7:Object(O.j)("Translated Subtitles",{Origin:"Studio","Translated Language":b,"Source Language":o,asset_id:null===r||void 0===r?void 0:r.asset_id}),l&&(navigator.language.includes(b)?s(navigator.language):s(l.code)),Object(we.b)(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),u(e.t0.message),f(!1),c(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(oe.jsxs)(yi.a,{mini:!0,children:[Object(oe.jsx)("div",{className:"overlay-header",children:"Translate Subtitles"}),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:Ei.a.p,children:"Translate existing subtitles into another language"}),Object(oe.jsx)("div",{className:Ei.a.controlsContainer,children:j?Object(oe.jsx)(_o.a,{text:"Translating",textStyles:{color:"white",fontWeight:600,fontSize:"18px"}}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:Ei.a.controlsHeader,children:"Current subtitle language:"}),Object(oe.jsxs)("div",{className:Ei.a.selectOptionContainer,children:[Object(oe.jsx)("select",{dir:Object(wi.getLangDir)(o)||"ltr",onChange:function(e){e.preventDefault(),s(e.target.value)},value:o,children:X.k.map((function(e){var t=e.en,n=e.code,o=e.label;return Object(oe.jsx)("option",{value:n,children:"".concat(t," - ").concat(o)},"lang-".concat(n))}))}),Object(oe.jsx)(Bi.j,{className:Ei.a.selectOptionIcon})]}),Object(oe.jsxs)("div",{className:Ei.a.translateControls,children:[Object(oe.jsx)("div",{className:Ei.a.controlsHeader,children:"Translate to:"}),Object(oe.jsxs)("div",{className:Ei.a.selectOptionContainer,children:[Object(oe.jsxs)("select",{dir:Object(wi.getLangDir)(o)||"ltr",onChange:function(e){e.preventDefault(),y(e.target.value),l(e.target.value)},value:v,children:[Object(oe.jsx)("option",{value:"",disabled:!0,children:"Select a language"}),X.C.map((function(e){var t=e.en,n=e.code,o=e.label;return Object(oe.jsx)("option",{value:n,children:"".concat(t," - ").concat(o)},"translate-".concat(n))}))]}),Object(oe.jsx)(Bi.j,{className:Ei.a.selectOptionIcon})]})]}),Object(oe.jsx)("button",{type:"button",className:Ei.a.translateButton,onClick:C,children:"Translate"})]})})]})]})})),Ii=n(1266),Li=[["/studio/editor/subtitle-overlay/video-background-color",gi.a],["/studio/editor/subtitle-overlay/text-background-color",Si.a],["/studio/editor/subtitle-overlay/text-color",vi.a],["/studio/editor/subtitle-overlay/:id/individual-text-color",xi],["/studio/editor/subtitle-overlay/fonts",Ii.a],["/studio/editor/subtitle-overlay/fonts/:tab",Ii.a],["/studio/editor/subtitle-overlay/transcribe",Ai.a],["/studio/editor/subtitle-overlay/translate",Ti]];var Di=Object(m.k)((function(e){var t=[];return Li.forEach((function(n){var o=Object(k.a)(n,3),a=o[0],r=o[1],i=o[2],s="/:videoId?".concat(a);i?t.push(Object(oe.jsx)(m.c,{path:s,render:function(){return i(e)}},s)):t.push(Object(oe.jsx)(m.c,{exact:!0,path:s,component:r},s))})),Object(oe.jsx)(m.e,{children:t})})),Hi=n(1254),Vi=n.n(Hi),Mi=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goBack=function(){Object(we.d)()},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)("div",{className:Vi.a.shortFooter,children:[Object(oe.jsx)(mi,{customLabel:"Edit in Studio",customGoBack:this.goBack}),Object(oe.jsx)("div",{className:Vi.a.doneButton,onClick:this.goBack,children:"Done"})]})}}]),n}(d.Component),Fi=n(1029),Ri=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).createDefaultSubtitleIfNoneInScene=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o.props,a=n.selectedSceneId,r=n.subtitlesFont,i=n.subtitlesFontSize,s=n.subtitlesFontStyle,c=n.subtitlesFontWeight,l=n.subtitlesFontColor,d=n.backgroundColor,u=n.textAlign,h=n.textVerticalAlign,b=n.fixedPosition,_=n.lineWidth,p=n.textShadow;!o.sceneHasSubtitleLayer()&&e>0&&Object(xo.e)({id:Fe()(),type:"subtitle",text:"",startTime:0,endTime:3,fontWeight:c,fontFamily:r,fontSize:i,fontColor:l,backgroundColor:d,italic:s,textAlign:u,textVerticalAlign:h,fixedPosition:b,lineWidth:_,textShadow:p,isTrimmed:!0,position:{x:"0%",y:"80%",width:"100%",height:"10%"}},{sceneId:a,undoable:t})},o.sceneHasSubtitleLayer=function(){for(var e=o.props.scene.layers,t=0;t<e.length;t+=1)if("subtitle"===e[t].type)return!0;return!1},o.setVideo=function(e){o.setState({video:e}),o.props.setSubtitleVideo(e)},o.setOnPressPlay=function(e){o.setState({onPressPlay:e})},o.hasAudio=function(){var e,t=o.props,n=t.audio,a=t.layers,r=!1,i=Object(E.a)(a);try{for(i.s();!(e=i.n()).done;){if("audio"===e.value.type){r=!0;break}}}catch(s){i.e(s)}finally{i.f()}return n&&(n.url||n.local_url)||r},o.renderDoneButton=function(){return Object(oe.jsxs)("div",{className:Vi.a.shortFooter,children:[Object(oe.jsx)(mi,{customLabel:"Edit in Studio"}),Object(oe.jsx)("div",{className:Vi.a.doneButton,"data-cy":"subtitles-done-button",onClick:function(){Object(we.d)()},children:"Done"})]})},o.renderEmptySeekerSection=function(){return Object(oe.jsx)("div",{"data-cy":"subtitle-empty-timeline-container",className:Vi.a.centerEmptyTimelinecontainer,children:Object(oe.jsxs)("div",{className:Vi.a.emptyTimelineContainer,children:["To use the subtitler, either upload a video or select a duration for your video:",Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),Object(oe.jsx)("div",{className:Vi.a.outputSelectorContainer,children:Object(oe.jsx)(ao,{onDurationAdded:o.createDefaultSubtitleIfNoneInScene,subtitler:!0})})]})})},o.state={subtitle:null},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.showCanvas,n=e.setStudioDimensions,o=e.sortSubtitleLayers,a=e.scene;mt.b.setMinimumIndex(),t||n({width:320,height:320}),this.createDefaultSubtitleIfNoneInScene(a.duration,!1),this.sceneHasSubtitleLayer()&&o(),Object(Zn.d)()}},{key:"componentDidUpdate",value:function(e){this.props.layers.length!==e.layers.length&&Object(ji.forceCheck)()}},{key:"componentWillUnmount",value:function(){mt.b.setMinimumIndex(!1);var e=this.props.layers.filter((function(e){return e.type===dt.c.Subtitle}));1===e.length&&""===e[0].text&&Object(q.studioDeleteLayerById)(e[0].id,!1)}},{key:"showSeeker",value:function(){var e=this.props,t=e.isImageVideo,n=e.duration;return this.hasAudio()||t||this.props.isStudioPlayable||n>0}},{key:"renderEditorSubtitlesContainer",value:function(){var e=this.props,t=e.scene,n=e.scenes,o=e.selectedSceneId,a=e.refreshKey,r=e.currentUser;return t?Object(oe.jsxs)("div",{className:Vi.a.subtitlesEditorSubtitlesContainer,"data-cy":"editor-studio-subtitles",children:[Object(oe.jsxs)("div",{className:Vi.a.subtitlesEditorTopContainer,children:[Object(oe.jsx)("span",{className:Vi.a.subtitlesEditorHeaderText,children:"Add subtitles to Video"}),!Object(J.f)()&&Object(oe.jsx)("span",{className:Vi.a.subtitlesEditorSubheaderText,children:"Type and time your subtitles. Click each timestamp to use the \u2191 \u2193 or \u2190 \u2192 arrow keys to make finer adjustments."}),Object(oe.jsx)("div",{className:Vi.a.subtitlesEditorSeeker,children:Object(oe.jsxs)("div",{className:Vi.a.trimSeekers,children:[Object(oe.jsx)(Br.a,{canvas:!0,hidden:!0,name:"canvas",setOnPressPlay:this.setOnPressPlay}),Object(oe.jsx)(ln.a,{name:"subtitle"})]})})]}),Object(oe.jsxs)("div",{id:Vi.a.subtitlesEditorSubtitleListContainer,className:Vi.a.subtitlesEditorSubtitleListContainer,onScroll:this.handleScroll,children:[Object(oe.jsx)("div",{className:Vi.a.subtitleToolBarPlaceHolder}),t.layers.map((function(e){return"subtitle"===e.type?Object(oe.jsx)(fi.a,{once:!0,offset:[window.innerHeight,0],scrollContainer:"#".concat(Vi.a.subtitlesEditorSubtitleListContainer),placeholder:Object(oe.jsx)(_o.a,{text:"Loading Subtitles...",textStyles:{padding:"30px 15px",textAlign:"left"},textOnly:!0}),children:Object(oe.jsx)(ui.a,{layerId:e.id,subtitle:e,scene:t,scenes:n,selectedSceneId:o,refreshKey:a,isStudio:!0})},e.id):null})),Object(oe.jsx)(hi.a,{scene:t,isStudio:!0,currentUser:r})]})]}):Object(oe.jsx)(_o.a,{})}},{key:"render",value:function(){var e=this.props,t=e.scene,n=e.refreshKey,o=this.showSeeker();return Object(oe.jsxs)(oe.Fragment,{children:[o?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Fi.a,{source:"Subtitles"}),Object(oe.jsxs)("div",{className:Vi.a.subtitlesEditorWrapper,tabIndex:"0","data-cy":"studio-subtitles",role:"button",children:[Object(oe.jsx)(li.a,{selectedScene:t,layers:t.layers,setVideo:this.setVideo,refreshKey:n,isStudio:!0}),this.renderEditorSubtitlesContainer(),this.renderDoneButton()]})]}):Object(oe.jsxs)(oe.Fragment,{children:[this.renderEmptySeekerSection(),Object(oe.jsx)(Mi,{})]}),Object(oe.jsx)(Di,{}),Object(oe.jsx)(Pr.a,{position:{top:50,right:20},zIndex:10})]})}}]),n}(d.Component),Qi=Object(m.k)(Object(_.c)((function(e){var t=e.studio,n=e.audio,o=e.studio,a=o.scenes,r=o.selectedSceneIndex,i=a[r],s=i.subtitle;return{isStudioPlayable:Object(g.c)()(e),audio:n,scene:i,maxLayerId:i.maxLayerId,showCanvas:t.showCanvas,scenes:t.scenes,selectedSceneId:t.selectedSceneId,selectedSceneIndex:r,layers:i.layers,subtitlesFont:s.font,subtitlesFontSize:s.fontSize,subtitlesFontStyle:s.fontStyle,subtitlesFontWeight:s.fontWeight,subtitlesFontColor:s.fontColor,backgroundColor:s.backgroundColor,textAlign:s.textAlign,textVerticalAlign:s.textVerticalAlign,fixedPosition:s.fixedPosition,lineWidth:s.lineWidth,textShadow:s.textShadow,uploadProgressText:e.sourceVideo.uploadProgressText,refreshKey:t.refreshKey,isImageVideo:i.isImageVideo,currentUser:e.currentUser,duration:e.studio.duration}}),(function(e){return Object(ie.b)({setSubtitleVideo:di.s,addLayer:ue.q,setStudioDimensions:Tn.f,selectLayer:ue.D,sortSubtitleLayers:ue.Q},e)}))(Ri)),Pi=n(43),Ni=n(5),Ui=n(112),Wi=n(882),Ki=(n(1229),n(1230)),Yi=n(377),Gi=n(119),zi=n(276),Xi=n(229),Zi=n(385),Ji=n(998),qi=n(1231),$i=n(1232),es=n(1631),ts=n.n(es),ns=function(e){return!!e&&Object.keys(e).length>0},os=function(e){var t=e.profile,n=Object(d.useState)(!1),o=Object(k.a)(n,2),a=o[0],r=o[1];return ns(t)?Object(oe.jsx)("div",{className:ts.a.accountButton,onClick:function(e){null===Gi.a||void 0===Gi.a||Gi.a.push("/settings/account"),e.stopPropagation()},"data-cy":"account-nav-button",children:Object(oe.jsx)(Yi.a,{absoluteWidth:30,absoluteHeight:30})}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"".concat(ts.a.headerButtonContainer," ").concat(ts.a.signInButton),onClick:function(){r(!0)},"data-cy":"signin-nav-button",children:"Sign In"}),a&&Object(oe.jsx)(Ui.a,{hideSignIn:function(){return r(!1)}})]})},as=function(e){var t=e.currentWorkspaceId,n="/";return t&&(n="/workspace/".concat(t)),Object(oe.jsx)("div",{className:ts.a.headerLogoContainer,onClick:function(e){null===Gi.a||void 0===Gi.a||Gi.a.push(n),e.stopPropagation()},children:Object(oe.jsx)("img",{src:Wi.a,className:ts.a.logo,alt:"Kapwing Logo","data-cy":"studio-header-logo"})})},rs=function(e){var t=e.overlayWithHeader,n=e.videoFetched,o=Object(g.f)((function(e){return{currentUser:e.currentUser,currentWorkspaceId:e.workspaces.selectedWorkspace,duration:e.studio.duration,showCanvas:e.studio.showCanvas}}),_.d),a=o.currentUser,r=o.currentWorkspaceId,i=(a||{}).user,s=Object(zi.d)(r),c=Object(Xi.b)(a),l=Object(ct.b)().isRecording;return Object(oe.jsxs)("div",{className:ts.a.headerContainer+(c?" ".concat(ts.a.impersonating):""),onClick:Bt.c,children:[Object(oe.jsx)(Zi.a,{}),Object(oe.jsxs)("div",{className:ts.a.headerLeft,children:[Object(oe.jsx)(as,{currentWorkspaceId:r}),Object(oe.jsxs)("div",{className:ts.a.breadcrumbContainer,"data-cy":"breadcrumbs",children:[ns(i)?Object(oe.jsx)(Ni.a,{to:"/workspace/".concat(r),onClick:function(e){e.stopPropagation()},className:ts.a.breadcrumb,children:s}):Object(oe.jsx)(Ni.a,{to:"/",onClick:function(e){e.stopPropagation()},className:ts.a.breadcrumb,children:"Home"}),Object(oe.jsx)(Oe.j,{className:ts.a.arrow}),Object(oe.jsx)("div",{className:t?ts.a.breadcrumb:ts.a.breadcrumbSelected,onClick:function(){Object(we.d)()},children:"Studio"}),t&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Oe.j,{className:ts.a.arrow}),Object(oe.jsx)("div",{className:ts.a.breadcrumbSelected,onClick:function(e){e.stopPropagation()},children:t})]})]})]}),Object(oe.jsx)("div",{className:ts.a.headerRowTopProjectName,children:Object(oe.jsx)(qi.a,{})}),Object(oe.jsxs)("div",{className:ts.a.headerRight,children:[!Object(lt.d)(a)&&Object(oe.jsx)(Ni.a,{className:ts.a.upgradeLabel,to:"/upgrade/subscribe/studio",onClick:function(e){e.stopPropagation()},children:"Upgrade"}),Object(oe.jsx)(Ki.a,{}),Object(oe.jsx)($i.a,{videoFetched:n,disabled:Object(q.studioShouldHidePreview)()||l}),Object(oe.jsx)(os,{profile:i})]})]})},is=n(911),ss=n(1632),cs=n.n(ss),ls=function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(us,Object(re.a)({},e)),Object(oe.jsx)(hs,Object(re.a)({},e)),Object(oe.jsx)(ds,Object(re.a)({},e)),Object(oe.jsx)(bs,Object(re.a)({},e))]})},ds=function(e){var t=e.hideTransparent,n=e.defaultSceneBackgroundColor,o=e.scenes;return Object(oe.jsxs)("div",{className:cs.a.controlSection,children:[Object(oe.jsx)("div",{className:cs.a.controlSectionTitle,children:"Background Color"}),Object(oe.jsx)(Yn.a,{color:n,path:"/studio/editor/scenes/background/color",previewList:!0,isBackground:!0,isSceneView:!0,hideTransparent:t,scenes:o})]})},us=function(){return Object(oe.jsxs)("div",{className:cs.a.controlSection,children:[Object(oe.jsx)("div",{className:cs.a.controlSectionTitle,children:"Layer Positioning"}),Object(oe.jsx)(Pn.g,{label:"Fit with border",handleClick:function(){Object(q.studioSetSceneViewPositioning)("fit",!0)}}),Object(oe.jsx)(Pn.g,{label:"Zoom and crop",handleClick:function(){Object(q.studioSetSceneViewPositioning)("crop",!0)}})]})},hs=function(e){for(var t,n,o=e.ratio,a=e.hasCustomOutput,r=e.outputWidth,i=e.outputHeight,s=e.scenes,c=Object(Kn.d)(o),l=c.ratioWidth,d=c.ratioHeight,u=[[1,1],[9,16],[16,9],[4,5],[5,4]],h=-1,b=0;b<u.length;b+=1){var _=u[b];if(t=_[0],n=_[1],t/n*100/100===l/d*100/100){h=b;break}}var p=Math.round(r),m=Math.round(i),j=a?"Custom - ".concat(p," x ").concat(m):"Custom Size";return Object(oe.jsxs)("div",{className:cs.a.controlSection,children:[Object(oe.jsx)("div",{className:cs.a.controlSectionTitle,children:"Aspect Ratio"}),u.map((function(e,t){return Object(oe.jsx)(Pn.g,{label:"".concat(e[0],":").concat(e[1]),selected:h===t&&!a,handleClick:function(){var t,n;t=e[0],n=e[1],Object(q.studioShouldHidePreview)()||(1===s.length&&Object(q.studioShouldHidePreview)()&&(Object(q.studioInitializeAndShowCanvas)(),Object(q.studioChangeImageSceneDuration)(s[0],3)),Object(q.studioSetAspectRatio)(t,n,!0),Object(q.studioSetDefaultOutputSize)(),Object(q.studioHideFullScreenControls)())}},t)})),Object(oe.jsx)(Pn.g,{label:j,selected:a,handleClick:function(){Object(we.c)("/studio/editor/scenes/output-resize")}})]})},bs=function(e){var t=e.audio,n=t&&(t.url||t.local_url),o=n?"Edit Audio":"Add Audio",a=n?null:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Bi.B,{})," \xa0\xa0"]});return Object(oe.jsxs)("div",{className:cs.a.controlSection,children:[Object(oe.jsx)("div",{className:cs.a.controlSectionTitle,children:"Audio"}),Object(oe.jsx)(Pn.g,{label:o,icon:a,handleClick:function(){Object(we.c)("/studio/editor/audio")}})]})},_s=n(1265),ps=n(863),ms=n(1633),js=n.n(ms),fs=n(1255),gs=n.n(fs),Ss=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).removeScene=function(){var t=e.props.scene;Object(q.studioRemoveScene)(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=Object(Z.e)(),t=this.props.sceneIndex;return Object(oe.jsx)("div",{className:gs.a.deleteButtonContainer,children:Object(oe.jsxs)("div",{className:gs.a.actionButton,onClick:this.removeScene,"data-cy":t?"scene-view-delete-scene-".concat(t,"-button"):"scene-view-delete-scene-button",children:[Object(oe.jsx)("div",{className:gs.a.actionButtonIcon,children:Object(oe.jsx)(Oe.r,{})}),e?null:Object(oe.jsx)("div",{className:gs.a.actionButtonText,children:"Delete"})]})})}}]),n}(d.Component),vs=Object(m.k)(Object(_.c)(void 0,void 0)(Ss)),Os=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).goToTrimmer=function(){var t=e.props.scene.layers.filter((function(e){return"video"===e.type})).reduce((function(e,t){var n=Object(le.f)(t);return Object(le.f)(e)>n?e:t}));t&&(Object(q.studioSelectLayer)(t.id),Object(q.studioSetSceneViewTrimming)(!0),Object(we.c)("/studio/editor"))},e.duplicateScene=function(){var t=e.props,n=t.scene,o=t.sceneIndex;Object(q.studioDuplicateScene)(n,o+1)},e.renderTrimText=function(){var t=e.props.scene,n="Trim",o=!1;return t.layers.forEach((function(e){"video"===e.type&&(o=e.isTrimmed)})),o&&(n="Edit trim"),n},e}return Object(s.a)(n,[{key:"renderEditAction",value:function(){var e=this.props,t=e.scene,n=e.editScene;return Object(oe.jsx)("div",{className:gs.a.actionButton,onClick:function(){n(t)},children:Object(oe.jsx)("div",{className:gs.a.actionButtonIcon,children:Object(oe.jsx)(Oe.s,{})})})}},{key:"renderDurationAction",value:function(){var e=this.props.scene,t=Object(Z.e)(),n=!1;return e.layers.forEach((function(e){"video"===e.type&&(n=!0)})),n?Object(oe.jsx)(oe.Fragment,{}):Object(oe.jsxs)("div",{"data-cy":"duration-button",className:gs.a.actionButton,onClick:function(){Object(q.studioSelectScene)(e),Object(we.c)("/studio/editor/scenes/duration")},children:[Object(oe.jsx)("div",{className:gs.a.actionButtonIcon,children:Object(oe.jsx)(Oe.gb,{})}),!t&&Object(oe.jsx)("div",{className:gs.a.actionButtonText,children:"Edit duration"})]})}},{key:"render",value:function(){var e=this.props,t=e.scene,n=e.sceneIndex,o=Object(Z.e)();return Object(oe.jsxs)("div",{className:gs.a.actions,"data-cy":"scene-actions",children:[o?this.renderEditAction():null,this.renderDurationAction(),Object(oe.jsxs)("div",{className:gs.a.actionButton,onClick:this.duplicateScene,"data-cy":n?"scene-view-duplicate-scene-".concat(n,"-button"):"scene-view-duplicate-scene-button",children:[Object(oe.jsx)("div",{className:gs.a.actionButtonIcon,children:Object(oe.jsx)(Oe.p,{})}),!o&&Object(oe.jsx)("div",{className:gs.a.actionButtonText,children:"Duplicate"})]}),Object(oe.jsx)(vs,{scene:t,sceneIndex:n})]})}}]),n}(d.Component),ys=Object(m.k)(Os),Cs=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).editScene=function(e){Object(we.d)(),Object(q.studioSelectScene)(e),1===e.layers.length&&Object(q.studioSelectLayer)(e.layers[0].id)},e.selectScene=function(){var t=e.props.scene;Object(q.studioSelectScene)(t)},e}return Object(s.a)(n,[{key:"renderTrimText",value:function(e){var t="Trimmed";return(e.startTime>=0||e.endTime>e.startTime)&&(t+=" from ".concat(Object(ps.c)(e.startTime)," - ").concat(Object(ps.c)(e.endTime))),Object(oe.jsx)("span",{className:js.a.infoText,children:t})}},{key:"renderVideoClipInfo",value:function(){var e=this.props,t=e.scene,n=e.sceneIndex,o="";if(1===t.layers.length){var a=t.layers[0].type;o="".concat(a[0].toUpperCase()).concat(a.slice(1)," Layer")}else o="Scene ".concat(n+1);return Object(oe.jsxs)("div",{className:js.a.info,children:[Object(oe.jsx)("div",{className:js.a.infoText,children:o}),this.renderEditButton()]})}},{key:"renderEditButton",value:function(){var e=this,t=this.props,n=t.scene,o=t.isDragging,a=t.sceneIndex;return o?null:Object(oe.jsx)("div",{className:js.a.edit,"data-cy":a?"edit-scene-".concat(a,"-button"):"edit-scene-button",onClick:function(){e.editScene(n)},children:"Edit"})}},{key:"render",value:function(){var e=this.props,t=e.scene,n=e.sceneIndex;return Object(oe.jsxs)("div",{className:js.a.container,onClick:this.selectScene,children:[Object(oe.jsx)("div",{className:js.a.preview,children:Object(oe.jsx)(is.a,{maxHeight:100,maxWidth:150,forceMaxWidthOrHeight:!0,scene:t,layers:t.layers,duration:t.duration,staticPreview:!0,showAllLayers:!0})}),Object(oe.jsxs)("div",{className:js.a.centerContainer,children:[this.renderVideoClipInfo(),Object(oe.jsx)("div",{"data-cy":"scene-duration",className:js.a.sceneDuration,children:Object(ps.c)(t.duration)}),Object(oe.jsx)(ys,{scene:t,editScene:this.editScene,sceneIndex:n})]})]})}}]),n}(d.Component),xs=Object(m.k)(Object(_.c)((function(e){return{layers:e.studio.scenes[e.studio.selectedSceneIndex].layers}}),void 0)(Cs)),As=n(1634),Bs=n.n(As),ws=function(e,t,n,o){return Object(re.a)({userSelect:"none",borderRadius:4,boxShadow:parseInt(n,10)===parseInt(o,10)?"0 0 0 4px #5969e2":"0 0",background:e?"#5969e2":"#31343E",margin:"0 0 10px 0"},t)},ks=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).onDragStart=function(){var e=o.props,t=e.playing,n=e.pause;o.setState({dragging:!0}),t&&(o.setState({wasPlaying:!0}),n())},o.onDragEnd=function(e){var t=o.state.wasPlaying,n=o.props,a=n.play,r=n.scenes;if(e.destination){o.setState({dragging:!1});var i=r[e.source.index],s=e.destination.index-e.source.index;0!==s&&Object(q.studioReorderScene)(i,s),t&&(a(),o.setState({wasPlaying:!1}))}},o.getWrapperStyle=function(){return o.state.dragging?Bs.a.wrapperDrag:Bs.a.wrapper},o.state={wasPlaying:!1,dragging:!1},o}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.scenes,n=e.selectedSceneIndex;return Object(oe.jsx)("div",{className:this.getWrapperStyle(),"data-cy":"scene-view-list-item",children:Object(oe.jsx)(_s.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart,children:Object(oe.jsx)(_s.c,{droppableId:"droppable",children:function(e){return Object(oe.jsx)("div",{ref:e.innerRef,children:t.map((function(e,t){return Object(oe.jsx)(_s.b,{draggableId:e.id,index:t,children:function(o,a){return Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",Object(re.a)(Object(re.a)(Object(re.a)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{style:ws(a.isDragging,o.draggableProps.style,n,t),children:Object(oe.jsx)(xs,{scene:e,sceneIndex:t,isDragging:a.isDragging,sceneDuration:e.duration},e.id)})),o.placeholder]})}},e.id)}))})}})})})}}]),n}(d.Component),Es=Object(_.c)(void 0,void 0)(ks),Ts=n(1635),Is=n.n(Ts),Ls=function(e){var t=e.sceneView,n=e.layersUploading,o=e.newBlankScene,a=e.hideLoadingIndicator;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:Is.a.uploadContainer,children:Object(oe.jsx)(Dn.a,{handlePreemptiveFinish:function(e){return Object(mn.o)(e,!1,"",{},t||{})},handleFinish:function(e){return Object(mn.p)(e)},multiple:!0,hideLoadingIndicator:a,uploadLocation:"sceneView"})}),Object(oe.jsx)(Ds,{layersUploading:n,newBlankScene:o})]})},Ds=function(e){var t=e.layersUploading,n=e.newBlankScene;return t?null:Object(oe.jsx)("div",{className:Is.a.newSceneContainer,children:Object(oe.jsx)("div",{className:Is.a.newSceneButton,"data-cy":"scene-view-add-new-scene-button",onClick:function(){n(),Object(q.studioCheckCustomOutputSize)()},children:"Or, add a blank scene"})})},Hs=function(e){var t=e.progressText;return Object(oe.jsx)("div",{className:Is.a.loading,children:Object(oe.jsxs)("div",{className:Is.a.uploadLoading,children:[Object(oe.jsx)("div",{className:[Is.a.loader,Is.a.uploadLoader].join(" ")}),t]})})},Vs=Object(_.c)((function(e){return{audio:e.audio,scenes:e.studio.scenes,selectedSceneIndex:e.studio.selectedSceneIndex,selectedScene:e.studio.scenes[e.studio.selectedSceneIndex],studioPaused:e.studio.studioPaused,ratio:e.studio.ratio,hasCustomOutput:e.studio.hasCustomOutput,outputWidth:e.studio.customOutputWidth,outputHeight:e.studio.customOutputHeight,sceneView:e.studio.sceneView,layers:e.studio.scenes[e.studio.selectedSceneIndex].layers,duration:e.studio.duration,videoType:e.studio.videoType,uploadStatuses:e.uploadStatuses||{}}})),Ms=Object(m.k)(Vs((function(e){var t=e.audio,n=e.videoFetched,o=e.scenes,a=e.selectedScene,r=e.selectedSceneIndex,i=e.studioPaused,s=e.ratio,c=e.hasCustomOutput,l=e.outputWidth,u=e.outputHeight,h=e.sceneView,b=e.layers,_=e.duration,p=e.videoType,m=e.uploadStatuses,j=Object(d.useRef)(o),f=Object(Z.k)(),g=Object(Pi.x)(o),S=Object(Pi.q)(o),v=g.length>0,O=Object(d.useState)(!1),y=Object(k.a)(O,2),C=y[0],x=y[1],A=Object(d.useState)(null),B=Object(k.a)(A,2)[1],w=Object(d.useState)(null),E=Object(k.a)(w,2),T=E[0],I=E[1],L=e.scenes[e.selectedSceneIndex].layers.filter((function(e){return"video"===e.type&&!e.videoDelay})).length,D=Object(d.useState)(0),H=Object(k.a)(D,2),V=H[0],M=H[1],F=Object(d.useState)(0===L),R=Object(k.a)(F,2),Q=R[0],P=R[1];Object(d.useEffect)((function(){j.current=o}),[o,s]),Object(d.useEffect)((function(){return 1===o.length&&Object(q.studioShouldHidePreview)()&&Object(q.studioSetDefaultDimensions)(),Object(q.studioSetOverlayWithHeader)("Scenes"),Object(q.studioInitializeSceneViewParams)(),mt.b.setMinimumIndex(),function(){mt.b.setMinimumIndex(!1),Object(q.studioSetOverlayWithHeader)(void 0)}}),[]);var N=function(){1===o.length&&Object(q.studioShouldHidePreview)()?(Object(q.studioInitializeAndShowCanvas)(),Object(q.studioChangeImageSceneDuration)(o[0],3)):Object(q.studioNewBlankScene)()},U=function(e){I((function(){return e}))},W=b.filter((function(e){return"image/gif"===e.mime||"image/gif"===e.content_type})).length>0&&"gif"!==p||_>0&&"gif"!==p,K=Object(le.c)(o,r,Q),Y=Object(d.useCallback)((function(e){return m[e.uploadId]}),[m]),G=v||S;return Object(oe.jsxs)("div",{className:Is.a.sceneViewPageContainer,onDragEnter:function(t){t.dataTransfer&&t.dataTransfer.types&&t.dataTransfer.types.includes&&t.dataTransfer.types.includes("Files")&&(Object(we.c)("/studio/editor/scenes/drag-upload"),C||B(e.location.pathname),x(!0))},onDrop:function(){x(!0)},onDragOver:function(){x(!0)},children:[Object(oe.jsx)(rs,{videoFetched:n,hideBottom:!0,overlayWithHeader:"Scenes"}),Object(oe.jsxs)("div",{"data-cy":"scene-view-container",className:Is.a.sceneViewContainer,children:[Object(q.studioShouldHidePreview)()&&f?Object(oe.jsx)("div",{className:Is.a.sceneViewRightContainer,children:Object(oe.jsx)("div",{className:Is.a.noVideoUploadAndNewSceneContainer,children:Object(oe.jsx)(Ls,{sceneView:h,layersUploading:v,newBlankScene:N})})}):null,Object(oe.jsxs)("div",{className:Is.a.sceneViewLeftContainer,children:[Object(oe.jsxs)("div",{className:f&&Object(q.studioShouldHidePreview)()?Is.a.noVideoPreviewContainer:Is.a.videoPreviewContainer,children:[Object(q.studioShouldHidePreview)()?null:Object(oe.jsx)(is.a,{scene:a,layers:K,maxWidth:300,maxHeight:300,multiScene:!0,onVideoLoad:function(){M(V+1),P(V>=L)}}),Object(q.studioShouldHidePreview)()&&!f?Object(oe.jsx)("div",{className:Is.a.noScenesPreview,children:"No clips to show. Upload your first clip to get started!"}):null,Object(oe.jsx)("div",{className:Is.a.editInStudioButton,onClick:function(){var e=Object(_n.c)();Object(q.studioSelectScene)(e),1===e.layers.length&&Object(q.studioSelectLayer)(e.layers[0].id),Object(we.d)()},children:"Edit in Studio"})]}),Object(oe.jsx)("div",{className:Is.a.controlsContainer,children:Object(oe.jsx)(ls,{defaultSceneBackgroundColor:h?h.defaultBackground:"#FFFFFF",ratio:s,hasCustomOutput:c,outputWidth:l,outputHeight:u,scenes:o,audio:t,sceneViewLayerPositioning:h&&h.layerPositioning?h.layerPositioning:"fit",hideTransparent:W})})]}),Object(oe.jsxs)("div",{className:Is.a.sceneViewRightContainer,children:[!Object(q.studioShouldHidePreview)()&&f?Object(oe.jsxs)("div",{className:Is.a.seekerContainer,children:[Object(oe.jsx)(Br.a,{canvas:!0,hidden:!0,multiScene:!0,name:"canvas",setOnPressPlay:U}),Object(oe.jsx)(ln.a,{name:"sceneview",multiScene:!0,onPressPlay:T})]}):null,Object(oe.jsxs)("div",{className:Is.a.scenesAndUploadContainer,children:[Object(q.studioShouldHidePreview)()?null:Object(oe.jsx)(Es,{scenes:o,play:Zn.e,pause:Zn.d,playing:!i,selectedSceneIndex:r}),Object(q.studioShouldHidePreview)()&&f?null:Object(oe.jsxs)("div",{className:Is.a.uploadAndNewSceneContainer,children:[G&&Object(oe.jsx)(Hs,{progressText:function(){var e,t={};return function(e){var t=g.map(Y);t.length>1?e.multipleFileState=!0:e.multipleFileState=!1,t.forEach((function(t){var n,o,a;if(t)if(!e.uploading_original||e.uploading_original>(t.progress||0))e.uploading_original=t.progress;else if(!e.gather_assets||e.gather_assets>((null===(n=t.conversionProgress)||void 0===n?void 0:n.gather_assets)||0)){var r;e.gather_assets=null===(r=t.conversionProgress)||void 0===r?void 0:r.gather_assets}else if(!e.conversion||e.conversion>((null===(o=t.conversionProgress)||void 0===o?void 0:o.conversion)||0)){var i;e.conversion=null===(i=t.conversionProgress)||void 0===i?void 0:i.conversion}else if(!e.uploading_converted||e.uploading_converted>((null===(a=t.conversionProgress)||void 0===a?void 0:a.uploading_converted)||0)){var s;e.uploading_converted=null===(s=t.conversionProgress)||void 0===s?void 0:s.uploading_converted}}))}(t),t.multipleFileState?"Uploading ...":(e=t)?(e.uploading_original||0)<100?"Uploading ... ".concat(e.uploading_original,"%"):(e.gather_assets||0)<100?"Gathering Assets ...":(e.conversion||0)<100?"Converting ... ".concat(null!=e.conversion?"".concat(e.conversion,"%"):""):(e.uploading_converted||0)<100?"Uploading ...":S?"Converting file to MP4 ...":"Uploading ...":"Uploading..."}()}),Object(oe.jsx)(Ls,{sceneView:h,layersUploading:v,newBlankScene:N,hideLoadingIndicator:G})]})]}),Object(q.studioShouldHidePreview)()||f?null:Object(oe.jsxs)("div",{className:Is.a.seekerContainer,children:[Object(oe.jsx)(Br.a,{canvas:!0,hidden:!0,multiScene:!0,name:"canvas",setOnPressPlay:U}),Object(oe.jsx)(ln.a,{name:"sceneview",multiScene:!0})]})]})]})]})}))),Fs=n(1268),Rs=n(1636),Qs=n.n(Rs),Ps=function(){return Object(oe.jsx)("div",{className:Qs.a.studioBlank,children:Object(oe.jsx)(_o.a,{text:"Loading Studio ...",textStyles:{color:"white",fontSize:16,fontWeight:600,fontFamily:"Open Sans"}})})},Ns=function(){return Object(oe.jsx)("div",{className:Qs.a.studioBlank,children:Object(oe.jsx)(Rn,{})})},Us=function(e){var t=e.path,n=Object(d.useRef)(!0);return Object(d.useEffect)((function(){n.current?(Object(Zn.d)(),n.current=!1):t.match("studio/editor/.*tab/[a-z]")||Object(q.studioHideFullScreenControls)()}),[t]),Object(oe.jsxs)("div",{className:Qs.a.fullScreenControlsContainer,children:[Object(oe.jsx)(Un.a,{style:{justifyContent:"flex-end"},children:Object(oe.jsx)(Ws,{handleClick:q.studioHideFullScreenControls})}),Object(oe.jsx)(xr,{mobile:!0}),Object(oe.jsx)(Ks,{handleClick:q.studioHideFullScreenControls})]})},Ws=function(e){var t=e.handleClick;return Object(oe.jsx)("div",{className:Qs.a.closeFullScreenControls,children:Object(oe.jsx)(Oe.l,{className:Qs.a.closeFullScreenControlsButton,onClick:function(e){t(),e.stopPropagation()}})})},Ks=function(e){var t=e.handleClick;return Object(oe.jsx)("div",{className:Qs.a.fullScreenDoneButtonContainer,children:Object(oe.jsx)(Nr,{style:{fontSize:"16px",paddingLeft:"100px",paddingRight:"100px",maxHeight:"70px",fontFamily:'"Open Sans", "Sans Serif"',height:"36px",fontWeight:600},handleClick:t,children:"Done"})})},Ys=Object(_.c)((function(e){return{fullScreenControls:e.studio.fullScreenControls,currentUser:e.currentUser,currentWorkspaceId:e.workspaces.selectedWorkspace,refetching:e.refetching,isProjectFetched:e.studio.isProjectFetched,showCanvas:e.studio.showCanvas,hideTimeline:Object(he.a)(e),isMediaSidebarExpanded:Object(he.d)(e)}})),Gs=Object(m.k)(Ys((function(e){var t=e.videoFetched,n=e.setVideoFetched,o=e.currentUser,a=e.currentWorkspaceId,r=e.fullScreenControls,i=e.history,s=e.location,c=e.match,l=e.refetching,u=e.hideTimeline,h=e.isProjectFetched,b=e.isMediaSidebarExpanded,p=Object(_.e)(),m=Object(d.useState)(null),j=Object(k.a)(m,2),f=j[0],g=j[1],S=function(e){g((function(){return e}))},v=function(e){switch(e.statusCode){case 403:return void i.push("/editor/videos/".concat(c.params.id));case 410:i.push("/")}Object(mr.a)(e.message)};Object(d.useEffect)((function(){return s.pathname.startsWith("/studio/editor")&&p(Object(En.k)()),Object(q.studioSetOverlayUnmounted)(),Object(q.studioResetEditorFlags)(),Object(q.studioMarkAsStudio)(),Object(q.studioSetEditorPath)("/studio/editor"),mt.b.reset(),c.params.id?(Object(lt.f)(o)&&(a||Object(q.getCurrentWorkspace)()),Object(q.studioFetchVideo)(c.params.id,!0,!0,!0).then((function(e){e.isCreator||Object(mr.a)("Incorrect video type"),n()})).catch(v)):Object(lt.f)(o)?(a||Object(q.getCurrentWorkspace)(),n()):(Object(q.studioSetVideoId)(null),n()),Object(Ar.a)(),Object(q.studioCleanLocalLayersWithMissingUrls)(),function(){mt.b.reset(),Object(q.studioCleanLocalLayersWithMissingUrls)()}}),[]);var O=Object(Z.k)(),y=l||!t&&Object(lt.f)(o),C=function(e){return Object(oe.jsxs)(oe.Fragment,{children:[e(),Object(oe.jsx)(Ze.a,{videoFetched:t}),Object(oe.jsx)(ni,{})]})};if(Object(we.j)())return C((function(){return Object(oe.jsx)(Qi,{})}));if(Object(we.e)())return C((function(){return Object(oe.jsx)(ii,{})}));if(Object(we.k)())return C((function(){return Object(oe.jsx)(ci,{})}));if(Object(we.h)())return C((function(){return Object(oe.jsx)(Ms,{videoFetched:t})}));var x=function(){return Object(oe.jsx)("div",{className:Qs.a.studioBottom,children:Object(oe.jsx)(pn,{onPressPlay:f})})},A=O&&!b;return h?Object(oe.jsxs)("div",{className:Qs.a.studioWrapper,children:[O&&r&&Object(oe.jsx)(Us,{path:Object(we.a)(s.pathname)}),-1===s.pathname.indexOf("/scenes")&&Object(oe.jsx)(Qn.c,{videoFetched:t}),O?Object(oe.jsx)("div",{className:Qs.a.mobileToolTipWrapper,children:Object(oe.jsx)(Fs.a,{mobileToolTip:!0})}):Object(oe.jsx)(Fs.a,{}),Object(oe.jsx)(kn,{}),Object(oe.jsx)(Ze.a,{videoFetched:t}),Object(oe.jsx)("div",{className:Qs.a.container,children:Object(oe.jsxs)(Je,{className:Qs.a.editor,children:[Object(q.studioCanvasShouldRender)(s.pathname)&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:Qs.a.studioTop,children:[!y&&Object(oe.jsx)("div",{className:"\n                      ".concat(b?Qs.a.studioLeftExpanded:Qs.a.studioLeftCollapsed,"\n                      ").concat(A?Qs.a.hideMediaSidebar:"","\n                    "),children:Object(oe.jsx)("div",{className:Qs.a.studioLeftContainer,children:Object(oe.jsx)(Or.a,{})})}),Object(oe.jsxs)("div",{className:Qs.a.studioCenter,children:[y?Object(oe.jsx)(Ps,{}):Object(q.studioShouldHidePreview)()?Object(oe.jsx)(Ns,{}):Object(oe.jsx)(zr,{setOnPressPlayWrapper:S}),u&&x()]}),!O&&!y&&!Object(q.studioShouldHidePreview)()&&Object(oe.jsx)("div",{className:Qs.a.studioRight,children:Object(oe.jsx)("div",{className:Qs.a.studioRightContainer,children:Object(oe.jsx)(xr,{})})})]}),!u&&x()]}),Object(oe.jsx)(ni,{}),Object(oe.jsx)(on,{})]})})]}):Object(oe.jsx)(an.a,{gray:!0})}))),zs=n(1637),Xs=Object(zs.a)(/(layer\/)((?:(?![\t-\r \/\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])*)(.*)/,{layerId:2}),Zs=function(){var e=Object(m.i)().pathname,t=Object(m.h)().replace,n=Object(m.j)().layerId,o=Object(g.f)((function(e){return e.studio.selectedLayerId})),a=Object(d.useRef)(o),r=Object(d.useState)(!1),i=Object(k.a)(r,2),s=i[0],c=i[1],l=Or.b.map((function(e){return e.slug})),u=e.split("/"),h=u.indexOf("editor")+1,b=u.slice(0,h).join("/"),_=u.slice(h).join("/"),p=Object(d.useCallback)((function(n){var o="".concat(b).concat(n?"/".concat(n):"");e!==o&&t(o)}),[b,t,e]);return Object(d.useEffect)((function(){if(n)if(o&&"background"!==o){var e=_.replace(Xs,"$1".concat(o,"$3"));p(e)}else p("");""===_&&o&&"background"!==o&&p("layer/".concat(o)),l.indexOf(_)>=0&&!a.current&&o&&p(o&&"background"!==o?"layer/".concat(o):"")}),[o,p,_,n,l]),Object(d.useEffect)((function(){s||(n&&Object(q.studioSelectLayer)(n),c(!0))}),[s,e,n]),Object(d.useEffect)((function(){a.current=o}),[o]),null},Js=n(227),qs=n(1638),$s=n.n(qs);var ec=function(){var e=Object(m.i)().pathname,t=Object(_.e)(),n=Or.b.map((function(e){return{route:"/studio/editor/".concat(e.iconLabel),id:e.iconLabel}}));return Object(d.useEffect)((function(){var n,o=Object(E.a)(Or.b);try{for(o.s();!(n=o.n()).done;){var a=n.value,r=a.iconLabel,i=a.slug,s="/studio/editor/".concat(i);if(i&&e.includes(s)){t(Object(v.q)(!0)),t(Object(Ji.a)(r,"media-sidebar"));break}}}catch(c){o.e(c)}finally{o.f()}}),[t,e,n]),Object(oe.jsx)(oe.Fragment,{})},tc=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).ref=u.a.createRef(),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=this.ref.current)||void 0===e||e.appendChild(this.props.el)}},{key:"render",value:function(){return Object(oe.jsx)("div",{ref:this.ref})}}]),n}(u.a.Component),nc=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).childContainer=document.createElement("div"),o.canUserEditVideo=Object(r.a)(a.a.mark((function e(){var t,n,r,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.props.currentVideo.privacy!==X.D.private){e.next=2;break}return e.abrupt("return");case 2:if(t=Object(p.a)(),n=t.dispatch,r=o.props.currentVideo,e.prev=4,r._id){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n(Object(j.b)(r._id));case 9:i=e.sent,s=i.canEdit,o.setState({canEdit:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])}))),o.handleExit=function(e){var t=!0,n=Object(p.a)().state,a=n.currentVideo,r=n.videoSaving;return Object(it.b)(a._id,o.state.videoFetched,r)||Object(Pi.r)(n)?(e.returnValue=t,t):null},o.getNavigationWarningMessage=function(e){var t=Object(p.a)().state,n=t.currentVideo,a=t.videoSaving,r=e.pathname,i="Are you sure you want to leave? We are saving your most recent changes. If you leave now, you may lose some progress.";return!r.startsWith("/settings/account")&&!r.startsWith("/workspace/")&&"/"!==r||(Object(it.b)(n._id,o.state.videoFetched,a)?i:!Object(Pi.r)(t)||i)},o.fetchedVideo=function(){o.setState({videoFetched:!0}),o.canUserEditVideo()},o.cancelOverlay=function(){return o.setState({canEdit:!0})},o.confirmOverlay=function(){var e=o.props,t=e.history,n=e.currentVideo;e.currentUser.token?(o.setState({canEdit:!0}),t.push("/editor/videos/".concat(n._id))):o.setState({showSignIn:!0,canEdit:!0})},o.renderCanvas=function(){return Object(oe.jsx)(tc,{el:o.childContainer})},o.renderCanvasContainer=function(){return Object(oe.jsx)(ae,{el:o.childContainer})},o.ctx={renderCanvas:o.renderCanvas,renderCanvasContainer:o.renderCanvasContainer},o.renderNoAccessOverlay=function(){var e=o.state.canEdit,t={confirmFn:o.confirmOverlay,cancelText:"Continue",confirmText:"Make a Copy"};return!e&&Object(oe.jsx)(Js.a,{unsetCancelModal:o.cancelOverlay,confirmButtonOptions:t,children:Object(oe.jsxs)("div",{className:$s.a.accessModalContainer,children:[Object(oe.jsx)("h1",{className:$s.a.accessModalTitle,children:"Make a copy to save changes"}),Object(oe.jsx)("div",{className:$s.a.accessModalDescription,children:"It appears that you are trying to access a video that you don't have permissions to. To start collaborating on the same video, ask the owner for a shared link. Or you can make a copy of the video to edit on your own."})]})})},o.state={canEdit:!0,showSignIn:!1,videoFetched:!1},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleExit),"undefined"!==typeof window&&(window.idbCache={})}},{key:"componentDidUpdate",value:function(e){var t=this.props.currentVideo,n=e.currentVideo;t._id!==n._id&&t._id&&this.canUserEditVideo()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleExit)}},{key:"shouldWarnUserWhenNavigatingAway",value:function(){var e=Object(p.a)().state,t=e.currentVideo,n=e.videoSaving;return!!Object(it.b)(t._id,this.state.videoFetched,n)||!!Object(Pi.r)(e)}},{key:"render",value:function(){var e=this;return Object(oe.jsxs)(ct.a,{children:[this.state.showSignIn&&Object(oe.jsx)(Ui.a,{hideSignIn:function(){return e.setState({showSignIn:!1})}}),this.renderNoAccessOverlay(),b.a.createPortal(Object(oe.jsx)(rt,{}),this.childContainer),Object(oe.jsxs)(st.a.Provider,{value:this.ctx,children:[Object(oe.jsx)(G,{}),Object(oe.jsx)(Gs,{videoFetched:this.state.videoFetched,setVideoFetched:this.fetchedVideo}),Object(oe.jsx)(m.a,{when:this.shouldWarnUserWhenNavigatingAway(),message:this.getNavigationWarningMessage})]}),Object(oe.jsx)(Zs,{}),Object(oe.jsx)(ec,{})]})}}]),n}(u.a.Component),oc=Object(_.c)((function(e){return{canvasHeight:e.studio.height,canvasWidth:e.studio.width,currentUser:e.currentUser,currentVideo:e.currentVideo}}));t.default=Object(m.k)(oc(nc))},981:function(e,t,n){e.exports={contextMenuOverlay:"ContextMenu_contextMenuOverlay__FIE4i",contextMenuContainer:"ContextMenu_contextMenuContainer__UVEc-",contextMenuContainerWide:"ContextMenu_contextMenuContainerWide__25XWk",mobileContainer:"ContextMenu_mobileContainer__SxlY_",item:"ContextMenu_item__IpgG5",mobileItem:"ContextMenu_mobileItem__3MNEt",icon:"ContextMenu_icon__EmiLz",iconChar:"ContextMenu_iconChar__mhPNQ",iconCharBracket:"ContextMenu_iconCharBracket__1UwLf",separator:"ContextMenu_separator__2PSky"}}}]);